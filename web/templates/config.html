<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>配置管理 - Web任务系统</title>
    <link rel="icon" type="image/svg+xml" href="/static/favicon.svg">
    <link rel="stylesheet" href="/static/css/style.css?v=6">
</head>
<body>
    <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="菜单">☰</button>
    <div class="sidebar-overlay" id="sidebarOverlay"></div>
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h2>Web任务系统</h2>
        </div>
        <nav class="sidebar-nav">
            <a href="/config" class="nav-item active">
                <span class="nav-icon">⚙️</span>
                <span class="nav-text">配置管理</span>
            </a>
            <a href="/tasks" class="nav-item">
                <span class="nav-icon">📋</span>
                <span class="nav-text">任务管理</span>
            </a>
            <a href="/data" class="nav-item">
                <span class="nav-icon">📊</span>
                <span class="nav-text">数据展示</span>
            </a>
            <a href="/logs" class="nav-item">
                <span class="nav-icon">📝</span>
                <span class="nav-text">日志查看</span>
            </a>
        </nav>
        <div class="sidebar-footer">
            <button id="changePasswordBtn" class="btn btn-secondary" style="margin-bottom: 10px;">
                <span>🔐</span>
                修改密码
            </button>
            <button id="logoutBtn" class="btn btn-secondary">
                <span>🚪</span>
                退出登录
            </button>
        </div>
        <div class="version-info">
            <a id="currentVersion" href="#" target="_blank">加载中...</a>
        </div>
    </div>

    <!-- 修改密码模态框 -->
    <div id="changePasswordModal" class="modal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>修改密码</h3>
                <button class="modal-close" id="closePasswordModal">&times;</button>
            </div>
            <form id="changePasswordForm">
                <div class="modal-body">
                    <div class="form-group">
                        <label for="oldPassword">当前密码</label>
                        <input type="password" id="oldPassword" name="old_password" required placeholder="请输入当前密码">
                    </div>
                    <div class="form-group">
                        <label for="newPassword">新密码</label>
                        <input type="password" id="newPassword" name="new_password" required placeholder="请输入新密码（至少3个字符）">
                    </div>
                    <div class="form-group">
                        <label for="confirmPassword">确认新密码</label>
                        <input type="password" id="confirmPassword" name="confirm_password" required placeholder="请再次输入新密码">
                    </div>
                    <div id="passwordMessage" class="password-message"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" id="cancelPasswordChange">取消</button>
                    <button type="submit" class="btn btn-primary">确认修改</button>
                </div>
            </form>
        </div>
    </div>

    <!-- 版本更新提示横幅 -->
    <div id="updateBanner" class="update-banner">
        <div class="update-banner-content">
            <span class="update-banner-icon">🎉</span>
            <span class="update-banner-text">
                发现新版本 <strong id="latestVersion"></strong>！
                <a id="releasesLink" href="#" target="_blank">前往更新</a>
            </span>
        </div>
        <button id="dismissUpdateBanner" class="update-banner-close" title="关闭">&times;</button>
    </div>

    <div class="main-content">
        <div class="content-header">
            <h1>配置管理</h1>
            <p class="subtitle">修改配置文件，保存后会自动热重载生效</p>
        </div>
        <div class="content-body">
            
            <!-- 视图切换标签 -->
            <div class="tabs" style="margin-bottom: 24px;">
                <button class="tab-btn active" data-view="table">📋 表格视图</button>
                <button class="tab-btn" data-view="text">📝 文本视图</button>
            </div>
            
            <!-- 表格视图容器 -->
            <div id="tableView" class="view-container">
            <!-- 折叠/展开全部按钮 -->
            <div class="collapse-all-actions">
                <button id="collapseAllBtn" class="btn btn-secondary">
                    <span>📁</span>
                    全部折叠
                </button>
                <button id="expandAllBtn" class="btn btn-secondary">
                    <span>📂</span>
                    全部展开
                </button>
            </div>

            <!-- 模块切换与搜索 -->
            <div class="config-module-nav">
                <div class="config-module-tabs">
                    <button class="config-module-tab active" data-module="monitor">📡 监控任务</button>
                    <button class="config-module-tab" data-module="scheduled">⏰ 定时任务</button>
                    <button class="config-module-tab" data-module="push">📢 推送配置</button>
                    <button class="config-module-tab" data-module="ai">🤖 AI 配置</button>
                    <button class="config-module-tab" data-module="plugins">🔌 插件</button>
                </div>
                <div class="config-module-search-wrap">
                    <input type="text" id="configModuleSearch" class="form-input config-module-search" placeholder="在监控任务中搜索..." autocomplete="off">
                </div>
            </div>

            <!-- 微博监控配置 -->
            <div class="card config-section fade-in" data-section="weibo" data-module="monitor">
                <div class="card-header">
                    <h2>📱 微博监控配置</h2>
                    <div class="card-actions">
                        <button class="btn btn-secondary section-reload-btn">
                            <span>🔄</span>
                            重新加载
                        </button>
                        <button class="btn btn-primary section-save-btn">
                            <span>💾</span>
                            保存配置
                        </button>
                    </div>
                </div>
                <div class="card-body">
                    <table class="config-table">
                        <tr>
                            <td class="config-label">启用微博监控</td>
                            <td>
                                <label class="switch">
                                    <input type="checkbox" id="weibo_enable" checked>
                                    <span class="slider"></span>
                                </label>
                                <span class="switch-label" id="weibo_enable_label">开启</span>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">Cookie</td>
                            <td><input type="text" id="weibo_cookie" class="form-input" placeholder="请输入微博Cookie"></td>
                        </tr>
                        <tr>
                            <td class="config-label">UID列表</td>
                            <td><textarea id="weibo_uids" class="form-textarea" rows="3" placeholder="请输入UID列表，逗号分隔"></textarea></td>
                        </tr>
                        <tr>
                            <td class="config-label">并发数</td>
                            <td><input type="number" id="weibo_concurrency" class="form-input" min="1" max="10" placeholder="建议2-5"></td>
                        </tr>
                        <tr>
                            <td class="config-label">监控间隔（秒）</td>
                            <td><input type="number" id="weibo_monitor_interval_seconds" class="form-input" min="1" placeholder="默认300秒（5分钟）"></td>
                        </tr>
                        <tr>
                            <td class="config-label">推送通道</td>
                            <td>
                                <div id="weibo_push_channels" class="push-channels-select"></div>
                                <p class="help-text">不选择则使用全部已配置的通道</p>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- 微博超话签到配置 -->
            <div class="card config-section fade-in" data-section="weibo_chaohua" data-module="scheduled" style="animation-delay: 0.05s;">
                <div class="card-header">
                    <h2>💬 微博超话签到配置</h2>
                    <div class="card-actions">
                        <button class="btn btn-secondary section-reload-btn">
                            <span>🔄</span>
                            重新加载
                        </button>
                        <button class="btn btn-primary section-save-btn">
                            <span>💾</span>
                            保存配置
                        </button>
                    </div>
                </div>
                <div class="card-body">
                    <table class="config-table">
                        <tr>
                            <td class="config-label">启用微博超话签到</td>
                            <td>
                                <label class="switch">
                                    <input type="checkbox" id="weibo_chaohua_enable">
                                    <span class="slider"></span>
                                </label>
                                <span class="switch-label" id="weibo_chaohua_enable_label">关闭</span>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">Cookie（单条）</td>
                            <td><input type="text" id="weibo_chaohua_cookie" class="form-input" placeholder="微博 Cookie（须包含 XSRF-TOKEN），多 Cookie 时可不填"></td>
                        </tr>
                        <tr>
                            <td class="config-label">多 Cookie</td>
                            <td>
                                <div id="weibo_chaohua_cookies_list" class="multi-cookies-list"></div>
                                <button type="button" id="weibo_chaohua_add_cookie_btn" class="btn btn-secondary" style="margin-top: 10px;">
                                    <span>➕</span>
                                    添加 Cookie
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">签到时间</td>
                            <td><input type="time" id="weibo_chaohua_time" class="form-input" value="23:45"></td>
                        </tr>
                        <tr>
                            <td class="config-label">推送通道</td>
                            <td>
                                <div id="weibo_chaohua_push_channels" class="push-channels-select"></div>
                                <p class="help-text">不选择则使用全部已配置的通道</p>
                            </td>
                        </tr>
                    </table>
                    <div class="help-box" style="margin-top: 16px;">
                        <p>使用 Cookie 作为参数，须包含 XSRF-TOKEN。配置多 Cookie 后会对每个账号依次签到并分别推送。系统会在指定时间自动执行微博超话签到，项目启动时若启用也会执行一次。</p>
                    </div>
                </div>
            </div>

            <!-- 虎牙监控配置 -->
            <div class="card config-section fade-in" data-section="huya" data-module="monitor" style="animation-delay: 0.1s;">
                <div class="card-header">
                    <h2>🐯 虎牙监控配置</h2>
                    <div class="card-actions">
                        <button class="btn btn-secondary section-reload-btn">
                            <span>🔄</span>
                            重新加载
                        </button>
                        <button class="btn btn-primary section-save-btn">
                            <span>💾</span>
                            保存配置
                        </button>
                    </div>
                </div>
                <div class="card-body">
                    <table class="config-table">
                        <tr>
                            <td class="config-label">启用虎牙监控</td>
                            <td>
                                <label class="switch">
                                    <input type="checkbox" id="huya_enable" checked>
                                    <span class="slider"></span>
                                </label>
                                <span class="switch-label" id="huya_enable_label">开启</span>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">房间号列表</td>
                            <td><textarea id="huya_rooms" class="form-textarea" rows="3" placeholder="请输入房间号列表，逗号分隔"></textarea></td>
                        </tr>
                        <tr>
                            <td class="config-label">并发数</td>
                            <td><input type="number" id="huya_concurrency" class="form-input" min="1" max="20" placeholder="建议5-10"></td>
                        </tr>
                        <tr>
                            <td class="config-label">监控间隔（秒）</td>
                            <td><input type="number" id="huya_monitor_interval_seconds" class="form-input" min="1" placeholder="默认65秒"></td>
                        </tr>
                        <tr>
                            <td class="config-label">推送通道</td>
                            <td>
                                <div id="huya_push_channels" class="push-channels-select"></div>
                                <p class="help-text">不选择则使用全部已配置的通道</p>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- 哔哩哔哩监控配置 -->
            <div class="card config-section fade-in" data-section="bilibili" data-module="monitor" style="animation-delay: 0.12s;">
                <div class="card-header">
                    <h2>📺 哔哩哔哩监控配置</h2>
                    <div class="card-actions">
                        <button class="btn btn-secondary section-reload-btn">
                            <span>🔄</span>
                            重新加载
                        </button>
                        <button class="btn btn-primary section-save-btn">
                            <span>💾</span>
                            保存配置
                        </button>
                    </div>
                </div>
                <div class="card-body">
                    <table class="config-table">
                        <tr>
                            <td class="config-label">启用哔哩哔哩监控</td>
                            <td>
                                <label class="switch">
                                    <input type="checkbox" id="bilibili_enable" checked>
                                    <span class="slider"></span>
                                </label>
                                <span class="switch-label" id="bilibili_enable_label">开启</span>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">Cookie（可选）</td>
                            <td><input type="text" id="bilibili_cookie" class="form-input" placeholder="可选，防ban"></td>
                        </tr>
                        <tr>
                            <td class="config-label">UID 列表</td>
                            <td><textarea id="bilibili_uids" class="form-textarea" rows="3" placeholder="逗号分隔，如 1795147802,1669777785"></textarea></td>
                        </tr>
                        <tr>
                            <td class="config-label">跳过转发动态</td>
                            <td>
                                <label class="switch">
                                    <input type="checkbox" id="bilibili_skip_forward" checked>
                                    <span class="slider"></span>
                                </label>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">并发数</td>
                            <td><input type="number" id="bilibili_concurrency" class="form-input" min="1" max="10" value="2"></td>
                        </tr>
                        <tr>
                            <td class="config-label">监控间隔（秒）</td>
                            <td><input type="number" id="bilibili_monitor_interval_seconds" class="form-input" min="1" placeholder="默认60"></td>
                        </tr>
                        <tr>
                            <td class="config-label">推送通道</td>
                            <td>
                                <div id="bilibili_push_channels" class="push-channels-select"></div>
                                <p class="help-text">不选择则使用全部已配置的通道</p>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- 抖音直播监控配置 -->
            <div class="card config-section fade-in" data-section="douyin" data-module="monitor" style="animation-delay: 0.14s;">
                <div class="card-header">
                    <h2>🎬 抖音直播监控配置</h2>
                    <div class="card-actions">
                        <button class="btn btn-secondary section-reload-btn">
                            <span>🔄</span>
                            重新加载
                        </button>
                        <button class="btn btn-primary section-save-btn">
                            <span>💾</span>
                            保存配置
                        </button>
                    </div>
                </div>
                <div class="card-body">
                    <table class="config-table">
                        <tr>
                            <td class="config-label">启用抖音直播监控</td>
                            <td>
                                <label class="switch">
                                    <input type="checkbox" id="douyin_enable" checked>
                                    <span class="slider"></span>
                                </label>
                                <span class="switch-label" id="douyin_enable_label">开启</span>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">抖音号列表</td>
                            <td><textarea id="douyin_douyin_ids" class="form-textarea" rows="3" placeholder="逗号分隔，如 ASOULjiaran,Nana7mi0715"></textarea></td>
                        </tr>
                        <tr>
                            <td class="config-label">并发数</td>
                            <td><input type="number" id="douyin_concurrency" class="form-input" min="1" max="10" value="2"></td>
                        </tr>
                        <tr>
                            <td class="config-label">监控间隔（秒）</td>
                            <td><input type="number" id="douyin_monitor_interval_seconds" class="form-input" min="1" placeholder="默认30"></td>
                        </tr>
                        <tr>
                            <td class="config-label">推送通道</td>
                            <td>
                                <div id="douyin_push_channels" class="push-channels-select"></div>
                                <p class="help-text">不选择则使用全部已配置的通道</p>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- 斗鱼直播监控配置 -->
            <div class="card config-section fade-in" data-section="douyu" data-module="monitor" style="animation-delay: 0.16s;">
                <div class="card-header">
                    <h2>🐟 斗鱼直播监控配置</h2>
                    <div class="card-actions">
                        <button class="btn btn-secondary section-reload-btn">
                            <span>🔄</span>
                            重新加载
                        </button>
                        <button class="btn btn-primary section-save-btn">
                            <span>💾</span>
                            保存配置
                        </button>
                    </div>
                </div>
                <div class="card-body">
                    <table class="config-table">
                        <tr>
                            <td class="config-label">启用斗鱼直播监控</td>
                            <td>
                                <label class="switch">
                                    <input type="checkbox" id="douyu_enable" checked>
                                    <span class="slider"></span>
                                </label>
                                <span class="switch-label" id="douyu_enable_label">开启</span>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">房间号列表</td>
                            <td><textarea id="douyu_rooms" class="form-textarea" rows="3" placeholder="逗号分隔，如 307876,12306"></textarea></td>
                        </tr>
                        <tr>
                            <td class="config-label">并发数</td>
                            <td><input type="number" id="douyu_concurrency" class="form-input" min="1" max="10" value="2"></td>
                        </tr>
                        <tr>
                            <td class="config-label">监控间隔（秒）</td>
                            <td><input type="number" id="douyu_monitor_interval_seconds" class="form-input" min="1" placeholder="默认300"></td>
                        </tr>
                        <tr>
                            <td class="config-label">推送通道</td>
                            <td>
                                <div id="douyu_push_channels" class="push-channels-select"></div>
                                <p class="help-text">不选择则使用全部已配置的通道</p>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- 小红书动态监控配置 -->
            <div class="card config-section fade-in" data-section="xhs" data-module="monitor" style="animation-delay: 0.18s;">
                <div class="card-header">
                    <h2>📕 小红书动态监控配置</h2>
                    <div class="card-actions">
                        <button class="btn btn-secondary section-reload-btn">
                            <span>🔄</span>
                            重新加载
                        </button>
                        <button class="btn btn-primary section-save-btn">
                            <span>💾</span>
                            保存配置
                        </button>
                    </div>
                </div>
                <div class="card-body">
                    <table class="config-table">
                        <tr>
                            <td class="config-label">启用小红书动态监控</td>
                            <td>
                                <label class="switch">
                                    <input type="checkbox" id="xhs_enable" checked>
                                    <span class="slider"></span>
                                </label>
                                <span class="switch-label" id="xhs_enable_label">开启</span>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">Cookie（可选）</td>
                            <td><input type="text" id="xhs_cookie" class="form-input" placeholder="可选，防ban"></td>
                        </tr>
                        <tr>
                            <td class="config-label">Profile ID 列表</td>
                            <td><textarea id="xhs_profile_ids" class="form-textarea" rows="3" placeholder="逗号分隔，如 52d8c541b4c4d60e6c867480"></textarea></td>
                        </tr>
                        <tr>
                            <td class="config-label">并发数</td>
                            <td><input type="number" id="xhs_concurrency" class="form-input" min="1" max="10" value="2"></td>
                        </tr>
                        <tr>
                            <td class="config-label">监控间隔（秒）</td>
                            <td><input type="number" id="xhs_monitor_interval_seconds" class="form-input" min="1" placeholder="默认300"></td>
                        </tr>
                        <tr>
                            <td class="config-label">推送通道</td>
                            <td>
                                <div id="xhs_push_channels" class="push-channels-select"></div>
                                <p class="help-text">不选择则使用全部已配置的通道</p>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- ikuuu签到配置 -->
            <div class="card config-section fade-in" data-section="checkin" data-module="scheduled" style="animation-delay: 0.15s;">
                <div class="card-header">
                    <h2>📅 ikuuu签到配置</h2>
                    <div class="card-actions">
                        <button class="btn btn-secondary section-reload-btn">
                            <span>🔄</span>
                            重新加载
                        </button>
                        <button class="btn btn-primary section-save-btn">
                            <span>💾</span>
                            保存配置
                        </button>
                    </div>
                </div>
                <div class="card-body">
                    <table class="config-table">
                        <tr>
                            <td class="config-label">启用ikuuu签到</td>
                            <td>
                                <label class="switch">
                                    <input type="checkbox" id="checkin_enable">
                                    <span class="slider"></span>
                                </label>
                                <span class="switch-label" id="checkin_enable_label">关闭</span>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">登录账号（单账号）</td>
                            <td><input type="text" id="checkin_email" class="form-input" placeholder="邮箱或用户名，多账号时可不填"></td>
                        </tr>
                        <tr>
                            <td class="config-label">登录密码（单账号）</td>
                            <td><input type="password" id="checkin_password" class="form-input" placeholder="登录密码，多账号时可不填"></td>
                        </tr>
                        <tr>
                            <td class="config-label">多账号</td>
                            <td>
                                <div id="checkin_accounts_list" class="multi-accounts-list"></div>
                                <button type="button" id="checkin_add_account_btn" class="btn btn-secondary" style="margin-top: 10px;">
                                    <span>➕</span>
                                    添加账号
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">签到时间</td>
                            <td><input type="time" id="checkin_time" class="form-input" value="08:00"></td>
                        </tr>
                        <tr>
                            <td class="config-label">推送通道</td>
                            <td>
                                <div id="checkin_push_channels" class="push-channels-select"></div>
                                <p class="help-text">不选择则使用全部已配置的通道</p>
                            </td>
                        </tr>
                    </table>
                    <div class="help-box" style="margin-top: 16px;">
                        <p>域名自动从 ikuuu.club 发现，无需手动配置。系统会在指定时间自动执行签到任务，项目启动时也会先执行一次签到。配置多账号后会对每个账号依次签到并分别推送。</p>
                    </div>
                </div>
            </div>

            <!-- 雨云签到配置 -->
            <div class="card config-section fade-in" data-section="rainyun" data-module="scheduled" style="animation-delay: 0.18s;">
                <div class="card-header">
                    <h2>☁️ 雨云签到配置</h2>
                    <div class="card-actions">
                        <button class="btn btn-secondary section-reload-btn">
                            <span>🔄</span>
                            重新加载
                        </button>
                        <button class="btn btn-primary section-save-btn">
                            <span>💾</span>
                            保存配置
                        </button>
                    </div>
                </div>
                <div class="card-body">
                    <table class="config-table">
                        <tr>
                            <td class="config-label">启用雨云签到</td>
                            <td>
                                <label class="switch">
                                    <input type="checkbox" id="rainyun_enable">
                                    <span class="slider"></span>
                                </label>
                                <span class="switch-label" id="rainyun_enable_label">关闭</span>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">多账号</td>
                            <td>
                                <div id="rainyun_accounts_list" class="multi-accounts-list"></div>
                                <button type="button" id="rainyun_add_account_btn" class="btn btn-secondary" style="margin-top: 10px;">
                                    <span>➕</span>
                                    添加账号
                                </button>
                                <p class="help-text">每项需填写用户名、密码；API Key 可选，用于服务器续费（登录雨云 → 总览 → 用户 → 账户设置 → API 密钥）</p>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">签到时间</td>
                            <td><input type="time" id="rainyun_time" class="form-input" value="08:30"></td>
                        </tr>
                        <tr>
                            <td class="config-label">自动续费</td>
                            <td>
                                <label class="switch">
                                    <input type="checkbox" id="rainyun_auto_renew" checked>
                                    <span class="slider"></span>
                                </label>
                                <span class="switch-label" id="rainyun_auto_renew_label">开启</span>
                                <p class="help-text">签到后检查游戏云服务器到期情况，剩余天数小于阈值且积分充足时自动续费 7 天（参考 Rainyun-Qiandao）</p>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">续费阈值（天）</td>
                            <td>
                                <input type="number" id="rainyun_renew_threshold_days" class="form-input" min="1" max="30" value="7" placeholder="7">
                                <p class="help-text">剩余天数小于等于此时触发续费检查</p>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">续费白名单</td>
                            <td>
                                <input type="text" id="rainyun_renew_product_ids" class="form-input" placeholder="留空续费全部，或填产品 ID 如 44500,44501">
                                <p class="help-text">产品 ID 列表，逗号分隔；留空则续费所有即将到期的服务器</p>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">推送通道</td>
                            <td>
                                <div id="rainyun_push_channels" class="push-channels-select"></div>
                                <p class="help-text">不选择则使用全部已配置的通道</p>
                            </td>
                        </tr>
                    </table>
                    <div class="help-box" style="margin-top: 16px;">
                        <p>使用账号密码登录雨云网页，通过 ddddocr 完成验证码识别（参考 <a href="https://github.com/Jielumoon/Rainyun-Qiandao" target="_blank">Rainyun-Qiandao</a>）。需安装 Chrome/Chromium 及 chromedriver。系统会在指定时间自动执行签到，项目启动时若启用也会执行一次。签到完成后会检查游戏云服务器到期并自动续费。</p>
                    </div>
                </div>
            </div>

            <!-- 贴吧签到配置 -->
            <div class="card config-section fade-in" data-section="tieba" data-module="scheduled" style="animation-delay: 0.2s;">
                <div class="card-header">
                    <h2>📌 贴吧签到配置</h2>
                    <div class="card-actions">
                        <button class="btn btn-secondary section-reload-btn">
                            <span>🔄</span>
                            重新加载
                        </button>
                        <button class="btn btn-primary section-save-btn">
                            <span>💾</span>
                            保存配置
                        </button>
                    </div>
                </div>
                <div class="card-body">
                    <table class="config-table">
                        <tr>
                            <td class="config-label">启用贴吧签到</td>
                            <td>
                                <label class="switch">
                                    <input type="checkbox" id="tieba_enable">
                                    <span class="slider"></span>
                                </label>
                                <span class="switch-label" id="tieba_enable_label">关闭</span>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">Cookie（单条）</td>
                            <td><input type="text" id="tieba_cookie" class="form-input" placeholder="贴吧 Cookie（须包含 BDUSS），多 Cookie 时可不填"></td>
                        </tr>
                        <tr>
                            <td class="config-label">多 Cookie</td>
                            <td>
                                <div id="tieba_cookies_list" class="multi-cookies-list"></div>
                                <button type="button" id="tieba_add_cookie_btn" class="btn btn-secondary" style="margin-top: 10px;">
                                    <span>➕</span>
                                    添加 Cookie
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">签到时间</td>
                            <td><input type="time" id="tieba_time" class="form-input" value="08:10"></td>
                        </tr>
                        <tr>
                            <td class="config-label">推送通道</td>
                            <td>
                                <div id="tieba_push_channels" class="push-channels-select"></div>
                                <p class="help-text">不选择则使用全部已配置的通道</p>
                            </td>
                        </tr>
                    </table>
                    <div class="help-box" style="margin-top: 16px;">
                        <p>使用 Cookie 作为参数，须包含 BDUSS。配置多 Cookie 后会对每个账号依次签到并分别推送。系统会在指定时间自动执行贴吧签到，项目启动时若启用也会执行一次。</p>
                    </div>
                </div>
            </div>

            <!-- 恩山论坛签到配置 -->
            <div class="card config-section fade-in" data-section="enshan" data-module="scheduled" style="animation-delay: 0.21s;">
                <div class="card-header">
                    <h2>📡 恩山论坛签到配置</h2>
                    <div class="card-actions">
                        <button class="btn btn-secondary section-reload-btn"><span>🔄</span> 重新加载</button>
                        <button class="btn btn-primary section-save-btn"><span>💾</span> 保存配置</button>
                    </div>
                </div>
                <div class="card-body">
                    <table class="config-table">
                        <tr>
                            <td class="config-label">启用恩山签到</td>
                            <td>
                                <label class="switch"><input type="checkbox" id="enshan_enable"><span class="slider"></span></label>
                                <span class="switch-label" id="enshan_enable_label">关闭</span>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">Cookie（单条）</td>
                            <td><input type="text" id="enshan_cookie" class="form-input" placeholder="恩山 Cookie，多 Cookie 时可不填"></td>
                        </tr>
                        <tr>
                            <td class="config-label">多 Cookie</td>
                            <td>
                                <div id="enshan_cookies_list" class="multi-cookies-list"></div>
                                <button type="button" id="enshan_add_cookie_btn" class="btn btn-secondary" style="margin-top: 10px;"><span>➕</span> 添加 Cookie</button>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">签到时间</td>
                            <td><input type="time" id="enshan_time" class="form-input" value="02:00"></td>
                        </tr>
                        <tr>
                            <td class="config-label">推送通道</td>
                            <td><div id="enshan_push_channels" class="push-channels-select"></div><p class="help-text">不选择则使用全部已配置的通道</p></td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- 天翼云盘签到配置 -->
            <div class="card config-section fade-in" data-section="tyyun" data-module="scheduled" style="animation-delay: 0.22s;">
                <div class="card-header">
                    <h2>☁️ 天翼云盘签到配置</h2>
                    <div class="card-actions">
                        <button class="btn btn-secondary section-reload-btn"><span>🔄</span> 重新加载</button>
                        <button class="btn btn-primary section-save-btn"><span>💾</span> 保存配置</button>
                    </div>
                </div>
                <div class="card-body">
                    <table class="config-table">
                        <tr>
                            <td class="config-label">启用天翼云盘签到</td>
                            <td>
                                <label class="switch"><input type="checkbox" id="tyyun_enable"><span class="slider"></span></label>
                                <span class="switch-label" id="tyyun_enable_label">关闭</span>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">手机号（单账号）</td>
                            <td><input type="text" id="tyyun_username" class="form-input" placeholder="天翼手机号，多账号时可不填"></td>
                        </tr>
                        <tr>
                            <td class="config-label">密码（单账号）</td>
                            <td><input type="password" id="tyyun_password" class="form-input" placeholder="密码，多账号时可不填"></td>
                        </tr>
                        <tr>
                            <td class="config-label">多账号</td>
                            <td>
                                <div id="tyyun_accounts_list" class="multi-accounts-list"></div>
                                <button type="button" id="tyyun_add_account_btn" class="btn btn-secondary" style="margin-top: 10px;"><span>➕</span> 添加账号</button>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">签到时间</td>
                            <td><input type="time" id="tyyun_time" class="form-input" value="04:30"></td>
                        </tr>
                        <tr>
                            <td class="config-label">推送通道</td>
                            <td><div id="tyyun_push_channels" class="push-channels-select"></div><p class="help-text">不选择则使用全部已配置的通道</p></td>
                        </tr>
                    </table>
                    <div class="help-box" style="margin-top: 16px;"><p>依赖 rsa 库（uv add rsa）。多账号配置 accounts 后会对每个账号依次签到并分别推送。</p></div>
                </div>
            </div>

            <!-- 阿里云盘签到配置 -->
            <div class="card config-section fade-in" data-section="aliyun" data-module="scheduled" style="animation-delay: 0.23s;">
                <div class="card-header">
                    <h2>📦 阿里云盘签到配置</h2>
                    <div class="card-actions">
                        <button class="btn btn-secondary section-reload-btn"><span>🔄</span> 重新加载</button>
                        <button class="btn btn-primary section-save-btn"><span>💾</span> 保存配置</button>
                    </div>
                </div>
                <div class="card-body">
                    <table class="config-table">
                        <tr>
                            <td class="config-label">启用阿里云盘签到</td>
                            <td>
                                <label class="switch"><input type="checkbox" id="aliyun_enable"><span class="slider"></span></label>
                                <span class="switch-label" id="aliyun_enable_label">关闭</span>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">refresh_token（单账号）</td>
                            <td><input type="password" id="aliyun_refresh_token" class="form-input" placeholder="阿里云盘 refresh_token，多账号时可不填"></td>
                        </tr>
                        <tr>
                            <td class="config-label">多 refresh_token</td>
                            <td>
                                <div id="aliyun_refresh_tokens_list" class="multi-cookies-list"></div>
                                <button type="button" id="aliyun_add_token_btn" class="btn btn-secondary" style="margin-top: 10px;"><span>➕</span> 添加 Token</button>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">签到时间</td>
                            <td><input type="time" id="aliyun_time" class="form-input" value="05:30"></td>
                        </tr>
                        <tr>
                            <td class="config-label">推送通道</td>
                            <td><div id="aliyun_push_channels" class="push-channels-select"></div><p class="help-text">不选择则使用全部已配置的通道</p></td>
                        </tr>
                    </table>
                    <div class="help-box" style="margin-top: 16px;"><p>refresh_token 获取见 <a href="https://github.com/bighammer-link/Common-scripts/wiki" target="_blank">相关文档</a>。多 Token 依次签到并分别推送。</p></div>
                </div>
            </div>

            <!-- 什么值得买签到配置 -->
            <div class="card config-section fade-in" data-section="smzdm" data-module="scheduled" style="animation-delay: 0.24s;">
                <div class="card-header">
                    <h2>🛒 什么值得买签到配置</h2>
                    <div class="card-actions">
                        <button class="btn btn-secondary section-reload-btn"><span>🔄</span> 重新加载</button>
                        <button class="btn btn-primary section-save-btn"><span>💾</span> 保存配置</button>
                    </div>
                </div>
                <div class="card-body">
                    <table class="config-table">
                        <tr>
                            <td class="config-label">启用什么值得买签到</td>
                            <td>
                                <label class="switch"><input type="checkbox" id="smzdm_enable"><span class="slider"></span></label>
                                <span class="switch-label" id="smzdm_enable_label">关闭</span>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">Cookie（单条）</td>
                            <td><input type="text" id="smzdm_cookie" class="form-input" placeholder="值得买 Cookie，多 Cookie 时可不填"></td>
                        </tr>
                        <tr>
                            <td class="config-label">多 Cookie</td>
                            <td>
                                <div id="smzdm_cookies_list" class="multi-cookies-list"></div>
                                <button type="button" id="smzdm_add_cookie_btn" class="btn btn-secondary" style="margin-top: 10px;"><span>➕</span> 添加 Cookie</button>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">签到时间</td>
                            <td><input type="time" id="smzdm_time" class="form-input" value="00:30"></td>
                        </tr>
                        <tr>
                            <td class="config-label">推送通道</td>
                            <td><div id="smzdm_push_channels" class="push-channels-select"></div><p class="help-text">不选择则使用全部已配置的通道</p></td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- 值得买每日抽奖配置 -->
            <div class="card config-section fade-in" data-section="zdm_draw" data-module="scheduled" style="animation-delay: 0.25s;">
                <div class="card-header">
                    <h2>🎡 值得买每日抽奖配置</h2>
                    <div class="card-actions">
                        <button class="btn btn-secondary section-reload-btn"><span>🔄</span> 重新加载</button>
                        <button class="btn btn-primary section-save-btn"><span>💾</span> 保存配置</button>
                    </div>
                </div>
                <div class="card-body">
                    <table class="config-table">
                        <tr>
                            <td class="config-label">启用值得买抽奖</td>
                            <td>
                                <label class="switch"><input type="checkbox" id="zdm_draw_enable"><span class="slider"></span></label>
                                <span class="switch-label" id="zdm_draw_enable_label">关闭</span>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">Cookie（单条）</td>
                            <td><input type="text" id="zdm_draw_cookie" class="form-input" placeholder="可与 smzdm 共用 Cookie，多 Cookie 时可不填"></td>
                        </tr>
                        <tr>
                            <td class="config-label">多 Cookie</td>
                            <td>
                                <div id="zdm_draw_cookies_list" class="multi-cookies-list"></div>
                                <button type="button" id="zdm_draw_add_cookie_btn" class="btn btn-secondary" style="margin-top: 10px;"><span>➕</span> 添加 Cookie</button>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">执行时间</td>
                            <td><input type="time" id="zdm_draw_time" class="form-input" value="07:30"></td>
                        </tr>
                        <tr>
                            <td class="config-label">推送通道</td>
                            <td><div id="zdm_draw_push_channels" class="push-channels-select"></div><p class="help-text">不选择则使用全部已配置的通道</p></td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- 富贵论坛签到配置 -->
            <div class="card config-section fade-in" data-section="fg" data-module="scheduled" style="animation-delay: 0.26s;">
                <div class="card-header">
                    <h2>💎 富贵论坛签到配置</h2>
                    <div class="card-actions">
                        <button class="btn btn-secondary section-reload-btn"><span>🔄</span> 重新加载</button>
                        <button class="btn btn-primary section-save-btn"><span>💾</span> 保存配置</button>
                    </div>
                </div>
                <div class="card-body">
                    <table class="config-table">
                        <tr>
                            <td class="config-label">启用富贵论坛签到</td>
                            <td>
                                <label class="switch"><input type="checkbox" id="fg_enable"><span class="slider"></span></label>
                                <span class="switch-label" id="fg_enable_label">关闭</span>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">Cookie（单条）</td>
                            <td><input type="text" id="fg_cookie" class="form-input" placeholder="富贵论坛 Cookie，多 Cookie 时可不填"></td>
                        </tr>
                        <tr>
                            <td class="config-label">多 Cookie</td>
                            <td>
                                <div id="fg_cookies_list" class="multi-cookies-list"></div>
                                <button type="button" id="fg_add_cookie_btn" class="btn btn-secondary" style="margin-top: 10px;"><span>➕</span> 添加 Cookie</button>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">签到时间</td>
                            <td><input type="time" id="fg_time" class="form-input" value="00:01"></td>
                        </tr>
                        <tr>
                            <td class="config-label">推送通道</td>
                            <td><div id="fg_push_channels" class="push-channels-select"></div><p class="help-text">不选择则使用全部已配置的通道</p></td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- 小米社区签到配置 -->
            <div class="card config-section fade-in" data-section="miui" data-module="scheduled" style="animation-delay: 0.27s;">
                <div class="card-header">
                    <h2>📱 小米社区签到配置</h2>
                    <div class="card-actions">
                        <button class="btn btn-secondary section-reload-btn"><span>🔄</span> 重新加载</button>
                        <button class="btn btn-primary section-save-btn"><span>💾</span> 保存配置</button>
                    </div>
                </div>
                <div class="card-body">
                    <table class="config-table">
                        <tr><td class="config-label">启用小米社区签到</td>
                            <td><label class="switch"><input type="checkbox" id="miui_enable"><span class="slider"></span></label>
                                <span class="switch-label" id="miui_enable_label">关闭</span></td></tr>
                        <tr><td class="config-label">手机号（单账号）</td><td><input type="text" id="miui_account" class="form-input" placeholder="小米账号手机号"></td></tr>
                        <tr><td class="config-label">密码（单账号）</td><td><input type="password" id="miui_password" class="form-input" placeholder="密码"></td></tr>
                        <tr><td class="config-label">多账号</td>
                            <td><div id="miui_accounts_list" class="multi-accounts-list"></div>
                                <button type="button" id="miui_add_account_btn" class="btn btn-secondary" style="margin-top:10px;"><span>➕</span> 添加账号</button></td></tr>
                        <tr><td class="config-label">签到时间</td><td><input type="time" id="miui_time" class="form-input" value="08:30"></td></tr>
                        <tr><td class="config-label">推送通道</td><td><div id="miui_push_channels" class="push-channels-select"></div></td></tr>
                    </table>
                    <div class="help-box" style="margin-top:16px;"><p>需 pycryptodome，有封号风险。多账号用 accounts 配置。</p></div>
                </div>
            </div>

            <!-- 爱奇艺签到配置 -->
            <div class="card config-section fade-in" data-section="iqiyi" data-module="scheduled" style="animation-delay: 0.28s;">
                <div class="card-header">
                    <h2>🎬 爱奇艺签到配置</h2>
                    <div class="card-actions">
                        <button class="btn btn-secondary section-reload-btn"><span>🔄</span> 重新加载</button>
                        <button class="btn btn-primary section-save-btn"><span>💾</span> 保存配置</button>
                    </div>
                </div>
                <div class="card-body">
                    <table class="config-table">
                        <tr><td class="config-label">启用爱奇艺签到</td>
                            <td><label class="switch"><input type="checkbox" id="iqiyi_enable"><span class="slider"></span></label>
                                <span class="switch-label" id="iqiyi_enable_label">关闭</span></td></tr>
                        <tr><td class="config-label">Cookie（须含 P00001/P00003/QC005/__dfp）</td><td><input type="text" id="iqiyi_cookie" class="form-input" placeholder="单条时填，多 Cookie 用下方列表"></td></tr>
                        <tr><td class="config-label">多 Cookie</td><td><div id="iqiyi_cookies_list" class="multi-cookies-list"></div>
                            <button type="button" id="iqiyi_add_cookie_btn" class="btn btn-secondary" style="margin-top:10px;"><span>➕</span> 添加 Cookie</button></td></tr>
                        <tr><td class="config-label">签到时间</td><td><input type="time" id="iqiyi_time" class="form-input" value="06:00"></td></tr>
                        <tr><td class="config-label">推送通道</td><td><div id="iqiyi_push_channels" class="push-channels-select"></div></td></tr>
                    </table>
                </div>
            </div>

            <!-- 联想乐豆签到配置 -->
            <div class="card config-section fade-in" data-section="lenovo" data-module="scheduled" style="animation-delay: 0.29s;">
                <div class="card-header">
                    <h2>🔷 联想乐豆签到配置</h2>
                    <div class="card-actions">
                        <button class="btn btn-secondary section-reload-btn"><span>🔄</span> 重新加载</button>
                        <button class="btn btn-primary section-save-btn"><span>💾</span> 保存配置</button>
                    </div>
                </div>
                <div class="card-body">
                    <table class="config-table">
                        <tr><td class="config-label">启用联想乐豆签到</td>
                            <td><label class="switch"><input type="checkbox" id="lenovo_enable"><span class="slider"></span></label>
                                <span class="switch-label" id="lenovo_enable_label">关闭</span></td></tr>
                        <tr><td class="config-label">access_token（Headers 中 accesstoken）</td><td><input type="text" id="lenovo_access_token" class="form-input" placeholder="单条填，多账号用下方列表"></td></tr>
                        <tr><td class="config-label">多 access_token</td><td><div id="lenovo_access_tokens_list" class="multi-cookies-list"></div>
                            <button type="button" id="lenovo_add_token_btn" class="btn btn-secondary" style="margin-top:10px;"><span>➕</span> 添加 Token</button></td></tr>
                        <tr><td class="config-label">签到时间</td><td><input type="time" id="lenovo_time" class="form-input" value="05:30"></td></tr>
                        <tr><td class="config-label">推送通道</td><td><div id="lenovo_push_channels" class="push-channels-select"></div></td></tr>
                    </table>
                </div>
            </div>

            <!-- 丽宝乐园签到配置 -->
            <div class="card config-section fade-in" data-section="lbly" data-module="scheduled" style="animation-delay: 0.30s;">
                <div class="card-header">
                    <h2>🎠 丽宝乐园签到配置</h2>
                    <div class="card-actions">
                        <button class="btn btn-secondary section-reload-btn"><span>🔄</span> 重新加载</button>
                        <button class="btn btn-primary section-save-btn"><span>💾</span> 保存配置</button>
                    </div>
                </div>
                <div class="card-body">
                    <table class="config-table">
                        <tr><td class="config-label">启用丽宝乐园签到</td>
                            <td><label class="switch"><input type="checkbox" id="lbly_enable"><span class="slider"></span></label>
                                <span class="switch-label" id="lbly_enable_label">关闭</span></td></tr>
                        <tr><td class="config-label">请求体 JSON（抓包 GetRewardList 的请求体）</td><td><textarea id="lbly_request_body" class="form-textarea" rows="3" placeholder='{"MallID":11192,"Header":{"Token":"xxx"}}'></textarea></td></tr>
                        <tr><td class="config-label">多账号请求体</td><td><div id="lbly_request_bodies_list" class="multi-cookies-list"></div>
                            <button type="button" id="lbly_add_body_btn" class="btn btn-secondary" style="margin-top:10px;"><span>➕</span> 添加请求体</button></td></tr>
                        <tr><td class="config-label">签到时间</td><td><input type="time" id="lbly_time" class="form-input" value="05:30"></td></tr>
                        <tr><td class="config-label">推送通道</td><td><div id="lbly_push_channels" class="push-channels-select"></div></td></tr>
                    </table>
                </div>
            </div>

            <!-- 品赞代理签到配置 -->
            <div class="card config-section fade-in" data-section="pinzan" data-module="scheduled" style="animation-delay: 0.31s;">
                <div class="card-header">
                    <h2>📦 品赞代理签到配置</h2>
                    <div class="card-actions">
                        <button class="btn btn-secondary section-reload-btn"><span>🔄</span> 重新加载</button>
                        <button class="btn btn-primary section-save-btn"><span>💾</span> 保存配置</button>
                    </div>
                </div>
                <div class="card-body">
                    <table class="config-table">
                        <tr><td class="config-label">启用品赞签到</td>
                            <td><label class="switch"><input type="checkbox" id="pinzan_enable"><span class="slider"></span></label>
                                <span class="switch-label" id="pinzan_enable_label">关闭</span></td></tr>
                        <tr><td class="config-label">账号（单）</td><td><input type="text" id="pinzan_account" class="form-input" placeholder="手机号/账号"></td></tr>
                        <tr><td class="config-label">密码（单）</td><td><input type="password" id="pinzan_password" class="form-input" placeholder="密码"></td></tr>
                        <tr><td class="config-label">多账号</td><td><div id="pinzan_accounts_list" class="multi-accounts-list"></div>
                            <button type="button" id="pinzan_add_account_btn" class="btn btn-secondary" style="margin-top:10px;"><span>➕</span> 添加账号</button></td></tr>
                        <tr><td class="config-label">签到时间</td><td><input type="time" id="pinzan_time" class="form-input" value="08:00"></td></tr>
                        <tr><td class="config-label">推送通道</td><td><div id="pinzan_push_channels" class="push-channels-select"></div></td></tr>
                    </table>
                </div>
            </div>

            <!-- 达美乐任务配置 -->
            <div class="card config-section fade-in" data-section="dml" data-module="scheduled" style="animation-delay: 0.32s;">
                <div class="card-header">
                    <h2>🍕 达美乐任务配置</h2>
                    <div class="card-actions">
                        <button class="btn btn-secondary section-reload-btn"><span>🔄</span> 重新加载</button>
                        <button class="btn btn-primary section-save-btn"><span>💾</span> 保存配置</button>
                    </div>
                </div>
                <div class="card-body">
                    <table class="config-table">
                        <tr><td class="config-label">启用达美乐任务</td>
                            <td><label class="switch"><input type="checkbox" id="dml_enable"><span class="slider"></span></label>
                                <span class="switch-label" id="dml_enable_label">关闭</span></td></tr>
                        <tr><td class="config-label">openid（小程序抓包）</td><td><input type="text" id="dml_openid" class="form-input" placeholder="单条填，多账号用下方列表"></td></tr>
                        <tr><td class="config-label">多 openid</td><td><div id="dml_openids_list" class="multi-cookies-list"></div>
                            <button type="button" id="dml_add_openid_btn" class="btn btn-secondary" style="margin-top:10px;"><span>➕</span> 添加 openid</button></td></tr>
                        <tr><td class="config-label">执行时间</td><td><input type="time" id="dml_time" class="form-input" value="06:00"></td></tr>
                        <tr><td class="config-label">推送通道</td><td><div id="dml_push_channels" class="push-channels-select"></div></td></tr>
                    </table>
                </div>
            </div>

            <!-- 小茅预约（i茅台）配置 -->
            <div class="card config-section fade-in" data-section="xiaomao" data-module="scheduled" style="animation-delay: 0.33s;">
                <div class="card-header">
                    <h2>🥃 小茅预约（i茅台）配置</h2>
                    <div class="card-actions">
                        <button class="btn btn-secondary section-reload-btn"><span>🔄</span> 重新加载</button>
                        <button class="btn btn-primary section-save-btn"><span>💾</span> 保存配置</button>
                    </div>
                </div>
                <div class="card-body">
                    <table class="config-table">
                        <tr><td class="config-label">启用小茅预约</td>
                            <td><label class="switch"><input type="checkbox" id="xiaomao_enable"><span class="slider"></span></label>
                                <span class="switch-label" id="xiaomao_enable_label">关闭</span></td></tr>
                        <tr><td class="config-label">预约参数（单条）</td><td><input type="text" id="xiaomao_token" class="form-input" placeholder="省份,城市,经度,纬度,设备id,token,MT-Token-Wap"></td></tr>
                        <tr><td class="config-label">多账号 token</td><td><div id="xiaomao_tokens_list" class="multi-cookies-list"></div>
                            <button type="button" id="xiaomao_add_token_btn" class="btn btn-secondary" style="margin-top:10px;"><span>➕</span> 添加</button></td></tr>
                        <tr><td class="config-label">APP 版本号（可选）</td><td><input type="text" id="xiaomao_mt_version" class="form-input" placeholder="如 1.3.6，不填则自动获取"></td></tr>
                        <tr><td class="config-label">执行时间</td><td><input type="time" id="xiaomao_time" class="form-input" value="09:00"></td></tr>
                        <tr><td class="config-label">推送通道</td><td><div id="xiaomao_push_channels" class="push-channels-select"></div></td></tr>
                    </table>
                </div>
            </div>

            <!-- 一点万象 / 星空代理 / 千图网 -->
            <div class="card config-section fade-in" data-section="ydwx" data-module="scheduled" style="animation-delay: 0.34s;">
                <div class="card-header"><h2>🏬 一点万象签到</h2>
                    <div class="card-actions"><button class="btn btn-secondary section-reload-btn"><span>🔄</span> 重新加载</button><button class="btn btn-primary section-save-btn"><span>💾</span> 保存</button></div>
                </div>
                <div class="card-body">
                    <table class="config-table">
                        <tr><td class="config-label">启用</td><td><label class="switch"><input type="checkbox" id="ydwx_enable"><span class="slider"></span></label><span class="switch-label" id="ydwx_enable_label">关闭</span></td></tr>
                        <tr><td class="config-label">deviceParams</td><td><input type="text" id="ydwx_device_params" class="form-input" placeholder="单条"></td></tr>
                        <tr><td class="config-label">token</td><td><input type="text" id="ydwx_token" class="form-input" placeholder="单条"></td></tr>
                        <tr><td class="config-label">多账号</td><td><div id="ydwx_accounts_list" class="multi-cookies-list"></div><button type="button" id="ydwx_add_account_btn" class="btn btn-secondary" style="margin-top:10px;"><span>➕</span> 添加</button></td></tr>
                        <tr><td class="config-label">执行时间</td><td><input type="time" id="ydwx_time" value="06:00" class="form-input"></td></tr>
                        <tr><td class="config-label">推送通道</td><td><div id="ydwx_push_channels" class="push-channels-select"></div></td></tr>
                    </table>
                </div>
            </div>
            <div class="card config-section fade-in" data-section="xingkong" data-module="scheduled" style="animation-delay: 0.35s;">
                <div class="card-header"><h2>🌟 星空代理签到</h2>
                    <div class="card-actions"><button class="btn btn-secondary section-reload-btn"><span>🔄</span> 重新加载</button><button class="btn btn-primary section-save-btn"><span>💾</span> 保存</button></div>
                </div>
                <div class="card-body">
                    <table class="config-table">
                        <tr><td class="config-label">启用</td><td><label class="switch"><input type="checkbox" id="xingkong_enable"><span class="slider"></span></label><span class="switch-label" id="xingkong_enable_label">关闭</span></td></tr>
                        <tr><td class="config-label">用户名</td><td><input type="text" id="xingkong_username" class="form-input"></td></tr>
                        <tr><td class="config-label">密码</td><td><input type="password" id="xingkong_password" class="form-input"></td></tr>
                        <tr><td class="config-label">多账号</td><td><div id="xingkong_accounts_list" class="multi-cookies-list"></div><button type="button" id="xingkong_add_account_btn" class="btn btn-secondary" style="margin-top:10px;"><span>➕</span> 添加</button></td></tr>
                        <tr><td class="config-label">执行时间</td><td><input type="time" id="xingkong_time" value="07:30" class="form-input"></td></tr>
                        <tr><td class="config-label">推送通道</td><td><div id="xingkong_push_channels" class="push-channels-select"></div></td></tr>
                    </table>
                </div>
            </div>
            <div class="card config-section fade-in" data-section="qtw" data-module="scheduled" style="animation-delay: 0.36s;">
                <div class="card-header"><h2>🖼️ 千图网签到</h2>
                    <div class="card-actions"><button class="btn btn-secondary section-reload-btn"><span>🔄</span> 重新加载</button><button class="btn btn-primary section-save-btn"><span>💾</span> 保存</button></div>
                </div>
                <div class="card-body">
                    <table class="config-table">
                        <tr><td class="config-label">启用</td><td><label class="switch"><input type="checkbox" id="qtw_enable"><span class="slider"></span></label><span class="switch-label" id="qtw_enable_label">关闭</span></td></tr>
                        <tr><td class="config-label">Cookie（单条）</td><td><input type="text" id="qtw_cookie" class="form-input" placeholder="多账号用下方列表"></td></tr>
                        <tr><td class="config-label">多 Cookie</td><td><div id="qtw_cookies_list" class="multi-cookies-list"></div><button type="button" id="qtw_add_cookie_btn" class="btn btn-secondary" style="margin-top:10px;"><span>➕</span> 添加</button></td></tr>
                        <tr><td class="config-label">执行时间</td><td><input type="time" id="qtw_time" value="01:30" class="form-input"></td></tr>
                        <tr><td class="config-label">推送通道</td><td><div id="qtw_push_channels" class="push-channels-select"></div></td></tr>
                    </table>
                </div>
            </div>

            <!-- Freenom 域名续期 -->
            <div class="card config-section fade-in" data-section="freenom" data-module="scheduled" style="animation-delay: 0.37s;">
                <div class="card-header">
                    <h2>🌐 Freenom 域名续期</h2>
                    <div class="card-actions">
                        <button class="btn btn-secondary section-reload-btn"><span>🔄</span> 重新加载</button>
                        <button class="btn btn-primary section-save-btn"><span>💾</span> 保存配置</button>
                    </div>
                </div>
                <div class="card-body">
                    <table class="config-table">
                        <tr>
                            <td class="config-label">启用 Freenom 续期</td>
                            <td>
                                <label class="switch">
                                    <input type="checkbox" id="freenom_enable">
                                    <span class="slider"></span>
                                </label>
                                <span class="switch-label" id="freenom_enable_label">关闭</span>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">多账号</td>
                            <td>
                                <div id="freenom_accounts_list" class="multi-accounts-list"></div>
                                <button type="button" id="freenom_add_account_btn" class="btn btn-secondary" style="margin-top:10px;">
                                    <span>➕</span> 添加账号
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">执行时间</td>
                            <td><input type="time" id="freenom_time" class="form-input" value="07:33"></td>
                        </tr>
                        <tr>
                            <td class="config-label">推送通道</td>
                            <td>
                                <div id="freenom_push_channels" class="push-channels-select"></div>
                                <p class="help-text">不选择则使用全部已配置的通道</p>
                            </td>
                        </tr>
                    </table>
                    <div class="help-box" style="margin-top: 16px;">
                        <p>使用邮箱+密码登录 Freenom，对 14 天内到期的免费域名尝试续期 12 个月。多账号请在下方列表配置。</p>
                    </div>
                </div>
            </div>

            <!-- 天气推送 -->
            <div class="card config-section fade-in" data-section="weather" data-module="scheduled" style="animation-delay: 0.38s;">
                <div class="card-header">
                    <h2>☁️ 天气推送</h2>
                    <div class="card-actions">
                        <button class="btn btn-secondary section-reload-btn"><span>🔄</span> 重新加载</button>
                        <button class="btn btn-primary section-save-btn"><span>💾</span> 保存配置</button>
                    </div>
                </div>
                <div class="card-body">
                    <table class="config-table">
                        <tr>
                            <td class="config-label">启用天气推送</td>
                            <td>
                                <label class="switch">
                                    <input type="checkbox" id="weather_enable">
                                    <span class="slider"></span>
                                </label>
                                <span class="switch-label" id="weather_enable_label">关闭</span>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">城市代码</td>
                            <td><input type="text" id="weather_city_code" class="form-input" placeholder="例如 101020100（上海）"></td>
                        </tr>
                        <tr>
                            <td class="config-label">执行时间</td>
                            <td><input type="time" id="weather_time" class="form-input" value="07:30"></td>
                        </tr>
                        <tr>
                            <td class="config-label">推送通道</td>
                            <td>
                                <div id="weather_push_channels" class="push-channels-select"></div>
                                <p class="help-text">不选择则使用全部已配置的通道</p>
                            </td>
                        </tr>
                    </table>
                    <div class="help-box" style="margin-top: 16px;">
                        <p>根据城市代码推送今日天气与未来 7 日预报，仅作为信息通知。</p>
                    </div>
                </div>
            </div>

            <!-- 夸克网盘签到 -->
            <div class="card config-section fade-in" data-section="kuake" data-module="scheduled" style="animation-delay: 0.39s;">
                <div class="card-header">
                    <h2>🗂️ 夸克网盘签到</h2>
                    <div class="card-actions">
                        <button class="btn btn-secondary section-reload-btn"><span>🔄</span> 重新加载</button>
                        <button class="btn btn-primary section-save-btn"><span>💾</span> 保存配置</button>
                    </div>
                </div>
                <div class="card-body">
                    <table class="config-table">
                        <tr>
                            <td class="config-label">启用夸克签到</td>
                            <td>
                                <label class="switch">
                                    <input type="checkbox" id="kuake_enable">
                                    <span class="slider"></span>
                                </label>
                                <span class="switch-label" id="kuake_enable_label">关闭</span>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">Cookie（单条）</td>
                            <td><input type="text" id="kuake_cookie" class="form-input" placeholder="多账号用下方列表"></td>
                        </tr>
                        <tr>
                            <td class="config-label">多 Cookie</td>
                            <td>
                                <div id="kuake_cookies_list" class="multi-cookies-list"></div>
                                <button type="button" id="kuake_add_cookie_btn" class="btn btn-secondary" style="margin-top:10px;">
                                    <span>➕</span> 添加 Cookie
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">执行时间</td>
                            <td><input type="time" id="kuake_time" class="form-input" value="02:00"></td>
                        </tr>
                        <tr>
                            <td class="config-label">推送通道</td>
                            <td>
                                <div id="kuake_push_channels" class="push-channels-select"></div>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- 科技玩家签到 -->
            <div class="card config-section fade-in" data-section="kjwj" data-module="scheduled" style="animation-delay: 0.40s;">
                <div class="card-header">
                    <h2>🧪 科技玩家签到</h2>
                    <div class="card-actions">
                        <button class="btn btn-secondary section-reload-btn"><span>🔄</span> 重新加载</button>
                        <button class="btn btn-primary section-save-btn"><span>💾</span> 保存配置</button>
                    </div>
                </div>
                <div class="card-body">
                    <table class="config-table">
                        <tr>
                            <td class="config-label">启用科技玩家签到</td>
                            <td>
                                <label class="switch">
                                    <input type="checkbox" id="kjwj_enable">
                                    <span class="slider"></span>
                                </label>
                                <span class="switch-label" id="kjwj_enable_label">关闭</span>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">多账号</td>
                            <td>
                                <div id="kjwj_accounts_list" class="multi-accounts-list"></div>
                                <button type="button" id="kjwj_add_account_btn" class="btn btn-secondary" style="margin-top:10px;">
                                    <span>➕</span> 添加账号
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">执行时间</td>
                            <td><input type="time" id="kjwj_time" class="form-input" value="07:30"></td>
                        </tr>
                        <tr>
                            <td class="config-label">推送通道</td>
                            <td>
                                <div id="kjwj_push_channels" class="push-channels-select"></div>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- 帆软社区签到 + 摇摇乐 -->
            <div class="card config-section fade-in" data-section="fr" data-module="scheduled" style="animation-delay: 0.41s;">
                <div class="card-header">
                    <h2>📊 帆软社区签到 + 摇摇乐</h2>
                    <div class="card-actions">
                        <button class="btn btn-secondary section-reload-btn"><span>🔄</span> 重新加载</button>
                        <button class="btn btn-primary section-save-btn"><span>💾</span> 保存配置</button>
                    </div>
                </div>
                <div class="card-body">
                    <table class="config-table">
                        <tr>
                            <td class="config-label">启用帆软签到</td>
                            <td>
                                <label class="switch">
                                    <input type="checkbox" id="fr_enable">
                                    <span class="slider"></span>
                                </label>
                                <span class="switch-label" id="fr_enable_label">关闭</span>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">Cookie</td>
                            <td><input type="text" id="fr_cookie" class="form-input" placeholder="帆软社区 Cookie"></td>
                        </tr>
                        <tr>
                            <td class="config-label">执行时间</td>
                            <td><input type="time" id="fr_time" class="form-input" value="06:30"></td>
                        </tr>
                        <tr>
                            <td class="config-label">推送通道</td>
                            <td>
                                <div id="fr_push_channels" class="push-channels-select"></div>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- 999 会员中心健康打卡 -->
            <div class="card config-section fade-in" data-section="nine_nine_nine" data-module="scheduled" style="animation-delay: 0.42s;">
                <div class="card-header">
                    <h2>💊 999 会员中心健康打卡</h2>
                    <div class="card-actions">
                        <button class="btn btn-secondary section-reload-btn"><span>🔄</span> 重新加载</button>
                        <button class="btn btn-primary section-save-btn"><span>💾</span> 保存配置</button>
                    </div>
                </div>
                <div class="card-body">
                    <table class="config-table">
                        <tr>
                            <td class="config-label">启用 999 健康任务</td>
                            <td>
                                <label class="switch">
                                    <input type="checkbox" id="nine_nine_nine_enable">
                                    <span class="slider"></span>
                                </label>
                                <span class="switch-label" id="nine_nine_nine_enable_label">关闭</span>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">Authorization 列表</td>
                            <td>
                                <div id="nine_nine_nine_tokens_list" class="multi-cookies-list"></div>
                                <button type="button" id="nine_nine_nine_add_token_btn" class="btn btn-secondary" style="margin-top:10px;">
                                    <span>➕</span> 添加 Token
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">执行时间</td>
                            <td><input type="time" id="nine_nine_nine_time" class="form-input" value="15:15"></td>
                        </tr>
                        <tr>
                            <td class="config-label">推送通道</td>
                            <td><div id="nine_nine_nine_push_channels" class="push-channels-select"></div></td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- 中国福彩抽奖活动 -->
            <div class="card config-section fade-in" data-section="zgfc" data-module="scheduled" style="animation-delay: 0.43s;">
                <div class="card-header">
                    <h2>🎁 中国福彩抽奖活动</h2>
                    <div class="card-actions">
                        <button class="btn btn-secondary section-reload-btn"><span>🔄</span> 重新加载</button>
                        <button class="btn btn-primary section-save-btn"><span>💾</span> 保存配置</button>
                    </div>
                </div>
                <div class="card-body">
                    <table class="config-table">
                        <tr>
                            <td class="config-label">启用福彩抽奖</td>
                            <td>
                                <label class="switch">
                                    <input type="checkbox" id="zgfc_enable">
                                    <span class="slider"></span>
                                </label>
                                <span class="switch-label" id="zgfc_enable_label">关闭</span>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">Authorization 列表</td>
                            <td>
                                <div id="zgfc_tokens_list" class="multi-cookies-list"></div>
                                <button type="button" id="zgfc_add_token_btn" class="btn btn-secondary" style="margin-top:10px;">
                                    <span>➕</span> 添加 Token
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">执行时间</td>
                            <td><input type="time" id="zgfc_time" class="form-input" value="08:00"></td>
                        </tr>
                        <tr>
                            <td class="config-label">推送通道</td>
                            <td><div id="zgfc_push_channels" class="push-channels-select"></div></td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- 双色球开奖通知 -->
            <div class="card config-section fade-in" data-section="ssq_500w" data-module="scheduled" style="animation-delay: 0.44s;">
                <div class="card-header">
                    <h2>🎲 双色球开奖通知（娱乐）</h2>
                    <div class="card-actions">
                        <button class="btn btn-secondary section-reload-btn"><span>🔄</span> 重新加载</button>
                        <button class="btn btn-primary section-save-btn"><span>💾</span> 保存配置</button>
                    </div>
                </div>
                <div class="card-body">
                    <table class="config-table">
                        <tr>
                            <td class="config-label">启用双色球通知</td>
                            <td>
                                <label class="switch">
                                    <input type="checkbox" id="ssq_500w_enable">
                                    <span class="slider"></span>
                                </label>
                                <span class="switch-label" id="ssq_500w_enable_label">关闭</span>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">执行时间</td>
                            <td><input type="time" id="ssq_500w_time" class="form-input" value="21:30"></td>
                        </tr>
                        <tr>
                            <td class="config-label">推送通道</td>
                            <td><div id="ssq_500w_push_channels" class="push-channels-select"></div></td>
                        </tr>
                    </table>
                    <div class="help-box" style="margin-top: 16px;">
                        <p>仅用于获取最新双色球开奖号码、守号检测和冷号机选推荐，不涉及真实购彩。</p>
                    </div>
                </div>
            </div>

            <!-- 日志清理任务配置 -->
            <div class="card config-section fade-in" data-section="log_cleanup" data-module="scheduled" style="animation-delay: 0.25s;">
                <div class="card-header">
                    <h2>🧹 日志清理任务配置</h2>
                    <div class="card-actions">
                        <button class="btn btn-secondary section-reload-btn">
                            <span>🔄</span>
                            重新加载
                        </button>
                        <button class="btn btn-primary section-save-btn">
                            <span>💾</span>
                            保存配置
                        </button>
                    </div>
                </div>
                <div class="card-body">
                    <table class="config-table">
                        <tr>
                            <td class="config-label">启用日志清理任务</td>
                            <td>
                                <label class="switch">
                                    <input type="checkbox" id="log_cleanup_enable">
                                    <span class="slider"></span>
                                </label>
                                <span class="switch-label" id="log_cleanup_enable_label">开启</span>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">执行时间</td>
                            <td><input type="time" id="log_cleanup_time" class="form-input" value="02:10"></td>
                        </tr>
                        <tr>
                            <td class="config-label">日志保留天数</td>
                            <td><input type="number" id="retention_days" class="form-input" min="1" placeholder="默认3天"></td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- 应用基础配置 -->
            <div class="card config-section fade-in" data-section="app" data-module="push" style="animation-delay: 0.25s;">
                <div class="card-header">
                    <h2>🌐 应用基础配置</h2>
                    <div class="card-actions">
                        <button class="btn btn-secondary section-reload-btn">
                            <span>🔄</span>
                            重新加载
                        </button>
                        <button class="btn btn-primary section-save-btn">
                            <span>💾</span>
                            保存配置
                        </button>
                    </div>
                </div>
                <div class="card-body">
                    <table class="config-table">
                        <tr>
                            <td class="config-label">Base URL</td>
                            <td>
                                <input type="text" id="app_base_url" class="form-input" placeholder="例如：http://localhost:8866 或 http://your-domain.com:8866">
                                <p class="help-text">
                                    用于拼接微博封面图等资源的完整访问链接。
                                    建议填写你实际访问 Web 管理界面的地址；留空时，将继续使用固定示例图片。
                                </p>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">推送超限时使用 LLM 压缩</td>
                            <td>
                                <label class="switch">
                                    <input type="checkbox" id="app_push_compress_with_llm">
                                    <span class="slider"></span>
                                </label>
                                <span class="switch-label" id="app_push_compress_with_llm_label">关闭</span>
                                <p class="help-text">当某渠道内容超过该渠道官方字数限制时，使用 AI 生成摘要再推送（需配置 AI 助手）</p>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">LLM 个性化推送</td>
                            <td>
                                <label class="switch">
                                    <input type="checkbox" id="app_push_personalize_with_llm">
                                    <span class="slider"></span>
                                </label>
                                <span class="switch-label" id="app_push_personalize_with_llm_label">关闭</span>
                                <p class="help-text">使用 AI 结合事件数据生成更自然、贴切的推送标题和内容，实现个性化推送（需配置 AI 助手）</p>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- 免打扰时段配置 -->
            <div class="card config-section fade-in" data-section="quiet_hours" data-module="push" style="animation-delay: 0.3s;">
                <div class="card-header">
                    <h2>🔕 免打扰时段配置</h2>
                    <div class="card-actions">
                        <button class="btn btn-secondary section-reload-btn">
                            <span>🔄</span>
                            重新加载
                        </button>
                        <button class="btn btn-primary section-save-btn">
                            <span>💾</span>
                            保存配置
                        </button>
                    </div>
                </div>
                <div class="card-body">
                    <table class="config-table">
                        <tr>
                            <td class="config-label">启用免打扰时段</td>
                            <td>
                                <label class="switch">
                                    <input type="checkbox" id="quiet_hours_enable">
                                    <span class="slider"></span>
                                </label>
                                <span class="switch-label" id="quiet_hours_enable_label">关闭</span>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">开始时间</td>
                            <td><input type="time" id="quiet_hours_start" class="form-input" placeholder="HH:MM"></td>
                        </tr>
                        <tr>
                            <td class="config-label">结束时间</td>
                            <td><input type="time" id="quiet_hours_end" class="form-input" placeholder="HH:MM"></td>
                        </tr>
                    </table>
                    <div class="help-box" style="margin-top: 16px;">
                        <p class="warning">⚠️ 开启此功能后，在免打扰时段内的监控任务将继续执行，但不会推送通知给用户</p>
                    </div>
                </div>
            </div>

            <!-- AI 助手配置 -->
            <div class="card config-section fade-in" data-section="ai_assistant" data-module="ai" style="animation-delay: 0.32s;">
                <div class="card-header">
                    <h2>🤖 AI 助手配置</h2>
                    <div class="card-actions">
                        <button class="btn btn-secondary section-reload-btn">
                            <span>🔄</span>
                            重新加载
                        </button>
                        <button class="btn btn-primary section-save-btn">
                            <span>💾</span>
                            保存配置
                        </button>
                    </div>
                </div>
                <div class="card-body">
                    <table class="config-table">
                        <tr>
                            <td class="config-label">启用 AI 助手</td>
                            <td>
                                <label class="switch">
                                    <input type="checkbox" id="ai_assistant_enable">
                                    <span class="slider"></span>
                                </label>
                                <span class="switch-label" id="ai_assistant_enable_label">关闭</span>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">Provider</td>
                            <td>
                                <select id="ai_assistant_provider" class="form-input">
                                    <option value="openai">OpenAI</option>
                                    <option value="deepseek">DeepSeek</option>
                                    <option value="qwen">通义千问</option>
                                    <option value="zhipu">智谱 GLM</option>
                                    <option value="moonshot">Moonshot (Kimi)</option>
                                    <option value="ollama">Ollama (本地)</option>
                                    <option value="openai_compatible">OpenAI 兼容</option>
                                </select>
                                <p class="help-text">LLM 厂商，需 OpenAI 兼容 API</p>
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">API Base</td>
                            <td>
                                <input type="text" id="ai_assistant_api_base" class="form-input" placeholder="留空使用 provider 默认；Ollama 为 http://localhost:11434/v1">
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">API Key</td>
                            <td>
                                <input type="password" id="ai_assistant_api_key" class="form-input" placeholder="可改用环境变量 AI_ASSISTANT_API_KEY">
                            </td>
                        </tr>
                        <tr>
                            <td class="config-label">Model</td>
                            <td><input type="text" id="ai_assistant_model" class="form-input" placeholder="如 deepseek-chat、gpt-4o-mini"></td>
                        </tr>
                        <tr>
                            <td class="config-label">Embedding Model</td>
                            <td><input type="text" id="ai_assistant_embedding_model" class="form-input" placeholder="RAG 嵌入模型，默认 text-embedding-3-small"></td>
                        </tr>
                        <tr>
                            <td class="config-label">Chroma 存储目录</td>
                            <td><input type="text" id="ai_assistant_chroma_persist_dir" class="form-input" placeholder="data/ai_assistant_chroma"></td>
                        </tr>
                        <tr>
                            <td class="config-label">向量库更新间隔（秒）</td>
                            <td><input type="number" id="ai_assistant_rag_index_refresh_interval_seconds" class="form-input" min="60" max="86400" placeholder="1800"> 秒，默认 1800（30 分钟）</td>
                        </tr>
                        <tr>
                            <td class="config-label">每分钟请求限制</td>
                            <td><input type="number" id="ai_assistant_rate_limit_per_minute" class="form-input" min="1" max="120" placeholder="10"></td>
                        </tr>
                        <tr>
                            <td class="config-label">多轮对话保留轮数</td>
                            <td><input type="number" id="ai_assistant_max_history_rounds" class="form-input" min="1" max="50" placeholder="10"></td>
                        </tr>
                    </table>
                    <div class="help-box" style="margin-top: 16px;">
                        <p>在配置/任务/数据页底部有悬浮「问 AI」入口。</p>
                    </div>
                </div>
            </div>

            <!-- 推送通道配置 -->
            <div class="card config-section fade-in" data-section="push_channel" data-module="push" style="animation-delay: 0.35s;">
                <div class="card-header">
                    <h2>📢 推送通道配置</h2>
                </div>
                <div class="card-body">
                    <div id="pushChannelsContainer">
                        <!-- 推送通道将通过JavaScript动态生成 -->
                    </div>
                </div>
            </div>

            <!-- 插件/扩展配置（二次开发，如 plugins.demo_task） -->
            <div class="card config-section fade-in" data-section="plugins" data-module="plugins" style="animation-delay: 0.4s;">
                <div class="card-header">
                    <h2>🔌 插件/扩展配置</h2>
                    <div class="card-actions">
                        <button class="btn btn-secondary section-reload-btn">
                            <span>🔄</span>
                            重新加载
                        </button>
                        <button class="btn btn-primary section-save-btn">
                            <span>💾</span>
                            保存配置
                        </button>
                    </div>
                </div>
                <div class="card-body">
                    <table class="config-table">
                        <tr>
                            <td class="config-label">plugins（JSON）</td>
                            <td>
                                <textarea id="plugins_json" class="form-textarea yaml-editor" rows="8" placeholder='{"demo_task": {"enable": false, "time": "08:30", "message": "说明"}}'></textarea>
                            </td>
                        </tr>
                    </table>
                    <div class="help-box" style="margin-top: 16px;">
                        <p>用于二次开发的扩展配置，对应 config.yml 中的 <code style="background: #e2e8f0; padding: 2px 6px; border-radius: 4px;">plugins</code>。格式为 JSON，与 YAML 中的结构一致。详见项目内 <code style="background: #e2e8f0; padding: 2px 6px; border-radius: 4px;">docs/SECONDARY_DEVELOPMENT.md</code>。</p>
                    </div>
                </div>
            </div>
            </div>
            
            <!-- 文本视图容器 -->
            <div id="textView" class="view-container" style="display: none;">
                <div class="card fade-in">
                    <div class="card-header">
                        <h2>📄 配置文件（YAML格式）</h2>
                        <div class="card-actions">
                            <button id="reloadYamlBtn" class="btn btn-secondary">
                                <span>🔄</span>
                                重新加载
                            </button>
                            <button id="saveYamlBtn" class="btn btn-primary">
                                <span>💾</span>
                                保存配置
                            </button>
                        </div>
                    </div>
                    <div class="card-body">
                        <textarea id="yamlEditor" class="yaml-editor" placeholder="加载配置文件中..."></textarea>
                    </div>
                </div>
            </div>

        </div>
    </div>
    <button id="backToTopBtn" class="back-to-top" aria-label="返回顶部">↑</button>
    <script src="/static/js/common.js?v=5"></script>
    <script src="/static/js/config.js?v=6"></script>
    <script src="/static/js/assistant.js?v=1"></script>
</body>
</html>
