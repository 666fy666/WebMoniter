# Web任务系统配置文件
#
# 使用方法：
# 1. 复制此文件为 config.yml: cp config.yml.sample config.yml
# 2. 根据实际情况修改 config.yml 中的配置项
# 3. 修改后无需重启，系统支持配置热重载（约 5 秒内生效）
#    （说明：目前仅部分字段会被用来触发调度器热更新，例如监控间隔、少数签到任务的执行时间等；
#     其他任务的 `time` 等配置在修改后如发现未按预期更新执行时间，建议重启程序以确保生效。）

# =============================================================================
# 微博监控配置
# =============================================================================
# 获取 Cookie：登录微博网页版 → 打开开发者工具(F12) → Network 中任意请求复制 Cookie 请求头
# 获取 UID：访问用户主页，URL 中数字即为 UID，例如 https://weibo.com/u/1234567890 → UID 为 1234567890
weibo:
  cookie: your_weibo_cookie  # 从浏览器开发者工具获取
  uids: uid1,uid2,uid3  # 逗号分隔的 UID 列表
  concurrency: 2  # 并发数，建议 2-5（避免触发限流）
  monitor_interval_seconds: 300  # 监控间隔（秒），默认 300（5 分钟）
  push_channels: []  # 推送通道名称列表（可多选），为空时使用全部已配置的通道，如 [企业微信应用, 钉钉机器人, 飞书机器人, WxPusher]

# =============================================================================
# 微博超话签到配置（须包含 XSRF-TOKEN，支持多 Cookie）
# =============================================================================
# Cookie：浏览器打开微博，F12 控制台执行 document.cookie 获取
# 多 Cookie：配置 cookies 列表后优先使用，每项为完整 Cookie 字符串，会对每个 Cookie 依次签到并分别推送
# 签到时间：默认每天 23:45；enable: true 且配置完整时，项目启动时也会执行一次
weibo_chaohua:
  enable: false  # 是否启用微博超话签到
  cookie:  # 单 Cookie（多 Cookie 时可不填）
  # cookies:
  #   - "SCF=xxx; XSRF-TOKEN=xxx; SUB=xxx; ..."
  #   - "SCF=yyy; XSRF-TOKEN=yyy; SUB=yyy; ..."
  time: "23:45"  # 签到时间（24 小时制 HH:MM），默认 23:45
  push_channels: []  # 推送通道名称列表（可多选），为空时使用全部已配置的通道

# =============================================================================
# 虎牙监控配置
# =============================================================================
# 获取房间号：从虎牙直播间 URL 获取，例如 https://www.huya.com/123456 → 房间号为 123456
huya:
  rooms: room1,room2,room3  # 逗号分隔的房间号列表
  concurrency: 5  # 并发数，建议 5-10
  monitor_interval_seconds: 65  # 监控间隔（秒），默认 65
  push_channels: []  # 推送通道名称列表（可多选），为空时使用全部已配置的通道

# =============================================================================
# 哔哩哔哩监控配置（动态 + 开播/下播）
# =============================================================================
# 获取 UID：访问用户空间页，URL 中数字即为 UID，例如 https://space.bilibili.com/1795147802 → UID 为 1795147802
# Cookie 可选，配置后防 ban；payload 用于 -352 时自动获取 buvid3
bilibili:
  cookie: ""  # 可选，小号 Cookie
  payload: ""  # 可选，浏览器指纹 payload，用于自动获取 buvid3
  uids: uid1,uid2  # 逗号分隔的 UID 列表（动态和直播共用）
  skip_forward: true  # 是否跳过转发类型动态
  concurrency: 2
  monitor_interval_seconds: 60
  push_channels: []

# =============================================================================
# 抖音直播监控配置（开播/下播）
# =============================================================================
# 获取抖音号：从直播间 URL 获取，例如 https://live.douyin.com/ASOULjiaran → 抖音号为 ASOULjiaran
douyin:
  douyin_ids: id1,id2  # 逗号分隔的抖音号列表（支持纯数字）
  concurrency: 2
  monitor_interval_seconds: 30
  push_channels: []

# =============================================================================
# 斗鱼直播监控配置（开播/下播）
# =============================================================================
# 获取房间号：从直播间 URL 获取，例如 https://www.douyu.com/307876 → 房间号为 307876
douyu:
  rooms: room1,room2  # 逗号分隔的房间号列表
  concurrency: 2
  monitor_interval_seconds: 300
  push_channels: []

# =============================================================================
# 小红书动态监控配置
# =============================================================================
# 获取 profile_id：从用户主页 URL 获取，例如 https://www.xiaohongshu.com/user/profile/52d8c541b4c4d60e6c867480
xhs:
  cookie: ""  # 可选，配置后防 ban
  profile_ids: id1,id2  # 逗号分隔的 profile_id 列表
  concurrency: 2
  monitor_interval_seconds: 300
  push_channels: []

# =============================================================================
# iKuuu 签到配置
# =============================================================================
# 域名自动从 ikuuu.club 发现，无需手动配置
# 按配置每天固定时间（默认 08:00）自动签到，项目启动时也会执行一次（enable: true 且配置完整时）
# 多账号：配置 accounts 列表，每项包含 email、password，会对每个账号依次登录、签到并分别推送；不配置时使用单账号 email/password
checkin:
  enable: false  # 是否启用每日签到
  email:  # 单账号登录邮箱（多账号时可不填）
  password:  # 单账号登录密码
  # accounts:  # 多账号，配置后优先于单账号
  #   - email: user1@example.com
  #     password: pass1
  #   - email: user2@example.com
  #     password: pass2
  time: "08:00"  # 签到时间（24 小时制 HH:MM），默认每天早上 8 点
  push_channels: []  # 推送通道名称列表（可多选），为空时使用全部已配置的通道

# =============================================================================
# 雨云签到配置（使用 API Key）
# =============================================================================
# 获取 API Key：登录雨云 → 总览 → 用户 → 账户设置 → API 密钥
# 按配置每天固定时间（默认 08:30）自动签到，项目启动时也会执行一次（enable: true 且配置了 API Key 时）
# 签到需通过腾讯验证码验证，系统会自动完成
# 多 API Key：配置 api_keys 列表后优先使用，会对每个 API Key 依次签到并分别推送
rainyun:
  enable: false  # 是否启用雨云签到
  api_key:  # 单 API Key（与 api_keys 二选一）
  # api_keys:  # 多 API Key 列表，非空时优先于 api_key
  #   - key1
  #   - key2
  time: "08:30"  # 签到时间（24 小时制 HH:MM），默认 08:30
  push_channels: []  # 推送通道名称列表（可多选），为空时使用全部已配置的通道

# =============================================================================
# 百度贴吧签到配置（须包含 BDUSS，支持多 Cookie）
# =============================================================================
# Cookie：须包含 BDUSS，浏览器登录贴吧后 F12 控制台执行 document.cookie 获取
# 多 Cookie：配置 cookies 列表后优先使用，每项为完整 Cookie，会对每个 Cookie 依次签到并分别推送
# 签到时间：默认每天 08:10；enable: true 且配置了 Cookie 时，项目启动时也会执行一次
# 推送：签到结果通过下方 push_channel 发送，受免打扰时段控制
tieba:
  enable: false  # 是否启用贴吧签到
  cookie:  # 单 Cookie（多 Cookie 时可不填）
  # cookies:
  #   - "BIDUPSID=xxx; BDUSS=xxx; ..."
  #   - "BIDUPSID=yyy; BDUSS=yyy; ..."
  time: "08:10"  # 签到时间（24 小时制 HH:MM），默认 08:10
  push_channels: []  # 推送通道名称列表（可多选），为空时使用全部已配置的通道

# =============================================================================
# 恩山论坛签到配置（Cookie，支持多 Cookie）
# =============================================================================
# Cookie：登录恩山论坛后 F12 控制台执行 document.cookie 获取
enshan:
  enable: false
  cookie:
  # cookies:
  #   - "cookie1..."
  #   - "cookie2..."
  time: "02:00"
  push_channels: []

# =============================================================================
# 天翼云盘签到配置（手机号+密码，支持多账号）
# =============================================================================
tyyun:
  enable: false
  username:
  password:
  # accounts:
  #   - username: "13800138000"
  #     password: "xxx"
  time: "04:30"
  push_channels: []

# =============================================================================
# 阿里云盘签到配置（refresh_token，支持多账号）
# =============================================================================
# refresh_token 获取：见 https://github.com/bighammer-link/Common-scripts/wiki
aliyun:
  enable: false
  refresh_token:
  # refresh_tokens:
  #   - "token1"
  #   - "token2"
  time: "05:30"
  push_channels: []

# =============================================================================
# 什么值得买签到配置（Cookie，支持多 Cookie）
# =============================================================================
smzdm:
  enable: false
  cookie:
  # cookies:
  #   - "cookie1..."
  time: "00:30"
  push_channels: []

# =============================================================================
# 值得买每日抽奖配置（与 smzdm 共用 Cookie，支持多 Cookie）
# =============================================================================
zdm_draw:
  enable: false
  cookie:
  # cookies:
  #   - "cookie1..."
  time: "07:30"
  push_channels: []

# =============================================================================
# 富贵论坛签到配置（Cookie，支持多 Cookie）
# =============================================================================
fg:
  enable: false
  cookie:
  # cookies:
  #   - "cookie1..."
  time: "00:01"
  push_channels: []

# =============================================================================
# 小米社区签到配置（账号+密码，多账号；需 pycryptodome，有封号风险）
# =============================================================================
miui:
  enable: false
  account:
  password:
  # accounts:
  #   - account: "手机号"
  #     password: "密码"
  time: "08:30"
  push_channels: []

# =============================================================================
# 爱奇艺签到/刷时长配置（Cookie 须含 P00001、P00003、QC005、__dfp，多 Cookie）
# =============================================================================
iqiyi:
  enable: false
  cookie:
  # cookies:
  #   - "P00001=xxx; P00003=xxx; ..."
  time: "06:00"
  push_channels: []

# =============================================================================
# 联想乐豆签到配置（access_token，多账号）
# =============================================================================
# access_token：联想 App 请求头 Headers 中 accesstoken 的值
lenovo:
  enable: false
  access_token:
  # access_tokens:
  #   - "token1"
  #   - "token2"
  time: "05:30"
  push_channels: []

# =============================================================================
# 丽宝乐园小程序签到配置（请求体 JSON，多账号）
# =============================================================================
# 抓包 https://m.mallcoo.cn/api/user/User/GetRewardList 的请求体
lbly:
  enable: false
  request_body:
  # request_bodies:
  #   - '{"MallID":11192,"Header":{"Token":"xxx"}}'
  time: "05:30"
  push_channels: []

# =============================================================================
# 品赞代理签到配置（账号#密码，多账号）
# =============================================================================
# 格式：账号#密码，多账号用 accounts 或 & / @ 分隔
pinzan:
  enable: false
  account:
  password:
  # accounts:
  #   - account: "手机号"
  #     password: "密码"
  time: "08:00"
  push_channels: []

# =============================================================================
# 达美乐任务配置（openid，多账号）
# =============================================================================
# 小程序抓包获取 openid，多账号配置 openids 列表
dml:
  enable: false
  openid:
  # openids:
  #   - "openid1"
  #   - "openid2"
  time: "06:00"
  push_channels: []

# =============================================================================
# 小茅预约（i茅台）配置，参考 only_for_happly/backup/imaotai.py；需 pycryptodome
# =============================================================================
# 每条 token 格式：省份,城市,经度,纬度,设备id,token,MT-Token-Wap（小茅运领奖励可不填）
# 多账号用 tokens 列表；mt_version 不填则尝试从 App Store 页获取
xiaomao:
  enable: false
  token:
  # tokens:
  #   - "浙江省,宁波市,121.16,30.05,设备id,token,MT-Token-Wap"
  mt_version:   # 可选，如 1.3.6
  time: "09:00"
  push_channels: []

# =============================================================================
# 一点万象签到（deviceParams + token，多账号；参考 only_for_happly/ydwx.py）
# =============================================================================
ydwx:
  enable: false
  device_params:
  token:
  # accounts:
  #   - device_params: ""
  #     token: ""
  time: "06:00"
  push_channels: []

# =============================================================================
# 星空代理签到（用户名+密码，多账号；参考 only_for_happly/xingkong.py）
# =============================================================================
xingkong:
  enable: false
  username:
  password:
  # accounts:
  #   - username: ""
  #     password: ""
  time: "07:30"
  push_channels: []

# =============================================================================
# Freenom 免费域名续期（多账号）
# =============================================================================
# Freenom：免费域名平台注册登录 → https://my.freenom.com/domains.php?a=renewals
# 原脚本需设置环境变量 freenom_usr / freenom_psd，本项目改为统一 YAML 配置，多账号支持：
# - accounts: 列表，每项包含 email、password，对应 Freenom 登录邮箱和密码
# - 系统会逐个账号登录并尝试对 14 天内到期的域名自动续期 12 个月
freenom:
  enable: false
  # accounts:
  #   - email: "user1@example.com"
  #     password: "pass1"
  #   - email: "user2@example.com"
  #     password: "pass2"
  time: "07:33"
  push_channels: []

# =============================================================================
# 天气推送（城市代码 + 7 日预报）
# =============================================================================
# 使用接口：http://t.weather.itboy.net/api/weather/city/{city_code}
# 城市代码可参考：https://fastly.jsdelivr.net/gh/Oreomeow/checkinpanel@master/city.json
# 每日固定时间推送今日天气和未来 7 天简要预报
weather:
  enable: false
  city_code: ""  # 如 101020100（上海）
  time: "07:30"
  push_channels: []

# =============================================================================
# 千图网签到（Cookie，多账号；参考 only_for_happly/qtw.py）
# =============================================================================
qtw:
  enable: false
  cookie:
  # cookies:
  #   - ""
  time: "01:30"
  push_channels: []

# =============================================================================
# 夸克网盘签到（Cookie，多账号；参考 only_for_happly/kuake.py）
# =============================================================================
# 抓包 https://pan.quark.cn/ 登录后的请求头 Cookie，完整复制。
# 多账号：cookies 列表，每项为一个完整 Cookie。
kuake:
  enable: false
  cookie:
  # cookies:
  #   - "quark_cookie1"
  #   - "quark_cookie2"
  time: "02:00"
  push_channels: []

# =============================================================================
# 科技玩家签到（账号+密码，多账号；参考 only_for_happly/kjwj.py）
# =============================================================================
kjwj:
  enable: false
  # accounts:
  #   - username: "user1@example.com"
  #     password: "pass1"
  #   - username: "user2@example.com"
  #     password: "pass2"
  time: "07:30"
  push_channels: []

# =============================================================================
# 帆软社区签到 + 摇摇乐（Cookie；参考 only_for_happly/fr.py）
# =============================================================================
fr:
  enable: false
  cookie:
  time: "06:30"
  push_channels: []

# =============================================================================
# 999 会员中心健康打卡任务（Authorization，多账号；参考 only_for_happly/999.py）
# =============================================================================
nine_nine_nine:
  enable: false
  # tokens:
  #   - "授权1（抓 mc.999.com.cn 请求头 Authorization）"
  #   - "授权2"
  time: "15:15"
  push_channels: []

# =============================================================================
# 中国福彩抽奖活动（Authorization，多账号；参考 only_for_happly/zgfc.py）
# =============================================================================
zgfc:
  enable: false
  # tokens:
  #   - "Authorization1"
  #   - "Authorization2"
  time: "08:00"
  push_channels: []

# =============================================================================
# 双色球开奖监控 + 守号检测 + 冷号机选（参考 only_for_happly/500w.py）
# =============================================================================
ssq_500w:
  enable: false
  time: "21:30"
  push_channels: []

# =============================================================================
# 日志清理任务配置
# =============================================================================
# 按每日固定时间执行日志清理任务，默认 02:10，修改后热重载生效
log_cleanup:
  enable: true  # 是否启用日志清理任务
  time: "02:10"  # 执行时间（24 小时制 HH:MM），默认 02:10
  retention_days: 3  # 日志保留天数，默认 3 天

# =============================================================================
# 免打扰时段配置
# =============================================================================
# 启用后，在指定时间段内静默运行：监控任务会正常执行并更新数据库，但不会推送通知（日志中仍会记录）
# 支持跨天设置，例如 start: "22:00" end: "08:00" 表示晚 10 点到早 8 点不推送
# ⚠️ 免打扰时段内可能遗漏重要消息，请谨慎使用
quiet_hours:
  enable: false  # 是否启用免打扰时段
  start: "03:00"  # 开始时间（24 小时制 HH:MM）
  end: "08:00"  # 结束时间（24 小时制 HH:MM）

# =============================================================================
# 插件/扩展任务配置（供二次开发使用，详见 docs/SECONDARY_DEVELOPMENT.md）
# =============================================================================
# 新增定时任务可使用 plugins.xxx 配置；不需要 demo_task 可删除此块，并在 src/job_registry.TASK_MODULES 中移除 tasks.demo_task
plugins:
  demo_task:
    enable: false
    time: "08:30"  # 执行时间 HH:MM
    message: "Demo 定时任务执行完成"

# =============================================================================
# 推送通道配置
# =============================================================================
# 支持配置多个推送通道。每个通道需设置：name（唯一）、type，以及该 type 所需的其他字段
# 通道类型与说明见 README「推送通道支持」表格
# 每个任务可在其配置中通过 push_channels 字段选择使用哪些通道（按 name 匹配），为空时使用全部已配置的通道
push_channel:
  # Server酱 Turbo
  - name: Server酱_Turbo
    type: serverChan_turbo
    send_key:
  # Server酱 3
  - name: Server酱_3
    type: serverChan_3
    send_key:
    uid:
    tags:
  # 企业微信应用
  - name: 企业微信应用
    type: wecom_apps
    corp_id:
    agent_id:
    corp_secret:
    touser: "@all"  # 接收消息的用户ID，多个用户用竖线分隔，@all表示所有人
  # 企业微信机器人
  - name: 企业微信机器人
    type: wecom_bot
    key:
  # 钉钉机器人
  - name: 钉钉机器人
    type: dingtalk_bot
    access_token:  # 机器人访问令牌
    secret:  # 可选：加签密钥（SEC开头的字符串），如果配置了secret则使用加签方式，否则使用普通方式
  # 飞书自建应用
  - name: 飞书自建应用
    type: feishu_apps
    app_id:
    app_secret:
    receive_id_type:
    receive_id:
  # 飞书机器人
  - name: 飞书机器人
    type: feishu_bot
    webhook_key:  # 机器人Webhook Key
    sign_secret:  # 可选：签名密钥，如果配置了sign_secret则使用签名校验方式，否则使用普通方式
  # Telegram机器人
  - name: Telegram机器人
    type: telegram_bot
    api_token:
    chat_id:
  # QQ机器人（不推荐，需要使用app_secret获取AccessToken鉴权）
  - name: QQ机器人
    type: qq_bot
    base_url: https://api.sgroup.qq.com
    app_id:  # 机器人应用的App ID
    app_secret:  # 机器人应用的App Secret（用于获取AccessToken）
    # 注意：QQ开放平台已禁用固定Token，必须使用app_secret获取AccessToken
    push_target_list:
      - guild_name: "频道1"
        channel_name_list:
          - "子频道11"
          - "子频道12"
  # NapCatQQ
  - name: NapCatQQ
    type: napcat_qq
    api_url: http://localhost:3000
    token:
    user_id:
    group_id:
    at_qq: "all"
  # Bark
  - name: Bark
    type: bark
    server_url: https://api.day.app
    key:
  # Gotify
  - name: Gotify
    type: gotify
    web_server_url:
  # Webhook
  - name: Webhook
    type: webhook
    webhook_url: https://xxx.com?title={{title}}&content={{content}}
    request_method: GET
  # PushPlus
  - name: PushPlus
    type: pushplus
    token:
    channel: wechat  # 推送渠道，可选值：wechat(微信)、mail(邮件)、webhook(Webhook)、cp(企业微信)、sms(短信)等
    topic:  # 群组代码，可选，用于群组推送
    template: html  # 消息模板，可选值：html、txt、json、markdown等，默认html
    to:  # 好友消息的接收者标识，可选
  # Email
  - name: Email
    type: email
    smtp_host:
    smtp_port:
    smtp_ssl: true
    smtp_tls: false
    sender_email:
    sender_password:
    receiver_email:
  # WxPusher
  - name: WxPusher
    type: wxpusher
    app_token:  # 应用令牌，在WxPusher后台创建应用后获取
    uids:  # 用户ID列表，逗号分隔（可选，与topic_ids二选一）
    topic_ids:  # 主题ID列表，逗号分隔（可选，与uids二选一）
    content_type: 1  # 内容类型：1-文本，2-html，3-markdown，默认1

