# Web监控系统配置文件
#
# 使用方法：
# 1. 复制此文件为 config.yml: cp config.yml.sample config.yml
# 2. 根据实际情况修改 config.yml 中的配置项

# 微博监控配置
weibo:
  cookie: your_weibo_cookie
  uids: uid1,uid2,uid3  # 逗号分隔的UID列表
  concurrency: 2  # 并发数，建议2-5

# 微博超话签到配置（须包含 XSRF-TOKEN，支持多 Cookie）
weibo_chaohua:
  enable: false  # 是否启用微博超话签到
  # 单 Cookie（多 Cookie 时可不填），浏览器打开微博 F12 控制台输入 document.cookie 获取
  cookie: 
  # 多 Cookie：配置 cookies 列表后优先使用，每项为完整 Cookie 字符串
  # cookies:
  #   - "SCF=xxx; XSRF-TOKEN=xxx; SUB=xxx; ..."
  #   - "SCF=yyy; XSRF-TOKEN=yyy; SUB=yyy; ..."
  time: "23:45"  # 签到时间（24 小时制，格式：HH:MM），默认 23:45

# 虎牙监控配置
huya:
  rooms: room1,room2,room3  # 逗号分隔的房间号列表
  concurrency: 5  # 并发数，建议5-10

# ikuuu签到配置
checkin:
  enable: false  # 是否启用每日签到
  # 登录地址（例如：https://ikuuu.nl/auth/login）
  login_url: 
  # 签到接口地址（例如：https://ikuuu.nl/user/checkin）
  checkin_url: 
  # 用户信息页地址（例如：https://ikuuu.nl/user，用于解析剩余流量，可选）
  user_page_url: 
  # 单账号（与 password 搭配，多账号时可不填）
  email: 
  password: 
  # 多账号：配置 accounts 后优先使用，每项需包含 email、password
  # accounts:
  #   - email: user1@example.com
  #     password: pass1
  #   - email: user2@example.com
  #     password: pass2
  # 签到时间（24 小时制，格式：HH:MM），默认每天早上 8 点
  time: "08:00"

# 百度贴吧签到配置（须包含 BDUSS，支持多 Cookie）
tieba:
  enable: false  # 是否启用贴吧签到
  # 单 Cookie（多 Cookie 时可不填），浏览器打开贴吧 F12 控制台输入 document.cookie 获取
  cookie: 
  # 多 Cookie：配置 cookies 列表后优先使用，每项为完整 Cookie 字符串
  # cookies: 
  #   - "BIDUPSID=xxx; BDUSS=xxx; ..."
  #   - "BIDUPSID=yyy; BDUSS=yyy; ..."
  time: "08:10"  # 签到时间（24 小时制，格式：HH:MM），默认 08:10

# 调度器配置
scheduler:
  huya_monitor_interval_seconds: 65  # 虎牙监控间隔（秒），默认65秒
  weibo_monitor_interval_seconds: 300  # 微博监控间隔（秒），默认300秒（5分钟）
  cleanup_logs_hour: 2  # 日志清理时间（小时），默认2点
  cleanup_logs_minute: 0  # 日志清理时间（分钟），默认0分
  retention_days: 3  # 日志保留天数，默认3天

# 免打扰时段配置
# ⚠️ 注意：开启此功能后，在免打扰时段内的监控任务将继续执行，但不会推送通知给用户
# 这可能会导致您在免打扰时段内遗漏重要消息，请谨慎使用
quiet_hours:
  enable: false  # 是否启用免打扰时段，默认false
  start: "03:00"  # 免打扰时段开始时间（24小时制，格式：HH:MM），例如：22:00 表示晚上10点
  end: "08:00"  # 免打扰时段结束时间（24小时制，格式：HH:MM），例如：08:00 表示早上8点

# 插件/扩展任务配置（供二次开发使用，详见 docs/SECONDARY_DEVELOPMENT.md）
# 新增定时任务可使用 plugins.xxx 配置，无需修改 AppConfig
plugins:
  demo_task:  # 示例：Demo 定时任务（不需要可删除此块，并在 src/job_registry.TASK_MODULES 中移除 tasks.demo_task）
    enable: false
    time: "08:30"  # 执行时间 HH:MM
    message: "Demo 定时任务执行完成"

# 推送通道配置
# 通道名称，唯一，可自定义不要纯数字，对应 query_task 中的 target_push_name_list
push_channel:
  # Server酱 Turbo
  - name: Server酱_Turbo
    enable: false
    type: serverChan_turbo
    send_key:
  # Server酱 3
  - name: Server酱_3
    enable: false
    type: serverChan_3
    send_key:
    uid:
    tags:
  # 企业微信应用
  - name: 企业微信应用
    enable: false
    type: wecom_apps
    corp_id:
    agent_id:
    corp_secret:
    touser: "@all"  # 接收消息的用户ID，多个用户用竖线分隔，@all表示所有人
  # 企业微信机器人
  - name: 企业微信机器人
    enable: false
    type: wecom_bot
    key:
  # 钉钉机器人
  - name: 钉钉机器人
    enable: false
    type: dingtalk_bot
    access_token:  # 机器人访问令牌
    secret:  # 可选：加签密钥（SEC开头的字符串），如果配置了secret则使用加签方式，否则使用普通方式
  # 飞书自建应用
  - name: 飞书自建应用
    enable: false
    type: feishu_apps
    app_id:
    app_secret:
    receive_id_type:
    receive_id:
  # 飞书机器人
  - name: 飞书机器人
    enable: false
    type: feishu_bot
    webhook_key:  # 机器人Webhook Key
    sign_secret:  # 可选：签名密钥，如果配置了sign_secret则使用签名校验方式，否则使用普通方式
  # Telegram机器人
  - name: Telegram机器人
    enable: false
    type: telegram_bot
    api_token:
    chat_id:
  # QQ机器人（不推荐，需要使用app_secret获取AccessToken鉴权）
  - name: QQ机器人
    enable: false
    type: qq_bot
    base_url: https://api.sgroup.qq.com
    app_id:  # 机器人应用的App ID
    app_secret:  # 机器人应用的App Secret（用于获取AccessToken）
    # 注意：QQ开放平台已禁用固定Token，必须使用app_secret获取AccessToken
    push_target_list:
      - guild_name: "频道1"
        channel_name_list:
          - "子频道11"
          - "子频道12"
  # NapCatQQ
  - name: NapCatQQ
    enable: false
    type: napcat_qq
    api_url: http://localhost:3000
    token:
    user_id:
    group_id:
    at_qq: "all"
  # Bark
  - name: Bark
    enable: false
    type: bark
    server_url: https://api.day.app
    key:
  # Gotify
  - name: Gotify
    enable: false
    type: gotify
    web_server_url:
  # Webhook
  - name: Webhook
    enable: false
    type: webhook
    webhook_url: https://xxx.com?title={{title}}&content={{content}}
    request_method: GET
  # PushPlus
  - name: PushPlus
    enable: false
    type: pushplus
    token:
    channel: wechat  # 推送渠道，可选值：wechat(微信)、mail(邮件)、webhook(Webhook)、cp(企业微信)、sms(短信)等
    topic:  # 群组代码，可选，用于群组推送
    template: html  # 消息模板，可选值：html、txt、json、markdown等，默认html
    to:  # 好友消息的接收者标识，可选
  # Email
  - name: Email
    enable: false
    type: email
    smtp_host:
    smtp_port:
    smtp_ssl: true
    smtp_tls: false
    sender_email:
    sender_password:
    receiver_email:
  # WxPusher
  - name: WxPusher
    enable: false
    type: wxpusher
    app_token:  # 应用令牌，在WxPusher后台创建应用后获取
    uids:  # 用户ID列表，逗号分隔（可选，与topic_ids二选一）
    topic_ids:  # 主题ID列表，逗号分隔（可选，与uids二选一）
    content_type: 1  # 内容类型：1-文本，2-html，3-markdown，默认1

