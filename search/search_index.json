{"config":{"lang":["zh"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"WebMoniter \u6587\u6863","text":"<p>\u591a\u5e73\u53f0\u76d1\u63a7\u7b7e\u5230 \u00b7 \u5f00\u64ad\u63d0\u9192 \u00b7 \u591a\u6e20\u9053\u63a8\u9001</p> <p>Web \u4efb\u52a1\u7cfb\u7edf\uff08WebMoniter\uff09\u652f\u6301 \u864e\u7259\u76f4\u64ad\u3001\u5fae\u535a\u3001\u54d4\u54e9\u54d4\u54e9\u3001\u6296\u97f3\u3001\u6597\u9c7c\u3001\u5c0f\u7ea2\u4e66 \u7b49\u5e73\u53f0\u76d1\u63a7\u4e0e\u5f00\u64ad/\u52a8\u6001\u63d0\u9192\uff0c\u4ee5\u53ca iKuuu\u3001\u767e\u5ea6\u8d34\u5427\u3001\u5fae\u535a\u8d85\u8bdd\u3001\u96e8\u4e91\u3001\u963f\u91cc\u4e91\u76d8\u3001\u4ec0\u4e48\u503c\u5f97\u4e70\u3001Freenom\u3001\u5929\u6c14\u63a8\u9001 \u7b49 30+ \u5b9a\u65f6\u7b7e\u5230/\u4efb\u52a1\uff1b\u4f7f\u7528 APScheduler \u8c03\u5ea6\uff0c\u652f\u6301 15+ \u63a8\u9001\u901a\u9053\uff08\u4f01\u4e1a\u5fae\u4fe1\u3001\u9489\u9489\u3001\u98de\u4e66\u3001Telegram\u3001Bark\u3001\u90ae\u4ef6\u7b49\uff09\uff0c\u914d\u7f6e\u70ed\u91cd\u8f7d\uff0cAI \u52a9\u624b\uff08RAG + LLM\uff09\u652f\u6301\u667a\u80fd\u95ee\u7b54\u3001\u914d\u7f6e\u751f\u6210\u4e0e\u6570\u636e\u6d1e\u5bdf\uff0c\u5f00\u7bb1\u5373\u7528\u3002</p>"},{"location":"#_1","title":"\u754c\u9762\u9884\u89c8","text":"<p>\u4ee5\u4e0b\u622a\u56fe\u6765\u81ea\u5b9e\u9645 Web \u7ba1\u7406\u754c\u9762\uff0c\u793a\u4f8b\u8d26\u53f7\u4e0e\u6570\u636e\u4ec5\u4f9b\u6f14\u793a\u3002\u70b9\u51fb\u56fe\u7247\u53ef\u67e5\u770b\u5927\u56fe\u3002</p>"},{"location":"#_2","title":"\u914d\u7f6e\u7ba1\u7406 &amp; \u5bc6\u7801\u4fee\u6539","text":"<p>\u5de6\u4fa7 \u914d\u7f6e\u7ba1\u7406 \u652f\u6301\u53ef\u89c6\u5316\u7f16\u8f91\u6240\u6709\u76d1\u63a7\u4e0e\u7b7e\u5230\u914d\u7f6e\uff0c\u8868\u683c\u89c6\u56fe\u4e0e YAML \u6587\u672c\u53ef\u5207\u6362\uff1b\u53f3\u4fa7 \u5bc6\u7801\u4fee\u6539 \u7528\u4e8e\u4fee\u6539 Web \u767b\u5f55\u5bc6\u7801\uff0c\u751f\u4ea7\u73af\u5883\u8bf7\u52a1\u5fc5\u4fee\u6539\u9ed8\u8ba4\u8d26\u53f7\u3002</p> \u914d\u7f6e\u7ba1\u7406 \u5bc6\u7801\u4fee\u6539 \u53ef\u89c6\u5316\u7f16\u8f91 config.yml\uff0c\u652f\u6301\u70ed\u91cd\u8f7d \u9996\u6b21\u5b89\u88c5\u8bf7\u5c3d\u5feb\u4fee\u6539\u9ed8\u8ba4\u5bc6\u7801"},{"location":"#_3","title":"\u4efb\u52a1\u7ba1\u7406","text":"<p>\u67e5\u770b\u6240\u6709\u76d1\u63a7\u4efb\u52a1\u4e0e\u5b9a\u65f6\u4efb\u52a1\uff0c\u652f\u6301\u300c\u7acb\u5373\u8fd0\u884c\u300d\u624b\u52a8\u89e6\u53d1\u3001\u300c\u67e5\u770b\u65e5\u5fd7\u300d\u67e5\u770b\u8be5\u4efb\u52a1\u4eca\u65e5\u65e5\u5fd7\u3002</p> <p></p>"},{"location":"#_4","title":"\u6570\u636e\u5c55\u793a","text":"<p>\u6309\u5e73\u53f0\uff08\u5fae\u535a\u3001\u864e\u7259\u3001\u54d4\u54e9\u54d4\u54e9\u7b49\uff09\u67e5\u770b\u76d1\u63a7\u8bb0\u5f55\uff0c\u652f\u6301\u5206\u9875\u4e0e\u7b5b\u9009\uff08\u6309 UID\u3001\u623f\u95f4\u53f7\u7b49\uff09\u3002</p> <p></p>"},{"location":"#_5","title":"\u65e5\u5fd7\u67e5\u770b","text":"<p>\u5b9e\u65f6\u67e5\u770b\u5f53\u5929\u603b\u65e5\u5fd7\u6216\u5404\u4efb\u52a1\u4e13\u5c5e\u65e5\u5fd7\uff0c\u652f\u6301\u4e0b\u62c9\u5207\u6362\u65e5\u5fd7\u6765\u6e90\uff0c\u4fbf\u4e8e\u6392\u67e5\u95ee\u9898\u3002</p> <p></p>"},{"location":"#ai","title":"AI \u52a9\u624b &amp; \u4f01\u4e1a\u5fae\u4fe1\u4ea4\u4e92","text":"<p>AI \u52a9\u624b\u652f\u6301\u5728 Web \u754c\u9762\u4e0e\u4f01\u4e1a\u5fae\u4fe1\u4e2d\u76f4\u63a5\u5bf9\u8bdd\uff0c\u53ef\u5b9e\u73b0\u914d\u7f6e\u751f\u6210\u3001\u65e5\u5fd7\u8bca\u65ad\u3001\u6570\u636e\u6d1e\u5bdf\u4e0e\u53ef\u6267\u884c\u64cd\u4f5c\u3002\u8be6\u89c1 AI \u52a9\u624b\u4f7f\u7528\u6307\u5357\u3002</p> \u529f\u80fd\u4ecb\u7ecd \u4fee\u6539\u914d\u7f6e \u6267\u884c\u4efb\u52a1 \u67e5\u8be2\u6570\u636e \u4f01\u4e1a\u5fae\u4fe1\u540e\u53f0\u914d\u7f6e \u4f01\u4e1a\u5fae\u4fe1\u67e5\u8be2\u6570\u636e\uff08\u793a\u4f8b\uff09"},{"location":"#_6","title":"\u4ece\u8fd9\u91cc\u5f00\u59cb","text":"<p>\u8fd9\u4e00\u8282\u7684\u5404\u4e2a\u5c0f\u8282\u4f1a\u81ea\u52a8\u51fa\u73b0\u5728\u53f3\u4fa7\u4fa7\u8fb9\u680f\uff0c\u4fbf\u4e8e\u5feb\u901f\u8df3\u8f6c\u3002</p>"},{"location":"#_7","title":"\ud83d\ude80 \u5feb\u901f\u5f00\u59cb","text":"<p>:material-rocket-launch: \u4f7f\u7528 Docker \u6216 Windows \u4e00\u952e\u5305\uff0c\u51e0\u5206\u949f\u5185\u5b8c\u6210\u90e8\u7f72\u5e76\u8bbf\u95ee Web \u7ba1\u7406\u754c\u9762\u3002\u82e5\u5df2\u4f7f\u7528\u9752\u9f99\u9762\u677f\uff0c\u53ef\u76f4\u63a5\u62c9\u53d6 <code>ql/</code> \u811a\u672c\uff0c\u901a\u8fc7\u73af\u5883\u53d8\u91cf\u914d\u7f6e\u3002</p> <ul> <li>\u5b89\u88c5\u4e0e\u8fd0\u884c</li> <li>\u9752\u9f99\u9762\u677f\u90e8\u7f72</li> </ul>"},{"location":"#_8","title":"\u2699\ufe0f \u4f7f\u7528\u6307\u5357","text":"<p>:material-cog: \u914d\u7f6e\u76d1\u63a7\u4e0e\u7b7e\u5230\u3001\u4e86\u89e3 Web \u7ba1\u7406\u754c\u9762\u3001\u9009\u62e9\u63a8\u9001\u901a\u9053\u3002</p> <ul> <li>\u914d\u7f6e\u8bf4\u660e</li> <li>Web \u7ba1\u7406\u754c\u9762</li> <li>AI \u52a9\u624b</li> <li>\u76d1\u63a7\u4e0e\u5b9a\u65f6\u4efb\u52a1</li> <li>\u76d1\u63a7\u4efb\u52a1\u8be6\u89e3</li> <li>\u5b9a\u65f6\u4efb\u52a1\u8be6\u89e3</li> <li>\u63a8\u9001\u901a\u9053</li> </ul>"},{"location":"#_9","title":"\ud83d\udee0 \u4e8c\u6b21\u5f00\u53d1","text":"<p>:material-hammer-wrench: \u4e86\u89e3\u9879\u76ee\u67b6\u6784\u3001\u65b0\u589e\u76d1\u63a7/\u5b9a\u65f6\u4efb\u52a1\u3001\u5bf9\u63a5 API\u3002</p> <ul> <li>\u67b6\u6784\u6982\u89c8</li> <li>\u4e8c\u6b21\u5f00\u53d1\u6307\u5357</li> <li>API \u53c2\u8003</li> </ul>"},{"location":"#_10","title":"\u2753 \u5e38\u89c1\u95ee\u9898","text":"<p>:material-help-circle: Cookie \u66f4\u65b0\u3001\u4efb\u52a1\u4e0d\u6267\u884c\u3001\u76d1\u63a7\u9891\u7387\u3001\u514d\u6253\u6270\u7b49\u3002</p> <ul> <li>\u5e38\u89c1\u95ee\u9898 \u2192</li> </ul>"},{"location":"#_11","title":"\u6838\u5fc3\u7279\u6027","text":"\u7279\u6027 \u8bf4\u660e \u591a\u5e73\u53f0\u76d1\u63a7 \u864e\u7259\u3001\u5fae\u535a\u3001\u54d4\u54e9\u54d4\u54e9\u3001\u6296\u97f3\u3001\u6597\u9c7c\u3001\u5c0f\u7ea2\u4e66\u7b49 6 \u5927\u5e73\u53f0 \u5b9a\u65f6\u7b7e\u5230 30+ \u5e73\u53f0\u7b7e\u5230\uff08\u8d34\u5427\u3001\u5fae\u535a\u8d85\u8bdd\u3001iKuuu\u3001\u96e8\u4e91\u3001\u963f\u91cc\u4e91\u76d8\u3001Freenom \u7b49\uff09 \u591a\u6e20\u9053\u63a8\u9001 \u4f01\u4e1a\u5fae\u4fe1\u3001\u9489\u9489\u3001\u98de\u4e66\u3001Telegram\u3001Bark\u3001WxPusher\u3001\u90ae\u4ef6\u7b49 15+ \u901a\u9053 AI \u52a9\u624b RAG + LLM \u667a\u80fd\u95ee\u7b54\uff0c\u914d\u7f6e\u751f\u6210\u3001\u65e5\u5fd7\u8bca\u65ad\u3001\u6570\u636e\u6d1e\u5bdf\u3001\u53ef\u6267\u884c\u64cd\u4f5c \u914d\u7f6e\u70ed\u91cd\u8f7d \u4fee\u6539 <code>config.yml</code> \u7ea6 5 \u79d2\u5185\u751f\u6548\uff0c\u65e0\u9700\u91cd\u542f Web \u7ba1\u7406 \u914d\u7f6e\u7f16\u8f91\u3001\u4efb\u52a1\u7ba1\u7406\u3001\u6570\u636e\u67e5\u770b\u3001\u65e5\u5fd7\u67e5\u770b RESTful API \u4fbf\u4e8e\u96c6\u6210\u4e0e\u81ea\u52a8\u5316\u64cd\u4f5c"},{"location":"#_12","title":"\u6280\u672f\u6808","text":"<ul> <li>\u8fd0\u884c\u73af\u5883: Python 3.10+</li> <li>\u8c03\u5ea6: APScheduler</li> <li>Web: FastAPI + Uvicorn</li> <li>\u6570\u636e: SQLite (aiosqlite)</li> <li>\u914d\u7f6e: YAML\uff0c\u652f\u6301\u70ed\u91cd\u8f7d</li> </ul>"},{"location":"#_13","title":"\u94fe\u63a5","text":"<ul> <li>\u4ee3\u7801\u4ed3\u5e93: GitHub \u00b7 GitCode</li> <li>Docker: fengyu666/webmoniter</li> <li>Releases: GitHub Releases\uff08\u542b Windows \u4e00\u952e\u5305\uff09</li> <li>\u8bb8\u53ef\u8bc1: MIT License</li> </ul>"},{"location":"API/","title":"API \u8c03\u7528\u6307\u5357","text":"<p>\u7cfb\u7edf\u63d0\u4f9b\u4e86 RESTful API \u63a5\u53e3\uff0c\u65b9\u4fbf\u4e0e\u5176\u4ed6\u7cfb\u7edf\u96c6\u6210\u6216\u8fdb\u884c\u81ea\u52a8\u5316\u64cd\u4f5c\u3002\u6240\u6709 API \u63a5\u53e3\u5747\u57fa\u4e8e FastAPI \u6846\u67b6\u5b9e\u73b0\u3002</p>"},{"location":"API/#_1","title":"\u57fa\u7840\u4fe1\u606f","text":"<ul> <li>Base URL: <code>http://localhost:8866</code>\uff08\u672c\u5730\u90e8\u7f72\uff09\u6216 <code>http://your-server-ip:8866</code>\uff08\u670d\u52a1\u5668\u90e8\u7f72\uff09</li> <li>Content-Type: <code>application/json</code></li> <li>\u8ba4\u8bc1\u65b9\u5f0f: \u57fa\u4e8e Session \u7684\u8ba4\u8bc1\uff08\u90e8\u5206\u63a5\u53e3\u9700\u8981\u767b\u5f55\uff09</li> </ul>"},{"location":"API/#api_1","title":"API \u7aef\u70b9\u5217\u8868","text":""},{"location":"API/#1","title":"1. \u8ba4\u8bc1\u76f8\u5173","text":""},{"location":"API/#_2","title":"\u767b\u5f55","text":"<pre><code>POST /api/login\nContent-Type: application/x-www-form-urlencoded\n\nusername=admin&amp;password=123\n</code></pre>"},{"location":"API/#_3","title":"\u767b\u51fa","text":"<pre><code>POST /api/logout\n</code></pre>"},{"location":"API/#_4","title":"\u68c0\u67e5\u8ba4\u8bc1\u72b6\u6001","text":"<pre><code>GET /api/check-auth\n</code></pre>"},{"location":"API/#_5","title":"\u4fee\u6539\u5bc6\u7801\uff08\u9700\u767b\u5f55\uff09","text":"<pre><code>POST /api/change-password\nContent-Type: application/x-www-form-urlencoded\n\nold_password=xxx&amp;new_password=xxx&amp;confirm_password=xxx\n</code></pre>"},{"location":"API/#_6","title":"\u83b7\u53d6\u7248\u672c\u4fe1\u606f\uff08\u65e0\u9700\u767b\u5f55\uff09","text":"<pre><code>GET /api/version\n</code></pre> <p>\u8fd4\u56de\u793a\u4f8b\uff1a</p> <pre><code>{\n  \"version\": \"2.1.3\",\n  \"github_api_url\": \"https://api.github.com/repos/666fy666/WebMoniter/tags\",\n  \"tags_url\": \"https://github.com/666fy666/WebMoniter/tags\"\n}\n</code></pre> <p>\u7528\u4e8e Web \u754c\u9762\u81ea\u52a8\u68c0\u6d4b\u65b0\u7248\u672c\u3002\u524d\u7aef\u4f1a\u8c03\u7528 <code>github_api_url</code> \u83b7\u53d6\u6700\u65b0 tag \u4fe1\u606f\u5e76\u4e0e\u5f53\u524d\u7248\u672c\u6bd4\u8f83\u3002</p>"},{"location":"API/#2","title":"2. \u914d\u7f6e\u7ba1\u7406\uff08\u9700\u767b\u5f55\uff09","text":""},{"location":"API/#_7","title":"\u83b7\u53d6\u914d\u7f6e","text":"<pre><code>GET /api/config?format=json\nGET /api/config?format=yaml\n</code></pre>"},{"location":"API/#_8","title":"\u4fdd\u5b58\u914d\u7f6e","text":"<pre><code>POST /api/config\nContent-Type: application/json\n\n{\n  \"content\": \"yaml\u914d\u7f6e\u5185\u5bb9...\"\n}\n</code></pre> <p>\u6216\u4f7f\u7528 JSON \u683c\u5f0f\uff1a</p> <pre><code>POST /api/config\nContent-Type: application/json\n\n{\n  \"config\": {\n    \"weibo\": {...},\n    \"huya\": {...},\n    ...\n  }\n}\n</code></pre>"},{"location":"API/#3","title":"3. \u6570\u636e\u67e5\u8be2\uff08\u9700\u767b\u5f55\uff09","text":"<p>\u6570\u636e\u67e5\u8be2\u91c7\u7528 REST \u98ce\u683c\uff0c\u652f\u6301\u6309\u5e73\u53f0\u3001\u6309\u4e3b\u952e ID \u67e5\u8be2\uff0c\u4ee5\u53ca\u5206\u9875\u4e0e\u8fc7\u6ee4\u3002</p>"},{"location":"API/#_9","title":"\u5e73\u53f0\u4e0e\u4e3b\u952e\u8bf4\u660e","text":"\u5e73\u53f0 <code>platform</code> \u4e3b\u952e ID \u542b\u4e49 \u793a\u4f8b \u5fae\u535a <code>weibo</code> \u7528\u6237 UID <code>1234567890</code> \u864e\u7259 <code>huya</code> \u623f\u95f4\u53f7 room <code>123456</code> \u54d4\u54e9\u54d4\u54e9\u76f4\u64ad <code>bilibili_live</code> UP \u4e3b UID <code>1795147802</code> \u54d4\u54e9\u54d4\u54e9\u52a8\u6001 <code>bilibili_dynamic</code> UP \u4e3b UID <code>1795147802</code> \u6296\u97f3\u76f4\u64ad <code>douyin</code> \u6296\u97f3\u53f7\uff08\u5b57\u7b26\u4e32\uff09 <code>ASOULjiaran</code> \u6597\u9c7c\u76f4\u64ad <code>douyu</code> \u623f\u95f4\u53f7 room <code>307876</code> \u5c0f\u7ea2\u4e66\u52a8\u6001 <code>xhs</code> \u7528\u6237 profile_id <code>52d8c541b4c4d60e6c867480</code>"},{"location":"API/#_10","title":"\u5217\u8868\uff1a\u5206\u9875 + \u53ef\u9009\u8fc7\u6ee4","text":"<pre><code>GET /api/data/{platform}?page=1&amp;page_size=100\nGET /api/data/weibo?uid=1234567890&amp;page=1&amp;page_size=20\nGET /api/data/huya?room=123456&amp;page=1&amp;page_size=20\nGET /api/data/bilibili_live?uid=1795147802&amp;page=1&amp;page_size=20\nGET /api/data/douyin?id=ASOULjiaran&amp;page=1&amp;page_size=20\n</code></pre> <ul> <li><code>platform</code>\uff1a\u89c1\u4e0a\u8868\u4e2d <code>platform</code> \u5217</li> <li><code>page</code>\uff1a\u9875\u7801\uff0c\u4ece 1 \u5f00\u59cb\uff08\u9ed8\u8ba4 1\uff09</li> <li><code>page_size</code>\uff1a\u6bcf\u9875\u6761\u6570\uff08\u9ed8\u8ba4 100\uff09</li> <li><code>uid</code>\uff1a\u5f53 <code>platform</code> \u4e3a <code>weibo</code>\u3001<code>bilibili_live</code>\u3001<code>bilibili_dynamic</code> \u65f6\u6309 UID \u8fc7\u6ee4</li> <li><code>room</code>\uff1a\u5f53 <code>platform</code> \u4e3a <code>huya</code>\u3001<code>douyu</code> \u65f6\u6309\u623f\u95f4\u53f7\u8fc7\u6ee4</li> <li><code>id</code>\uff1a\u5f53 <code>platform</code> \u4e3a <code>douyin</code>\u3001<code>xhs</code> \u65f6\u6309\u6296\u97f3\u53f7 / profile_id \u8fc7\u6ee4</li> <li><code>include_media</code>\uff1a\u5f53 <code>platform</code> \u4e3a <code>huya</code> \u65f6\u6709\u6548\uff1b\u8bbe\u4e3a <code>false</code> \u5219\u4e0d\u8fd4\u56de <code>room_pic</code>\u3001<code>avatar_url</code>\uff0c\u524d\u7aef\u53ef\u518d\u8c03\u7528 <code>/api/data/huya/images</code> \u5f02\u6b65\u83b7\u53d6</li> </ul>"},{"location":"API/#url","title":"\u864e\u7259\u5c01\u9762/\u5934\u50cf URL\uff08\u5f02\u6b65\u52a0\u8f7d\uff09","text":"<pre><code>GET /api/data/huya/images?rooms=123,456,789\n</code></pre> <p>\u7528\u4e8e\u6570\u636e\u5c55\u793a\u9875\u5f02\u6b65\u52a0\u8f7d\u864e\u7259\u5c01\u9762\u56fe\u548c\u5934\u50cf\uff0c\u51cf\u5c11\u9996\u5c4f\u8bf7\u6c42\u4f53\u79ef\u3002\u8fd4\u56de <code>{\"data\": {\"123\": {\"room_pic\": \"...\", \"avatar_url\": \"...\"}, ...}}</code>\u3002</p> <p>\u8fd4\u56de\u793a\u4f8b\uff1a</p> <pre><code>{\n  \"data\": [...],\n  \"total\": 100,\n  \"page\": 1,\n  \"page_size\": 20,\n  \"total_pages\": 5\n}\n</code></pre>"},{"location":"API/#id","title":"\u5355\u6761\uff1a\u6309\u5e73\u53f0 + \u4e3b\u952e ID","text":"<pre><code>GET /api/data/weibo/{uid}\nGET /api/data/huya/{room}\n</code></pre> <p>\u793a\u4f8b\uff1a<code>GET /api/data/weibo/1234567890</code>\u3001<code>GET /api/data/huya/123456</code> \u672a\u627e\u5230\u65f6\u8fd4\u56de <code>404</code>\uff0c\u6210\u529f\u65f6\u8fd4\u56de <code>{\"data\": {...}}</code>\u3002</p>"},{"location":"API/#4","title":"4. \u76d1\u63a7\u72b6\u6001\uff08\u65e0\u9700\u767b\u5f55\uff09","text":"<p>\u76d1\u63a7\u72b6\u6001\u63a5\u53e3\u4e0e\u6570\u636e\u67e5\u8be2\u5bf9\u5e94\uff0c\u540c\u6837\u652f\u6301\u300c\u5168\u90e8 / \u6309\u5e73\u53f0 / \u6309 ID\u300d\u4e09\u79cd\u7c92\u5ea6\uff0c\u65e0\u9700\u767b\u5f55\u3002 \u652f\u6301\u7684\u76d1\u63a7\u5e73\u53f0\u4e0e\u4e0a\u6587\u6570\u636e\u67e5\u8be2\u4e00\u81f4\uff1a</p> \u5e73\u53f0 <code>platform</code> \u4e3b\u952e ID \u542b\u4e49 \u5fae\u535a <code>weibo</code> \u7528\u6237 UID \u864e\u7259 <code>huya</code> \u623f\u95f4\u53f7 room \u54d4\u54e9\u54d4\u54e9\u76f4\u64ad <code>bilibili_live</code> UP \u4e3b UID \u54d4\u54e9\u54d4\u54e9\u52a8\u6001 <code>bilibili_dynamic</code> UP \u4e3b UID \u6296\u97f3\u76f4\u64ad <code>douyin</code> \u6296\u97f3\u53f7\uff08\u5b57\u7b26\u4e32\uff09 \u6597\u9c7c\u76f4\u64ad <code>douyu</code> \u623f\u95f4\u53f7 room \u5c0f\u7ea2\u4e66\u52a8\u6001 <code>xhs</code> \u7528\u6237 profile_id"},{"location":"API/#_11","title":"\u5168\u90e8\u76d1\u63a7\u72b6\u6001","text":"<pre><code>GET /api/monitor-status\n</code></pre> <p>\u8fd4\u56de\u7ed3\u6784\uff1a</p> <ul> <li><code>success</code>: \u662f\u5426\u6210\u529f  </li> <li><code>data</code>: \u4e00\u4e2a\u5bf9\u8c61\uff0ckey \u4e3a\u5e73\u53f0\u540d\uff08\u5982 <code>weibo</code>\u3001<code>huya</code>\u3001<code>bilibili_live</code> \u7b49\uff09\uff0cvalue \u4e3a\u8be5\u5e73\u53f0\u4e0b\u6240\u6709\u76d1\u63a7\u5bf9\u8c61\u7684\u6570\u7ec4\uff08\u5b57\u6bb5\u4e0e <code>/api/data/{platform}</code> \u4e2d <code>data</code> \u5143\u7d20\u4e00\u81f4\uff09  </li> <li><code>timestamp</code>: ISO \u683c\u5f0f\u65f6\u95f4\u6233</li> </ul>"},{"location":"API/#_12","title":"\u6309\u5e73\u53f0","text":"<pre><code>GET /api/monitor-status/weibo\nGET /api/monitor-status/huya\nGET /api/monitor-status/bilibili_live\nGET /api/monitor-status/bilibili_dynamic\nGET /api/monitor-status/douyin\nGET /api/monitor-status/douyu\nGET /api/monitor-status/xhs\n</code></pre> <p>\u8fd4\u56de\u8be5\u5e73\u53f0\u4e0b\u6240\u6709\u76d1\u63a7\u9879\u7684\u6570\u7ec4\uff0c\u5b57\u6bb5\u4e0e\u5bf9\u5e94 <code>/api/data/{platform}</code> \u7684\u5355\u6761 <code>data</code> \u4e00\u81f4\uff0c\u4f8b\u5982\uff1a</p> <ul> <li><code>weibo</code>\uff1a<code>UID</code>\u3001<code>\u7528\u6237\u540d</code>\u3001<code>\u8ba4\u8bc1\u4fe1\u606f</code>\u3001<code>\u7b80\u4ecb</code>\u3001<code>\u7c89\u4e1d\u6570</code>\u3001<code>\u5fae\u535a\u6570</code>\u3001<code>\u6587\u672c</code>\u3001<code>mid</code>\u3001<code>url</code> </li> <li><code>huya</code>\uff1a<code>room</code>\u3001<code>name</code>\u3001<code>is_live</code>\u3001<code>url</code> </li> <li><code>bilibili_live</code>\uff1a<code>uid</code>\u3001<code>uname</code>\u3001<code>room_id</code>\u3001<code>is_live</code>\u3001<code>url</code> </li> <li><code>bilibili_dynamic</code>\uff1a<code>uid</code>\u3001<code>uname</code>\u3001<code>dynamic_id</code>\u3001<code>dynamic_text</code>\u3001<code>url</code> </li> <li><code>douyin</code>\uff1a<code>douyin_id</code>\u3001<code>name</code>\u3001<code>is_live</code>\u3001<code>url</code> </li> <li><code>douyu</code>\uff1a<code>room</code>\u3001<code>name</code>\u3001<code>is_live</code>\u3001<code>url</code> </li> <li><code>xhs</code>\uff1a<code>profile_id</code>\u3001<code>user_name</code>\u3001<code>latest_note_title</code>\u3001<code>url</code></li> </ul>"},{"location":"API/#id_1","title":"\u6309\u5e73\u53f0 + \u4e3b\u952e ID\uff08\u5355\u6761\uff09","text":"<pre><code>GET /api/monitor-status/weibo/{uid}\nGET /api/monitor-status/huya/{room}\nGET /api/monitor-status/bilibili_live/{uid}\nGET /api/monitor-status/bilibili_dynamic/{uid}\nGET /api/monitor-status/douyin/{id}\nGET /api/monitor-status/douyu/{room}\nGET /api/monitor-status/xhs/{id}\n</code></pre> <p>\u793a\u4f8b\uff1a</p> <ul> <li><code>GET /api/monitor-status/weibo/1234567890</code></li> <li><code>GET /api/monitor-status/huya/123456</code></li> <li><code>GET /api/monitor-status/bilibili_live/1795147802</code></li> <li><code>GET /api/monitor-status/douyin/ASOULjiaran</code></li> </ul> <p>\u6210\u529f\u65f6 <code>data</code> \u4e3a\u5355\u6761\u5bf9\u8c61\uff1b\u672a\u627e\u5230\u65f6\u8fd4\u56de <code>404</code>\u3002</p>"},{"location":"API/#5","title":"5. \u65e5\u5fd7\u67e5\u8be2","text":""},{"location":"API/#_13","title":"\u83b7\u53d6\u65e5\u5fd7","text":"<pre><code>GET /api/logs?lines=100\nGET /api/logs?lines=100&amp;task=ikuuu_checkin\n</code></pre> <p>\u53c2\u6570\uff1a - <code>lines</code>\uff1a\u8fd4\u56de\u6700\u8fd1 N \u884c\u65e5\u5fd7\uff0c\u9ed8\u8ba4 100 - <code>task</code>\uff1a\uff08\u53ef\u9009\uff09\u6307\u5b9a\u4efb\u52a1 ID \u65f6\uff0c\u8fd4\u56de\u8be5\u4efb\u52a1\u7684\u4eca\u65e5\u4e13\u5c5e\u65e5\u5fd7\uff1b\u4e0d\u4f20\u5219\u8fd4\u56de\u4eca\u65e5\u603b\u65e5\u5fd7</p> <p>\u4e0d\u4f20 <code>task</code> \u65f6\u8bfb\u53d6 <code>main_YYYYMMDD.log</code>\uff1b\u4f20 <code>task</code> \u65f6\u8bfb\u53d6 <code>task_{job_id}_YYYYMMDD.log</code>\u3002</p>"},{"location":"API/#_14","title":"\u83b7\u53d6\u4efb\u52a1\u65e5\u5fd7\u5217\u8868","text":"<pre><code>GET /api/logs/tasks\n</code></pre> <p>\u8fd4\u56de\u4eca\u65e5\u6709\u65e5\u5fd7\u6587\u4ef6\u7684\u4efb\u52a1 ID \u5217\u8868\uff0c\u4ee5\u53ca\u5168\u90e8\u4efb\u52a1\u5217\u8868\uff08\u7528\u4e8e\u524d\u7aef\u4e0b\u62c9\u9009\u62e9\uff09\uff1a</p> <pre><code>{\n  \"all_tasks\": [\n    {\"job_id\": \"ikuuu_checkin\", \"has_log_today\": true},\n    {\"job_id\": \"huya_monitor\", \"has_log_today\": false}\n  ],\n  \"tasks_with_logs\": [\"ikuuu_checkin\", \"log_cleanup\"]\n}\n</code></pre>"},{"location":"API/#6","title":"6. \u4efb\u52a1\u7ba1\u7406\uff08\u9700\u767b\u5f55\uff09","text":""},{"location":"API/#_15","title":"\u83b7\u53d6\u4efb\u52a1\u5217\u8868","text":"<pre><code>GET /api/tasks\n</code></pre> <p>\u8fd4\u56de\u6240\u6709\u6ce8\u518c\u7684\u76d1\u63a7\u4efb\u52a1\u548c\u5b9a\u65f6\u4efb\u52a1\u5217\u8868\uff1a</p> <pre><code>{\n  \"success\": true,\n  \"tasks\": [\n    {\n      \"job_id\": \"huya_monitor\",\n      \"trigger\": \"interval\",\n      \"type\": \"monitor\",\n      \"type_label\": \"\u76d1\u63a7\u4efb\u52a1\",\n      \"description\": \"\u864e\u7259\u76f4\u64ad\u72b6\u6001\u76d1\u63a7\"\n    },\n    {\n      \"job_id\": \"ikuuu_checkin\",\n      \"trigger\": \"cron\",\n      \"type\": \"task\",\n      \"type_label\": \"\u5b9a\u65f6\u4efb\u52a1\",\n      \"description\": \"ikuuu \u6bcf\u65e5\u7b7e\u5230\"\n    }\n  ]\n}\n</code></pre>"},{"location":"API/#_16","title":"\u624b\u52a8\u89e6\u53d1\u4efb\u52a1","text":"<pre><code>POST /api/tasks/{task_id}/run\n</code></pre> <ul> <li><code>task_id</code>\uff1a\u4efb\u52a1 ID\uff0c\u5982 <code>huya_monitor</code>\u3001<code>ikuuu_checkin</code> \u7b49</li> </ul> <p>\u6210\u529f\u8fd4\u56de\uff1a</p> <pre><code>{\n  \"success\": true,\n  \"message\": \"\u4efb\u52a1 huya_monitor \u6267\u884c\u6210\u529f\"\n}\n</code></pre> <p>\u5931\u8d25\u8fd4\u56de\uff1a</p> <pre><code>{\n  \"success\": false,\n  \"message\": \"\u4efb\u52a1\u6267\u884c\u5931\u8d25: \u5177\u4f53\u9519\u8bef\u4fe1\u606f\"\n}\n</code></pre> <p>\u6ce8\u610f\uff1a\u624b\u52a8\u89e6\u53d1\u6267\u884c\u65f6\u4f1a\u7ed5\u8fc7\"\u5f53\u5929\u5df2\u8fd0\u884c\u5219\u8df3\u8fc7\"\u68c0\u67e5\uff0c\u786e\u4fdd\u4efb\u52a1\u88ab\u5f3a\u5236\u6267\u884c\u3002</p>"},{"location":"API/#7-ai-configyml-ai_assistantenable","title":"7. AI \u52a9\u624b\uff08\u9700\u767b\u5f55\uff0c\u9700\u5728 config.yml \u542f\u7528 <code>ai_assistant.enable</code>\uff09","text":"<p>AI \u52a9\u624b\u63d0\u4f9b\u667a\u80fd\u5bf9\u8bdd\u3001\u914d\u7f6e\u751f\u6210\u3001\u65e5\u5fd7\u8bca\u65ad\u3001\u6570\u636e\u6d1e\u5bdf\u53ca\u53ef\u6267\u884c\u64cd\u4f5c\u80fd\u529b\uff0c\u9700\u5728 <code>config.yml</code> \u4e2d\u914d\u7f6e <code>ai_assistant</code> \u5e76\u5b89\u88c5 AI \u4f9d\u8d56\u3002</p>"},{"location":"API/#ai","title":"\u83b7\u53d6 AI \u52a9\u624b\u72b6\u6001","text":"<pre><code>GET /api/assistant/status\n</code></pre> <p>\u8fd4\u56de AI \u52a9\u624b\u662f\u5426\u53ef\u7528\uff08\u4f9d\u8d56\u662f\u5426\u5b89\u88c5\u3001\u914d\u7f6e\u662f\u5426\u542f\u7528\uff09\uff0c\u65e0\u9700 AI \u4f9d\u8d56\u4e5f\u53ef\u8c03\u7528\uff1a</p> <pre><code>{\n  \"enabled\": true\n}\n</code></pre> <p>\u6216 <code>{\"enabled\": false, \"reason\": \"\u672a\u5b89\u88c5 ai \u4f9d\u8d56\"}</code> \u7b49\u3002</p>"},{"location":"API/#_17","title":"\u4f1a\u8bdd\u7ba1\u7406","text":"<pre><code>GET /api/assistant/conversations\n</code></pre> <p>\u8fd4\u56de\u5f53\u524d\u7528\u6237\u7684\u4f1a\u8bdd\u5217\u8868\u3002</p> <pre><code>POST /api/assistant/conversations\nContent-Type: application/json\n\n{\"title\": \"\u65b0\u5bf9\u8bdd\"}\n</code></pre> <p>\u65b0\u5efa\u4f1a\u8bdd\uff0c\u8fd4\u56de <code>{\"conversation_id\": \"xxx\"}</code>\u3002</p> <pre><code>GET /api/assistant/conversations/{conv_id}/messages\n</code></pre> <p>\u83b7\u53d6\u6307\u5b9a\u4f1a\u8bdd\u7684\u6d88\u606f\u5217\u8868\u3002</p> <pre><code>DELETE /api/assistant/conversations/{conv_id}\n</code></pre> <p>\u5220\u9664\u6307\u5b9a\u4f1a\u8bdd\u3002</p>"},{"location":"API/#_18","title":"\u5bf9\u8bdd","text":"<pre><code>POST /api/assistant/chat\nContent-Type: application/json\n\n{\n  \"message\": \"\u864e\u7259\u8c01\u5728\u76f4\u64ad\uff1f\",\n  \"conversation_id\": \"xxx\",\n  \"context\": \"all\"\n}\n</code></pre> <ul> <li><code>message</code>\uff1a\u7528\u6237\u8f93\u5165\uff08\u5fc5\u586b\uff09</li> <li><code>conversation_id</code>\uff1a\u4f1a\u8bdd ID\uff0c\u7a7a\u5219\u81ea\u52a8\u521b\u5efa\u65b0\u4f1a\u8bdd</li> <li><code>context</code>\uff1a\u68c0\u7d22\u8303\u56f4\uff0c<code>\"all\"</code> \u8868\u793a\u6587\u6863+\u914d\u7f6e+\u65e5\u5fd7</li> </ul> <p>\u8fd4\u56de\uff1a</p> <pre><code>{\n  \"reply\": \"AI \u56de\u590d\u5185\u5bb9\",\n  \"conversation_id\": \"xxx\",\n  \"suggested_action\": null\n}\n</code></pre> <p>\u5f53\u8bc6\u522b\u5230\u53ef\u6267\u884c\u64cd\u4f5c\uff08\u5982\u5f00\u5173\u76d1\u63a7\u3001\u589e\u5220\u914d\u7f6e\uff09\u65f6\uff0c<code>suggested_action</code> \u5305\u542b <code>type: \"confirm_execute\"</code>\u3001<code>action</code>\u3001<code>platform_key</code> \u7b49\uff0c\u524d\u7aef\u53ef\u5f39\u51fa\u786e\u8ba4\u5f39\u7a97\uff0c\u786e\u8ba4\u540e\u8c03\u7528 <code>POST /api/assistant/apply-action</code>\u3002</p> <p>\u5f53\u8fd4\u56de\u914d\u7f6e\u7247\u6bb5\uff08YAML\uff09\u65f6\uff0c<code>suggested_action</code> \u53ef\u4e3a <code>{\"type\": \"config_diff\", \"diff\": \"yaml\u5185\u5bb9\", \"description\": \"...\"}</code>\uff0c\u524d\u7aef\u5c55\u793a\u300c\u590d\u5236\u914d\u7f6e\u300d\u6309\u94ae\u3002</p>"},{"location":"API/#_19","title":"\u6d41\u5f0f\u5bf9\u8bdd","text":"<pre><code>POST /api/assistant/chat/stream\nContent-Type: application/json\n\n{\n  \"message\": \"\u864e\u7259\u8c01\u5728\u76f4\u64ad\uff1f\",\n  \"conversation_id\": \"xxx\",\n  \"context\": \"all\"\n}\n</code></pre> <p>\u53c2\u6570\u4e0e <code>POST /api/assistant/chat</code> \u4e00\u81f4\u3002\u54cd\u5e94\u4e3a Server-Sent Events (SSE)\uff0c<code>Content-Type: text/event-stream</code>\u3002</p> <p>\u4e8b\u4ef6\u683c\u5f0f\uff08\u6bcf\u884c\u4e00\u6761 <code>data:</code> JSON\uff09\uff1a</p> <ul> <li><code>{\"chunk\": \"\u6587\u672c\u5757\"}</code>\uff1a\u9010\u5757\u8fd4\u56de AI \u56de\u590d</li> <li><code>{\"done\": true, \"reply\": \"\u5b8c\u6574\u56de\u590d\", \"suggested_action\": {...}, \"conversation_id\": \"xxx\"}</code>\uff1a\u7ed3\u675f\u4e8b\u4ef6</li> <li><code>{\"error\": \"\u9519\u8bef\u4fe1\u606f\"}</code>\uff1a\u6d41\u5f0f\u8c03\u7528\u51fa\u9519\u65f6\u8fd4\u56de</li> </ul>"},{"location":"API/#_20","title":"\u6267\u884c\u53ef\u786e\u8ba4\u64cd\u4f5c","text":"<pre><code>POST /api/assistant/apply-action\nContent-Type: application/json\n\n{\n  \"action\": \"toggle_monitor\",\n  \"platform_key\": \"huya\",\n  \"enable\": false\n}\n</code></pre> <p>\u5f00\u5173\u76d1\u63a7\u3002\u652f\u6301\u7684 <code>platform_key</code>\uff1a<code>weibo</code>\u3001<code>huya</code>\u3001<code>bilibili</code>\u3001<code>douyin</code>\u3001<code>douyu</code>\u3001<code>xhs</code>\u3002</p> <pre><code>POST /api/assistant/apply-action\nContent-Type: application/json\n\n{\n  \"action\": \"config_patch\",\n  \"platform_key\": \"huya\",\n  \"list_key\": \"rooms\",\n  \"operation\": \"add\",\n  \"value\": \"123456\"\n}\n</code></pre> <p>\u589e\u5220\u914d\u7f6e\u5217\u8868\u9879\u3002<code>operation</code> \u4e3a <code>add</code> \u6216 <code>remove</code>\u3002\u652f\u6301\u7684 <code>platform_key</code> \u53ca\u5bf9\u5e94 <code>list_key</code>\uff1a</p> platform_key list_key weibo uids huya rooms bilibili uids douyin douyin_ids douyu rooms xhs profile_ids <p>\u6210\u529f\u8fd4\u56de <code>{\"success\": true, \"message\": \"...\"}</code>\uff1b\u5931\u8d25\u8fd4\u56de <code>{\"error\": \"...\"}</code>\uff0cHTTP \u72b6\u6001\u7801 400/500\u3002</p>"},{"location":"API/#8-webhook-ai","title":"8. Webhook \u56de\u8c03\uff08AI \u52a9\u624b\u5165\u53e3\uff09","text":"<p>\u5728\u4f01\u4e1a\u5fae\u4fe1\u3001Telegram \u7b49\u63a8\u9001\u901a\u9053\u4e2d\u914d\u7f6e\u56de\u8c03 URL \u540e\uff0c\u7528\u6237\u53ef\u5728\u5bf9\u5e94\u5e73\u53f0\u5185\u76f4\u63a5\u4e0e AI \u52a9\u624b\u5bf9\u8bdd\u3002\u65e0\u9700\u767b\u5f55 Web \u7ba1\u7406\u754c\u9762\uff0c\u7531\u5404\u5e73\u53f0\u5c06\u7528\u6237\u6d88\u606f\u8f6c\u53d1\u5230\u4ee5\u4e0b\u63a5\u53e3\u3002</p>"},{"location":"API/#_21","title":"\u4f01\u4e1a\u5fae\u4fe1\u81ea\u5efa\u5e94\u7528","text":"<pre><code>GET /api/webhooks/wecom\nPOST /api/webhooks/wecom\n</code></pre> <ul> <li>GET\uff1a\u4f01\u4e1a\u5fae\u4fe1\u540e\u53f0\u9a8c\u8bc1 URL \u65f6\u4f7f\u7528\uff08\u6821\u9a8c <code>msg_signature</code>\u3001<code>timestamp</code>\u3001<code>nonce</code>\u3001<code>echostr</code>\uff09</li> <li>POST\uff1a\u63a5\u6536\u6210\u5458\u53d1\u9001\u7684\u6d88\u606f\uff0c\u89e3\u5bc6\u540e\u4ea4\u7ed9 AI \u52a9\u624b\u56de\u590d\uff0c\u518d\u901a\u8fc7\u4f01\u4e1a\u5fae\u4fe1\u63a5\u53e3\u53d1\u56de</li> </ul> <p>\u9700\u5728 <code>config.yml</code> \u7684 <code>push_channel</code> \u4e2d\u4e3a wecom_apps \u7c7b\u578b\u901a\u9053\u914d\u7f6e <code>callback_token</code>\u3001<code>encoding_aes_key</code>\uff0c\u5e76\u5728\u4f01\u4e1a\u5fae\u4fe1\u540e\u53f0\u5c06\u300c\u63a5\u6536\u6d88\u606f\u300dURL \u8bbe\u4e3a\u672c\u63a5\u53e3\uff08\u5982 <code>https://\u4f60\u7684\u57df\u540d/api/webhooks/wecom</code>\uff09\u3002\u652f\u6301\u591a\u5e94\u7528\uff1a\u8bf7\u6c42\u4f1a\u4f9d\u6b21\u5c1d\u8bd5\u5404\u5df2\u914d\u7f6e\u56de\u8c03\u7684\u901a\u9053\u89e3\u5bc6\uff0c\u7b2c\u4e00\u4e2a\u6210\u529f\u7684\u5373\u4e3a\u76ee\u6807\u5e94\u7528\u3002</p>"},{"location":"API/#telegram","title":"Telegram \u673a\u5668\u4eba","text":"<pre><code>POST /api/webhooks/telegram/{channel_name}\n</code></pre> <ul> <li><code>channel_name</code>\uff1a\u63a8\u9001\u901a\u9053\u540d\u79f0\uff08\u4e0e <code>push_channel</code> \u4e2d\u8be5 Telegram \u901a\u9053\u7684 <code>name</code> \u4e00\u81f4\uff09</li> </ul> <p>\u9700\u5728 <code>push_channel</code> \u7684 telegram_bot \u4e2d\u914d\u7f6e <code>api_token</code>\uff0c\u5e76\u8c03\u7528 Telegram \u7684 <code>setWebhook</code> \u5c06 URL \u8bbe\u4e3a <code>https://\u4f60\u7684\u57df\u540d/api/webhooks/telegram/{channel_name}</code>\u3002\u7528\u6237\u5411\u673a\u5668\u4eba\u53d1\u9001\u6587\u5b57\u540e\uff0c\u7531\u672c\u63a5\u53e3\u63a5\u6536\u5e76\u4ea4\u7ed9 AI \u52a9\u624b\uff0c\u56de\u590d\u901a\u8fc7 Telegram API \u5f02\u6b65\u53d1\u56de\u3002</p>"},{"location":"API/#_22","title":"\u8c03\u7528\u793a\u4f8b","text":""},{"location":"API/#python","title":"Python \u793a\u4f8b","text":"<pre><code>import requests\n\n# \u57fa\u7840URL\nBASE_URL = \"http://localhost:8866\"\n\n# \u521b\u5efa\u4f1a\u8bdd\u4ee5\u4fdd\u6301\u767b\u5f55\u72b6\u6001\nsession = requests.Session()\n\n# \u767b\u5f55\nlogin_response = session.post(\n    f\"{BASE_URL}/api/login\",\n    data={\"username\": \"admin\", \"password\": \"123\"}\n)\nprint(login_response.json())\n\n# \u83b7\u53d6\u914d\u7f6e\uff08\u9700\u767b\u5f55\uff09\nconfig_response = session.get(f\"{BASE_URL}/api/config\")\nprint(config_response.json())\n\n# \u83b7\u53d6\u7248\u672c\u4fe1\u606f\uff08\u65e0\u9700\u767b\u5f55\uff09\nversion_response = requests.get(f\"{BASE_URL}/api/version\")\nprint(version_response.json())\n\n# \u83b7\u53d6\u76d1\u63a7\u72b6\u6001\uff08\u65e0\u9700\u767b\u5f55\uff09\nstatus_response = requests.get(f\"{BASE_URL}/api/monitor-status\")\nprint(status_response.json())\n\n# \u83b7\u53d6\u5fae\u535a\u6570\u636e\u5217\u8868\uff08\u5206\u9875\uff09\nweibo_response = session.get(\n    f\"{BASE_URL}/api/data/weibo\",\n    params={\"page\": 1, \"page_size\": 10}\n)\nprint(weibo_response.json())\n\n# \u6309 UID \u67e5\u8be2\u5355\u4e2a\u5fae\u535a\u7528\u6237\uff08\u9700\u767b\u5f55\uff09\nweibo_one = session.get(f\"{BASE_URL}/api/data/weibo/1234567890\")\nprint(weibo_one.json())\n\n# \u6309\u623f\u95f4\u53f7\u67e5\u8be2\u5355\u4e2a\u864e\u7259\u76f4\u64ad\u95f4\uff08\u9700\u767b\u5f55\uff09\nhuya_one = session.get(f\"{BASE_URL}/api/data/huya/123456\")\nprint(huya_one.json())\n\n# \u76d1\u63a7\u72b6\u6001\uff1a\u6309\u5e73\u53f0\u3001\u6309 ID\uff08\u65e0\u9700\u767b\u5f55\uff09\nstatus_weibo = requests.get(f\"{BASE_URL}/api/monitor-status/weibo\")\nstatus_one_user = requests.get(f\"{BASE_URL}/api/monitor-status/weibo/1234567890\")\nprint(status_weibo.json(), status_one_user.json())\n\n# \u83b7\u53d6\u4efb\u52a1\u5217\u8868\ntasks_response = session.get(f\"{BASE_URL}/api/tasks\")\nprint(tasks_response.json())\n\n# \u624b\u52a8\u89e6\u53d1\u4efb\u52a1\u6267\u884c\uff08\u7ed5\u8fc7\"\u5f53\u5929\u5df2\u8fd0\u884c\u5219\u8df3\u8fc7\"\u68c0\u67e5\uff09\nrun_response = session.post(f\"{BASE_URL}/api/tasks/huya_monitor/run\")\nprint(run_response.json())\n</code></pre>"},{"location":"API/#curl","title":"cURL \u793a\u4f8b","text":"<pre><code># \u767b\u5f55\ncurl -X POST http://localhost:8866/api/login \\\n  -d \"username=admin&amp;password=123\" \\\n  -c cookies.txt\n\n# \u83b7\u53d6\u914d\u7f6e\uff08\u9700\u767b\u5f55\uff0c\u4f7f\u7528\u4fdd\u5b58\u7684 Cookie\uff09\ncurl -X GET http://localhost:8866/api/config \\\n  -b cookies.txt\n\n# \u83b7\u53d6\u7248\u672c\u4fe1\u606f\uff08\u65e0\u9700\u767b\u5f55\uff09\ncurl -X GET http://localhost:8866/api/version\n\n# \u83b7\u53d6\u76d1\u63a7\u72b6\u6001\uff08\u65e0\u9700\u767b\u5f55\uff09\ncurl -X GET http://localhost:8866/api/monitor-status\n\n# \u6309\u5e73\u53f0 / \u6309 ID \u83b7\u53d6\u76d1\u63a7\u72b6\u6001\ncurl -X GET http://localhost:8866/api/monitor-status/weibo\ncurl -X GET http://localhost:8866/api/monitor-status/weibo/1234567890\n\n# \u83b7\u53d6\u5355\u6761\u6570\u636e\uff08\u9700 Cookie\uff09\ncurl -X GET \"http://localhost:8866/api/data/weibo/1234567890\" -b cookies.txt\ncurl -X GET \"http://localhost:8866/api/data/huya/123456\" -b cookies.txt\n\n# \u83b7\u53d6\u65e5\u5fd7\ncurl -X GET \"http://localhost:8866/api/logs?lines=50\" \\\n  -b cookies.txt\n\n# \u83b7\u53d6\u4efb\u52a1\u5217\u8868\ncurl -X GET http://localhost:8866/api/tasks \\\n  -b cookies.txt\n\n# \u624b\u52a8\u89e6\u53d1\u4efb\u52a1\u6267\u884c\uff08\u7ed5\u8fc7\"\u5f53\u5929\u5df2\u8fd0\u884c\u5219\u8df3\u8fc7\"\u68c0\u67e5\uff09\ncurl -X POST http://localhost:8866/api/tasks/huya_monitor/run \\\n  -b cookies.txt\n</code></pre>"},{"location":"API/#_23","title":"\u9519\u8bef\u5904\u7406","text":"<p>API \u8fd4\u56de\u7684\u9519\u8bef\u683c\u5f0f\uff1a</p> <pre><code>{\n  \"error\": \"\u9519\u8bef\u63cf\u8ff0\u4fe1\u606f\"\n}\n</code></pre> <p>\u5e38\u89c1 HTTP \u72b6\u6001\u7801\uff1a</p> \u72b6\u6001\u7801 \u8bf4\u660e 200 \u8bf7\u6c42\u6210\u529f 400 \u8bf7\u6c42\u53c2\u6570\u9519\u8bef 401 \u672a\u6388\u6743\uff08\u9700\u8981\u767b\u5f55\uff09 404 \u8d44\u6e90\u4e0d\u5b58\u5728 500 \u670d\u52a1\u5668\u5185\u90e8\u9519\u8bef"},{"location":"API/#_24","title":"\u76f8\u5173\u6587\u6863","text":"<ul> <li>\u6587\u6863\u9996\u9875 - \u9879\u76ee\u6982\u89c8\u4e0e\u5feb\u901f\u5f00\u59cb</li> <li>AI \u52a9\u624b\u4f7f\u7528\u6307\u5357 - RAG + LLM \u667a\u80fd\u95ee\u7b54</li> <li>\u4e8c\u6b21\u5f00\u53d1\u6307\u5357 - \u4ee3\u7801\u89c4\u8303\u3001black/ruff\u3001\u6d4b\u8bd5\u7b49</li> </ul>"},{"location":"ARCHITECTURE/","title":"Web\u4efb\u52a1\u7cfb\u7edf \u9879\u76ee\u67b6\u6784\u6587\u6863","text":""},{"location":"ARCHITECTURE/#_1","title":"\ud83d\udccb \u76ee\u5f55","text":"<ul> <li>\u9879\u76ee\u6982\u8ff0</li> <li>\u6574\u4f53\u67b6\u6784</li> <li>\u6838\u5fc3\u6a21\u5757\u8be6\u89e3</li> <li>\u6570\u636e\u6d41\u8bbe\u8ba1</li> <li>\u6269\u5c55\u673a\u5236</li> <li>\u6280\u672f\u6808</li> <li>\u76ee\u5f55\u7ed3\u6784</li> <li>\u5173\u952e\u8bbe\u8ba1\u6a21\u5f0f</li> <li>\u914d\u7f6e\u7ba1\u7406</li> <li>\u6570\u636e\u5e93\u8bbe\u8ba1</li> <li>\u63a8\u9001\u901a\u9053\u67b6\u6784</li> <li>Web\u670d\u52a1\u67b6\u6784</li> </ul>"},{"location":"ARCHITECTURE/#_2","title":"\u9879\u76ee\u6982\u8ff0","text":"<p>Web\u4efb\u52a1\u7cfb\u7edf\uff08\u9879\u76ee\u4ee3\u53f7 WebMoniter\uff09\u662f\u4e00\u4e2a\u57fa\u4e8e Python \u7684\u591a\u5e73\u53f0\u4efb\u52a1\u7cfb\u7edf\uff0c\u91c7\u7528\u5f02\u6b65IO\u67b6\u6784\uff0c\u652f\u6301\uff1a</p> <ul> <li>\u591a\u5e73\u53f0\u76d1\u63a7\uff1a\u864e\u7259\u76f4\u64ad\u3001\u5fae\u535a\u7b49\u5e73\u53f0\u7684\u5b9e\u65f6\u76d1\u63a7</li> <li>\u5b9a\u65f6\u4efb\u52a1\uff1aiKuuu\u7b7e\u5230\u3001\u767e\u5ea6\u8d34\u5427\u7b7e\u5230\u3001\u5fae\u535a\u8d85\u8bdd\u7b7e\u5230\u7b49</li> <li>\u591a\u6e20\u9053\u63a8\u9001\uff1a\u652f\u630115+\u79cd\u63a8\u9001\u901a\u9053\uff08\u4f01\u4e1a\u5fae\u4fe1\u3001\u9489\u9489\u3001Telegram\u3001Bark\u7b49\uff09</li> <li>\u914d\u7f6e\u70ed\u91cd\u8f7d\uff1a\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u65e0\u9700\u91cd\u542f\uff0c5\u79d2\u5185\u81ea\u52a8\u751f\u6548</li> <li>Web\u7ba1\u7406\u754c\u9762\uff1a\u63d0\u4f9b\u53cb\u597d\u7684Web\u754c\u9762\u8fdb\u884c\u914d\u7f6e\u7ba1\u7406\u548c\u6570\u636e\u67e5\u770b</li> <li>AI \u52a9\u624b\uff1aRAG + LLM \u667a\u80fd\u95ee\u7b54\uff0c\u652f\u6301\u914d\u7f6e\u751f\u6210\u3001\u65e5\u5fd7\u8bca\u65ad\u3001\u6570\u636e\u6d1e\u5bdf\u53ca\u53ef\u6267\u884c\u64cd\u4f5c\uff08\u5f00\u5173\u76d1\u63a7\u3001\u914d\u7f6e\u5217\u8868\u589e\u5220\uff09</li> </ul>"},{"location":"ARCHITECTURE/#_3","title":"\u6838\u5fc3\u7279\u6027","text":"<ul> <li>\u2705 \u5f02\u6b65IO\u67b6\u6784\uff1a\u57fa\u4e8e <code>asyncio</code> \u548c <code>aiohttp</code>\uff0c\u652f\u6301\u9ad8\u5e76\u53d1</li> <li>\u2705 \u4efb\u52a1\u8c03\u5ea6\uff1a\u57fa\u4e8e <code>APScheduler</code> \u7684\u7075\u6d3b\u4efb\u52a1\u8c03\u5ea6\u7cfb\u7edf</li> <li>\u2705 \u63d2\u4ef6\u5316\u8bbe\u8ba1\uff1a\u76d1\u63a7\u548c\u5b9a\u65f6\u4efb\u52a1\u91c7\u7528\u63d2\u4ef6\u5316\u67b6\u6784\uff0c\u6613\u4e8e\u6269\u5c55</li> <li>\u2705 \u914d\u7f6e\u70ed\u91cd\u8f7d\uff1a\u914d\u7f6e\u6587\u4ef6\u4fee\u6539\u540e\u81ea\u52a8\u68c0\u6d4b\u5e76\u5e94\u7528\uff0c\u65e0\u9700\u91cd\u542f</li> <li>\u2705 Cookie\u7ba1\u7406\uff1a\u667a\u80fdCookie\u7f13\u5b58\u548c\u8fc7\u671f\u68c0\u6d4b\u673a\u5236</li> <li>\u2705 \u514d\u6253\u6270\u65f6\u6bb5\uff1a\u652f\u6301\u914d\u7f6e\u514d\u6253\u6270\u65f6\u6bb5\uff0c\u9759\u9ed8\u8fd0\u884c\u76d1\u63a7\u4efb\u52a1</li> <li>\u2705 \u7248\u672c\u66f4\u65b0\u68c0\u6d4b\uff1a\u81ea\u52a8\u68c0\u6d4b GitHub \u65b0\u7248\u672c\u5e76\u5728 Web \u754c\u9762\u63d0\u793a\u66f4\u65b0</li> <li>\u2705 AI \u52a9\u624b\uff1aRAG \u68c0\u7d22 + LLM \u5bf9\u8bdd\uff0c\u652f\u6301\u914d\u7f6e\u751f\u6210\u3001\u65e5\u5fd7\u8bca\u65ad\u3001\u6570\u636e\u6d1e\u5bdf\u3001\u53ef\u6267\u884c\u64cd\u4f5c</li> </ul>"},{"location":"ARCHITECTURE/#_4","title":"\u6574\u4f53\u67b6\u6784","text":""},{"location":"ARCHITECTURE/#_5","title":"\u67b6\u6784\u56fe","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        main.py                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502  Web Server  \u2502  \u2502  Scheduler   \u2502  \u2502 Config Watcher\u2502   \u2502\n\u2502  \u2502  (FastAPI)   \u2502  \u2502 (APScheduler)\u2502  \u2502  (\u70ed\u91cd\u8f7d)     \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n          \u2502                  \u2502                 \u2502\n          \u2502                  \u2502                 \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    Job Registry                            \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u2502\n\u2502  \u2502 MONITOR_JOBS \u2502              \u2502  TASK_JOBS   \u2502          \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n          \u2502                             \u2502\n          \u2502                             \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u2502\n\u2502  \u2502  Monitors    \u2502              \u2502    Tasks     \u2502         \u2502\n\u2502  \u2502  Huya/Weibo  \u2502              \u2502  Checkin/    \u2502         \u2502\n\u2502  \u2502  Bilibili/   \u2502              \u2502  Tieba \u7b49    \u2502         \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n          \u2502                             \u2502\n          \u2502                             \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502   Database   \u2502  \u2502 Push Manager \u2502  \u2502 Cookie Cache \u2502   \u2502\n\u2502  \u2502  (SQLite)    \u2502  \u2502  (\u7edf\u4e00\u63a8\u9001)  \u2502  \u2502  (\u72b6\u6001\u7ba1\u7406)  \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"ARCHITECTURE/#_6","title":"\u7cfb\u7edf\u542f\u52a8\u6d41\u7a0b","text":"<ol> <li>\u521d\u59cb\u5316\u9636\u6bb5</li> <li>\u8bbe\u7f6e\u65e5\u5fd7\u7cfb\u7edf\uff1a\u5148 <code>setup_logging()</code>\uff08\u4ec5\u63a7\u5236\u53f0\uff1b\u975e TTY \u73af\u5883\u4e0d\u8f93\u51fa\u5230\u63a7\u5236\u53f0\uff09\uff0c\u521b\u5efa Web \u5e94\u7528\u4e0e Uvicorn \u670d\u52a1\u5668\uff08FastAPI\uff09\u540e\uff0c\u518d\u6302\u8f7d <code>main</code> \u6587\u4ef6\u65e5\u5fd7 Handler\uff08<code>LogManager.setup_file_logging(\"main\")</code>\uff09\u5230 root logger</li> <li>Web \u670d\u52a1\u9ed8\u8ba4\u7aef\u53e3 8866\uff0c\u53ef\u901a\u8fc7\u73af\u5883\u53d8\u91cf <code>PORT</code> \u8986\u76d6</li> <li>\u52a0\u8f7d\u914d\u7f6e\u6587\u4ef6 (<code>config.yml</code>)\uff1b\u5931\u8d25\u5219 <code>sys.exit(1)</code></li> <li>\u82e5\u542f\u7528 AI \u52a9\u624b\uff1a\u6784\u5efa RAG \u5411\u91cf\u5e93\uff08<code>docs/*.md</code>\u3001<code>README.md</code> \u2192 Chroma\uff09</li> <li> <p>\u91cd\u7f6e Cookie \u7f13\u5b58 (<code>cookie_cache.reset_all()</code>)</p> </li> <li> <p>\u4efb\u52a1\u6ce8\u518c\u9636\u6bb5</p> </li> <li>\u901a\u8fc7 <code>job_registry.discover_and_import()</code> \u6309 <code>MONITOR_MODULES</code>\u3001<code>TASK_MODULES</code> \u5bfc\u5165\u4efb\u52a1\u6a21\u5757</li> <li>\u5404\u6a21\u5757\u8c03\u7528 <code>register_monitor()</code> \u6216 <code>register_task()</code> \u6ce8\u518c\u4efb\u52a1</li> <li> <p>\u4efb\u52a1\u63cf\u8ff0\u7b26 (<code>JobDescriptor</code>) \u88ab\u6dfb\u52a0\u5230 <code>MONITOR_JOBS</code> \u6216 <code>TASK_JOBS</code></p> </li> <li> <p>\u8c03\u5ea6\u5668\u542f\u52a8\u9636\u6bb5</p> </li> <li>\u521b\u5efa <code>TaskScheduler</code> \u5b9e\u4f8b\uff08\u57fa\u4e8e <code>APScheduler</code>\uff09</li> <li>\u904d\u5386 <code>MONITOR_JOBS</code> \u548c <code>TASK_JOBS</code>\uff0c\u6ce8\u518c\u5230\u8c03\u5ea6\u5668</li> <li> <p>\u542f\u52a8\u65f6\u7acb\u5373\u6267\u884c\u4e00\u6b21\u6240\u6709\u4efb\u52a1\uff08\u9996\u6b21\u8fd0\u884c\uff09</p> </li> <li> <p>Web \u670d\u52a1\u4e0e\u914d\u7f6e\u76d1\u63a7\u542f\u52a8</p> </li> <li>Web \u670d\u52a1\u4ee5 <code>asyncio.create_task</code> \u4e0e\u8c03\u5ea6\u5668\u5e76\u884c\u8fd0\u884c</li> <li> <p>\u542f\u52a8 <code>ConfigWatcher</code>\uff08\u9ed8\u8ba4\u6bcf 5 \u79d2\u68c0\u67e5 <code>config.yml</code> \u4fee\u6539\u65f6\u95f4\uff09</p> </li> <li> <p>\u914d\u7f6e\u53d8\u5316\u56de\u8c03\uff08\u7531 ConfigWatcher \u5728\u68c0\u6d4b\u5230\u53d8\u5316\u65f6\u89e6\u53d1\uff09</p> </li> <li>\u5148\u6267\u884c <code>sync_config_to_db</code>\uff08\u5220\u9664\u914d\u7f6e\u4e2d\u5df2\u79fb\u9664\u7684 uid/room \u5bf9\u5e94\u6570\u636e\u5e93\u8bb0\u5f55\uff09</li> <li> <p>\u518d\u66f4\u65b0\u8c03\u5ea6\u5668\u4efb\u52a1\u53c2\u6570\uff08\u95f4\u9694\u3001Cron\u3001\u6682\u505c/\u6062\u590d\u3001\u514d\u6253\u6270\uff09</p> </li> <li> <p>\u8fd0\u884c\u9636\u6bb5</p> </li> <li>\u8c03\u5ea6\u5668\u6309\u914d\u7f6e\u7684\u95f4\u9694/\u65f6\u95f4\u6267\u884c\u4efb\u52a1</li> <li>\u76d1\u63a7\u4efb\u52a1\u68c0\u6d4b\u53d8\u5316\u5e76\u63a8\u9001\u901a\u77e5</li> <li>\u5b9a\u65f6\u4efb\u52a1\u6309Cron\u8868\u8fbe\u5f0f\u6267\u884c</li> <li>Web\u670d\u52a1\u5904\u7406HTTP\u8bf7\u6c42</li> </ol>"},{"location":"ARCHITECTURE/#_7","title":"\u6838\u5fc3\u6a21\u5757\u8be6\u89e3","text":""},{"location":"ARCHITECTURE/#1-mainpy-","title":"1. main.py - \u4e3b\u5165\u53e3\u6a21\u5757","text":"<p>\u804c\u8d23\uff1a\u7cfb\u7edf\u542f\u52a8\u548c\u751f\u547d\u5468\u671f\u7ba1\u7406</p> <p>\u5173\u952e\u529f\u80fd\uff1a - \u521d\u59cb\u5316\u65e5\u5fd7\u7cfb\u7edf\uff08\u63a7\u5236\u53f0\uff1bmain \u6587\u4ef6\u65e5\u5fd7\u5728\u521b\u5efa Web \u5e94\u7528\u540e\u6302\u8f7d\uff09 - \u521b\u5efa\u5e76\u542f\u52a8 Web \u670d\u52a1\u5668\uff08FastAPI + Uvicorn\uff09 - \u52a0\u8f7d\u914d\u7f6e\u5e76\u521b\u5efa\u8c03\u5ea6\u5668 - \u6ce8\u518c\u6240\u6709\u76d1\u63a7\u548c\u5b9a\u65f6\u4efb\u52a1 - \u542f\u52a8\u914d\u7f6e\u76d1\u63a7\u5668\uff08\u70ed\u91cd\u8f7d\uff09 - \u5904\u7406\u4f18\u96c5\u5173\u95ed\uff08\u4fe1\u53f7\u5904\u7406\uff09</p> <p>\u5173\u952e\u4ee3\u7801\u6d41\u7a0b\uff1a <pre><code>async def main():\n    # 1. \u8bbe\u7f6e\u65e5\u5fd7\uff08\u63a7\u5236\u53f0\uff1b\u975e TTY \u4e0d\u8f93\u51fa\uff09+ \u6302\u8f7d main \u6587\u4ef6\u65e5\u5fd7\n    setup_logging(log_level=\"INFO\", console_output=not is_background)\n    # ... \u521b\u5efa Web \u5e94\u7528\u3001Uvicorn\uff0c\u5e76 asyncio.create_task(run_web_server())\n    log_manager.setup_file_logging(\"main\"); logging.root.addHandler(...)\n\n    # 2. \u52a0\u8f7d\u914d\u7f6e\uff08\u5931\u8d25\u5219 sys.exit(1)\uff09\n    config = get_config()\n\n    # 3. \u82e5\u542f\u7528 AI \u52a9\u624b\u5219\u6784\u5efa RAG \u5411\u91cf\u5e93\n    if is_ai_enabled():\n        await asyncio.to_thread(build_docs_index)\n\n    # 4. \u91cd\u7f6e Cookie \u7f13\u5b58\n    await cookie_cache.reset_all()\n\n    # 5. \u521b\u5efa\u8c03\u5ea6\u5668\u5e76\u6ce8\u518c\u4efb\u52a1\n    scheduler = TaskScheduler(config)\n    await register_monitors(scheduler)\n\n    # 6. \u542f\u52a8\u914d\u7f6e\u76d1\u63a7\uff08\u70ed\u91cd\u8f7d\uff09\n    config_watcher = ConfigWatcher(..., on_config_changed=...)\n    await config_watcher.start()\n\n    # 7. \u8fd0\u884c\u8c03\u5ea6\u5668\uff08\u963b\u585e\u76f4\u81f3\u6536\u5230\u505c\u6b62\u4fe1\u53f7\uff09\n    await scheduler.run_forever()\n</code></pre></p>"},{"location":"ARCHITECTURE/#2-srcconfigpy-","title":"2. src/config.py - \u914d\u7f6e\u7ba1\u7406\u6a21\u5757","text":"<p>\u804c\u8d23\uff1a\u914d\u7f6e\u6587\u4ef6\u7684\u52a0\u8f7d\u3001\u89e3\u6790\u548c\u9a8c\u8bc1</p> <p>\u6838\u5fc3\u7c7b\uff1a - <code>AppConfig</code>\uff1a\u914d\u7f6e\u6570\u636e\u6a21\u578b\uff08\u57fa\u4e8e Pydantic\uff09 - <code>WeiboConfig</code>\uff1a\u5fae\u535a\u914d\u7f6e\u5b50\u6a21\u578b - <code>HuyaConfig</code>\uff1a\u864e\u7259\u914d\u7f6e\u5b50\u6a21\u578b</p> <p>\u5173\u952e\u529f\u80fd\uff1a - \u4eceYAML\u6587\u4ef6\u52a0\u8f7d\u914d\u7f6e - \u914d\u7f6e\u7f13\u5b58\u673a\u5236\uff08\u907f\u514d\u91cd\u590d\u8bfb\u53d6\uff09 - \u914d\u7f6e\u9a8c\u8bc1\uff08Pydantic\u6a21\u578b\u9a8c\u8bc1\uff09 - \u6241\u5e73\u5316\u914d\u7f6e\u6620\u5c04\uff08YAML\u5d4c\u5957 \u2192 \u6241\u5e73\u5b57\u6bb5\uff09</p> <p>\u914d\u7f6e\u7ed3\u6784\uff1a <pre><code>class AppConfig(BaseModel):\n    # \u5fae\u535a\u914d\u7f6e\n    weibo_cookie: str\n    weibo_uids: str  # \u9017\u53f7\u5206\u9694\n    weibo_concurrency: int\n\n    # \u864e\u7259\u914d\u7f6e\n    huya_rooms: str  # \u9017\u53f7\u5206\u9694\n    huya_concurrency: int\n\n    # \u8c03\u5ea6\u5668\u914d\u7f6e\n    huya_monitor_interval_seconds: int\n    weibo_monitor_interval_seconds: int\n\n    # \u63a8\u9001\u901a\u9053\u914d\u7f6e\n    push_channel_list: list[dict]\n\n    # \u514d\u6253\u6270\u65f6\u6bb5\n    quiet_hours_enable: bool\n    quiet_hours_start: str\n    quiet_hours_end: str\n\n    # \u63d2\u4ef6\u914d\u7f6e\uff08\u4f9b\u6269\u5c55\u4f7f\u7528\uff09\n    plugins: dict\n</code></pre></p> <p>\u914d\u7f6e\u52a0\u8f7d\u6d41\u7a0b\uff1a 1. <code>load_config_from_yml()</code> \u8bfb\u53d6YAML\u6587\u4ef6 2. \u5c06\u5d4c\u5957\u7ed3\u6784\u8f6c\u6362\u4e3a\u6241\u5e73\u7ed3\u6784 3. \u521b\u5efa <code>AppConfig</code> \u5b9e\u4f8b\uff08Pydantic\u9a8c\u8bc1\uff09 4. \u7f13\u5b58\u914d\u7f6e\u5b9e\u4f8b\uff08<code>_config_cache</code>\uff09</p>"},{"location":"ARCHITECTURE/#3-srcmonitorpy-","title":"3. src/monitor.py - \u76d1\u63a7\u57fa\u7c7b","text":"<p>\u804c\u8d23\uff1a\u63d0\u4f9b\u76d1\u63a7\u4efb\u52a1\u7684\u62bd\u8c61\u57fa\u7c7b\u548c\u901a\u7528\u529f\u80fd</p> <p>\u6838\u5fc3\u7c7b\uff1a - <code>BaseMonitor</code>\uff1a\u76d1\u63a7\u57fa\u7c7b\uff08\u62bd\u8c61\u7c7b\uff09 - <code>CookieExpiredError</code>\uff1aCookie\u8fc7\u671f\u5f02\u5e38</p> <p>\u5173\u952e\u529f\u80fd\uff1a - \u6570\u636e\u5e93\u521d\u59cb\u5316\u548c\u7ba1\u7406 - \u63a8\u9001\u670d\u52a1\u521d\u59cb\u5316\u548c\u7ba1\u7406 - HTTP\u4f1a\u8bdd\u7ba1\u7406\uff08\u5171\u4eab\u6216\u72ec\u7acb\uff09 - Cookie\u8fc7\u671f\u68c0\u6d4b\u548c\u5904\u7406 - \u5f02\u6b65\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\u652f\u6301</p> <p>\u57fa\u7c7b\u63a5\u53e3\uff1a <pre><code>class BaseMonitor(ABC):\n    @abstractmethod\n    async def run(self):\n        \"\"\"\u8fd0\u884c\u76d1\u63a7\u4efb\u52a1\"\"\"\n        pass\n\n    @property\n    @abstractmethod\n    def monitor_name(self) -&gt; str:\n        \"\"\"\u76d1\u63a7\u5668\u540d\u79f0\"\"\"\n        pass\n\n    @property\n    @abstractmethod\n    def platform_name(self) -&gt; str:\n        \"\"\"\u5e73\u53f0\u540d\u79f0\uff08\u7528\u4e8e Cookie \u7f13\u5b58\uff09\"\"\"\n        pass\n\n    @property\n    def push_channel_names(self) -&gt; list[str] | None:\n        \"\"\"\u63a8\u9001\u901a\u9053\u540d\u79f0\u5217\u8868\uff0c\u7528\u4e8e\u8fc7\u6ee4\uff1b\u8fd4\u56de None \u6216\u7a7a\u5217\u8868\u65f6\u4f7f\u7528\u5168\u90e8\u901a\u9053\u3002\u5b50\u7c7b\u53ef\u91cd\u5199\u4ee5\u8fd4\u56de\u4efb\u52a1\u914d\u7f6e\u4e2d\u7684 push_channels\u3002\"\"\"\n        return None\n</code></pre></p> <p>\u5b50\u7c7b\u5b9e\u73b0\u793a\u4f8b\uff1a - <code>HuyaMonitor</code>\uff1a\u864e\u7259\u76f4\u64ad\u76d1\u63a7 - <code>WeiboMonitor</code>\uff1a\u5fae\u535a\u76d1\u63a7</p>"},{"location":"ARCHITECTURE/#4-srcschedulerpy-","title":"4. src/scheduler.py - \u4efb\u52a1\u8c03\u5ea6\u5668","text":"<p>\u804c\u8d23\uff1a\u57fa\u4e8eAPScheduler\u7684\u4efb\u52a1\u8c03\u5ea6\u7ba1\u7406</p> <p>\u6838\u5fc3\u7c7b\uff1a - <code>TaskScheduler</code>\uff1a\u4efb\u52a1\u8c03\u5ea6\u5668\u5c01\u88c5 - <code>TaskGroupFormatter</code>\uff1a\u65e5\u5fd7\u683c\u5f0f\u5316\u5668\uff08\u4efb\u52a1\u7ec4\u5206\u9694\uff09</p> <p>\u5173\u952e\u529f\u80fd\uff1a - \u6dfb\u52a0\u95f4\u9694\u4efb\u52a1\uff08<code>add_interval_job</code>\uff09 - \u6dfb\u52a0Cron\u4efb\u52a1\uff08<code>add_cron_job</code>\uff09 - \u66f4\u65b0\u4efb\u52a1\u53c2\u6570\uff08\u70ed\u91cd\u8f7d\u652f\u6301\uff09 - \u4f18\u96c5\u5173\u95ed\uff08\u4fe1\u53f7\u5904\u7406\uff09</p> <p>\u4efb\u52a1\u7c7b\u578b\uff1a - \u95f4\u9694\u4efb\u52a1\uff1a\u4f7f\u7528 <code>IntervalTrigger</code>\uff0c\u6309\u56fa\u5b9a\u95f4\u9694\u6267\u884c   - \u793a\u4f8b\uff1a\u864e\u7259\u76d1\u63a7\u6bcf60\u79d2\u6267\u884c\u4e00\u6b21 - Cron\u4efb\u52a1\uff1a\u4f7f\u7528 <code>CronTrigger</code>\uff0c\u6309\u65f6\u95f4\u8868\u8fbe\u5f0f\u6267\u884c   - \u793a\u4f8b\uff1a\u6bcf\u592908:00\u6267\u884c\u7b7e\u5230\u4efb\u52a1</p> <p>\u70ed\u91cd\u8f7d\u652f\u6301\uff1a - <code>update_interval_job()</code>\uff1a\u66f4\u65b0\u95f4\u9694\u4efb\u52a1\u7684\u95f4\u9694\u65f6\u95f4 - <code>update_cron_job()</code>\uff1a\u66f4\u65b0Cron\u4efb\u52a1\u7684\u6267\u884c\u65f6\u95f4</p>"},{"location":"ARCHITECTURE/#5-srcdatabasepy-","title":"5. src/database.py - \u6570\u636e\u5e93\u6a21\u5757","text":"<p>\u804c\u8d23\uff1a\u5f02\u6b65SQLite\u6570\u636e\u5e93\u64cd\u4f5c</p> <p>\u6838\u5fc3\u7c7b\uff1a - <code>AsyncDatabase</code>\uff1a\u5f02\u6b65\u6570\u636e\u5e93\u64cd\u4f5c\u7c7b</p> <p>\u5173\u952e\u7279\u6027\uff1a - \u5171\u4eab\u8fde\u63a5\u6a21\u5f0f\uff1a\u591a\u4e2a\u5b9e\u4f8b\u5171\u4eab\u540c\u4e00\u4e2a\u6570\u636e\u5e93\u8fde\u63a5\uff08\u63d0\u9ad8\u6027\u80fd\uff09 - WAL\u6a21\u5f0f\uff1a\u542f\u7528Write-Ahead Logging\uff0c\u63d0\u9ad8\u5e76\u53d1\u6027\u80fd - \u8fde\u63a5\u5065\u5eb7\u68c0\u67e5\uff1a\u81ea\u52a8\u68c0\u6d4b\u8fde\u63a5\u5931\u6548\u5e76\u91cd\u8fde - \u91cd\u8bd5\u673a\u5236\uff1a\u6570\u636e\u5e93\u9501\u5b9a\u65f6\u7684\u6307\u6570\u9000\u907f\u91cd\u8bd5 - SQL\u517c\u5bb9\uff1a\u652f\u6301MySQL\u98ce\u683c\u7684\u53c2\u6570\u5360\u4f4d\u7b26\u8f6c\u6362</p> <p>\u8868\u7ed3\u6784\uff1a <pre><code>-- \u5fae\u535a\u8868\nCREATE TABLE weibo (\n    UID TEXT PRIMARY KEY,\n    \u7528\u6237\u540d TEXT NOT NULL,\n    \u8ba4\u8bc1\u4fe1\u606f TEXT,\n    \u7b80\u4ecb TEXT,\n    \u7c89\u4e1d\u6570 TEXT,\n    \u5fae\u535a\u6570 TEXT,\n    \u6587\u672c TEXT,\n    mid TEXT\n);\n\n-- \u864e\u7259\u8868\nCREATE TABLE huya (\n    room TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    is_live TEXT\n);\n</code></pre></p> <p>\u8fde\u63a5\u7ba1\u7406\uff1a - \u5168\u5c40\u5355\u4f8b\u8fde\u63a5\uff08<code>_shared_connection</code>\uff09 - \u5f15\u7528\u8ba1\u6570\u673a\u5236\uff08<code>_connection_ref_count</code>\uff09 - \u7ebf\u7a0b\u5b89\u5168\u7684\u8fde\u63a5\u7ba1\u7406\uff08<code>_connection_lock</code>\uff09</p>"},{"location":"ARCHITECTURE/#6-srcjob_registrypy-","title":"6. src/job_registry.py - \u4efb\u52a1\u6ce8\u518c\u8868","text":"<p>\u804c\u8d23\uff1a\u7edf\u4e00\u7ba1\u7406\u76d1\u63a7\u548c\u5b9a\u65f6\u4efb\u52a1\u7684\u6ce8\u518c</p> <p>\u6838\u5fc3\u6982\u5ff5\uff1a - <code>JobDescriptor</code>\uff1a\u4efb\u52a1\u63cf\u8ff0\u7b26\uff08job_id\u3001run_func\u3001trigger\u3001get_trigger_kwargs\u3001original_run_func\uff1b\u5176\u4e2d original_run_func \u7528\u4e8e Web \u624b\u52a8\u89e6\u53d1\u65f6\u7ed5\u8fc7\u300c\u5f53\u5929\u5df2\u8fd0\u884c\u5219\u8df3\u8fc7\u300d\uff09 - <code>MONITOR_MODULES</code>\uff1a\u76d1\u63a7\u6a21\u5757\u5217\u8868 - <code>TASK_MODULES</code>\uff1a\u5b9a\u65f6\u4efb\u52a1\u6a21\u5757\u5217\u8868 - <code>MONITOR_JOBS</code>\uff1a\u5df2\u6ce8\u518c\u7684\u76d1\u63a7\u4efb\u52a1\u5217\u8868 - <code>TASK_JOBS</code>\uff1a\u5df2\u6ce8\u518c\u7684\u5b9a\u65f6\u4efb\u52a1\u5217\u8868</p> <p>\u6ce8\u518c\u6d41\u7a0b\uff1a 1. \u5728 <code>MONITOR_MODULES</code> \u6216 <code>TASK_MODULES</code> \u4e2d\u6dfb\u52a0\u6a21\u5757\u8def\u5f84 2. <code>discover_and_import()</code> \u6309 <code>MONITOR_MODULES</code>\u3001<code>TASK_MODULES</code> \u987a\u5e8f\u5bfc\u5165\u6a21\u5757\uff0c\u6a21\u5757\u52a0\u8f7d\u65f6\u8c03\u7528 <code>register_monitor()</code> \u6216 <code>register_task()</code>\uff0c\u4efb\u52a1\u63cf\u8ff0\u7b26\u52a0\u5165 <code>MONITOR_JOBS</code> \u6216 <code>TASK_JOBS</code> 3. \u8c03\u5ea6\u5668\u542f\u52a8\u65f6\u6ce8\u518c <code>MONITOR_JOBS</code>\u3001<code>TASK_JOBS</code></p> <p>\u6269\u5c55\u65b0\u4efb\u52a1\uff1a <pre><code># 1. \u5728 monitors/ \u6216 tasks/ \u4e0b\u521b\u5efa\u6a21\u5757\uff08\u89c1 docs/SECONDARY_DEVELOPMENT.md\uff09\n# 2. \u5728 job_registry.py \u7684 MONITOR_MODULES \u6216 TASK_MODULES \u4e2d\u8ffd\u52a0\u6a21\u5757\u8def\u5f84\nMONITOR_MODULES: list[str] = [\n    \"monitors.huya_monitor\",\n    \"monitors.weibo_monitor\",\n    \"monitors.bilibili_monitor\",\n    \"monitors.douyin_monitor\",\n    \"monitors.douyu_monitor\",\n    \"monitors.xhs_monitor\",\n    \"monitors.new_monitor\",  # \u65b0\u589e\n]\n\n# 3. \u5728\u6a21\u5757\u4e2d\u6ce8\u518c\u4efb\u52a1\nfrom src.job_registry import register_monitor\n\nasync def run_new_monitor():\n    # \u76d1\u63a7\u903b\u8f91\n    pass\n\nregister_monitor(\n    job_id=\"new_monitor\",\n    run_func=run_new_monitor,\n    get_trigger_kwargs=lambda c: {\"seconds\": c.new_monitor_interval_seconds}\n)\n</code></pre></p>"},{"location":"ARCHITECTURE/#7-srcconfig_db_syncpy-","title":"7. src/config_db_sync.py - \u914d\u7f6e\u4e0e\u6570\u636e\u5e93\u540c\u6b65","text":"<p>\u804c\u8d23\uff1a\u5728\u914d\u7f6e\u70ed\u91cd\u8f7d\u65f6\uff0c\u5220\u9664\u914d\u7f6e\u4e2d\u5df2\u79fb\u9664\u7684 uid/room \u5bf9\u5e94\u7684\u6570\u636e\u5e93\u8bb0\u5f55\uff0c\u4fdd\u6301\u914d\u7f6e\u4e0e\u6570\u636e\u5e93\u4e00\u81f4\u3002</p> <p>\u6838\u5fc3\u51fd\u6570\uff1a - <code>sync_config_to_db(old_config, new_config)</code>\uff1a\u5bf9\u6bd4\u65b0\u65e7\u914d\u7f6e\u4e2d\u7684\u76d1\u63a7\u5217\u8868\uff08weibo_uids\u3001huya_rooms\u3001bilibili_uids\u3001douyin_douyin_ids\u3001douyu_rooms\u3001xhs_profile_ids\uff09\uff0c\u8ba1\u7b97 <code>removed_ids = old_ids - new_ids</code>\uff0c\u5bf9\u6bcf\u4e2a\u76d1\u63a7\u5e73\u53f0\u5bf9\u5e94\u7684\u8868\u6267\u884c <code>DELETE</code>\uff0c\u5220\u9664\u5df2\u4ece\u914d\u7f6e\u4e2d\u79fb\u9664\u7684\u8bb0\u5f55\u3002\u9996\u6b21\u542f\u52a8\uff08<code>old_config is None</code>\uff09\u65f6\u4e0d\u6267\u884c\u5220\u9664\u3002</p> <p>\u652f\u6301\u7684\u5e73\u53f0\u4e0e\u8868\u6620\u5c04\uff1a\u5fae\u535a \u2192 weibo.UID\uff1b\u864e\u7259 \u2192 huya.room\uff1b\u54d4\u54e9\u54d4\u54e9 \u2192 bilibili_dynamic.uid\u3001bilibili_live.uid\uff1b\u6296\u97f3 \u2192 douyin.douyin_id\uff1b\u6597\u9c7c \u2192 douyu.room\uff1b\u5c0f\u7ea2\u4e66 \u2192 xhs.profile_id\u3002</p>"},{"location":"ARCHITECTURE/#8-srcconfig_watcherpy-","title":"8. src/config_watcher.py - \u914d\u7f6e\u76d1\u63a7\u5668","text":"<p>\u804c\u8d23\uff1a\u76d1\u63a7\u914d\u7f6e\u6587\u4ef6\u53d8\u5316\u5e76\u89e6\u53d1\u70ed\u91cd\u8f7d</p> <p>\u6838\u5fc3\u7c7b\uff1a - <code>ConfigWatcher</code>\uff1a\u914d\u7f6e\u6587\u4ef6\u76d1\u63a7\u5668</p> <p>\u5173\u952e\u529f\u80fd\uff1a - \u5b9a\u671f\u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\u4fee\u6539\u65f6\u95f4\uff08\u9ed8\u8ba45\u79d2\uff09 - \u68c0\u6d4b\u5230\u53d8\u5316\u65f6\u91cd\u65b0\u52a0\u8f7d\u914d\u7f6e - \u6bd4\u8f83\u914d\u7f6e\u5185\u5bb9\u53d8\u5316\uff08\u907f\u514d\u65e0\u6548\u91cd\u8f7d\uff09 - \u89e6\u53d1\u56de\u8c03\u51fd\u6570\u66f4\u65b0\u8c03\u5ea6\u5668\u4efb\u52a1\u53c2\u6570</p> <p>\u70ed\u91cd\u8f7d\u6d41\u7a0b\uff1a 1. <code>ConfigWatcher</code> \u6bcf 5 \u79d2\u68c0\u67e5 <code>config.yml</code> \u7684\u4fee\u6539\u65f6\u95f4\uff08<code>check_interval</code> \u9ed8\u8ba4 5\uff09 2. \u68c0\u6d4b\u5230 <code>st_mtime</code> \u53d8\u5316\u65f6\uff1a\u8c03\u7528 <code>get_config(reload=True)</code> \u91cd\u65b0\u52a0\u8f7d\uff0c\u540c\u6b65\u8bfb\u53d6 YAML \u63d0\u53d6 <code>ai_assistant</code> \u8282\u70b9\uff08\u72ec\u7acb\u4e8e AppConfig\uff09 3. \u901a\u8fc7 <code>_config_changed()</code> \u6bd4\u8f83\u65b0\u65e7\u914d\u7f6e\uff08\u76d1\u63a7 enable/\u95f4\u9694\u3001\u4efb\u52a1 enable/time\u3001\u514d\u6253\u6270\u3001\u63a8\u9001\u901a\u9053\u3001plugins \u7b49\uff09\u53ca <code>ai_assistant</code> \u539f\u59cb\u5185\u5bb9\uff0c\u5224\u65ad\u662f\u5426\u53d1\u751f\u5b9e\u9645\u53d8\u5316\uff1b\u907f\u514d\u6587\u4ef6\u4fdd\u5b58\u4f46\u5185\u5bb9\u672a\u53d8\u65f6\u8bef\u89e6\u53d1 4. \u82e5\u6709\u53d8\u5316\u5219\u8c03\u7528 <code>on_config_changed()</code> \u56de\u8c03 5. \u56de\u8c03\u5185\u5148\u6267\u884c <code>sync_config_to_db</code>\uff08\u5220\u9664\u914d\u7f6e\u4e2d\u5df2\u79fb\u9664\u7684 uid/room\uff09\uff0c\u518d\u66f4\u65b0\u8c03\u5ea6\u5668\u4efb\u52a1\u53c2\u6570\uff08\u95f4\u9694\u3001Cron\u3001\u6682\u505c/\u6062\u590d\u3001\u514d\u6253\u6270\uff09</p> <p>\u914d\u7f6e\u53d8\u5316\u68c0\u6d4b\uff1a - \u6bd4\u8f83\u5173\u952e\u914d\u7f6e\u5b57\u6bb5\uff08\u5404\u76d1\u63a7 enable/\u95f4\u9694\u3001\u5404\u4efb\u52a1 enable/\u6267\u884c\u65f6\u95f4\u3001\u514d\u6253\u6270\u3001\u63a8\u9001\u901a\u9053\u7b49\uff09 - \u5355\u72ec\u6bd4\u8f83 <code>ai_assistant</code> \u8282\u70b9\uff08YAML \u539f\u59cb\u5b57\u5178\uff09\uff0c\u5176\u53d8\u5316\u4e5f\u4f1a\u89e6\u53d1\u70ed\u91cd\u8f7d\uff08\u5982 LLM \u914d\u7f6e\u7b49\uff09 - \u652f\u6301\u5d4c\u5957\u914d\u7f6e\u6bd4\u8f83\uff08\u591a\u8d26\u53f7\u3001\u591a Cookie \u7b49\uff09 - \u907f\u514d\u56e0\u6587\u4ef6\u4fdd\u5b58\u4f46\u5185\u5bb9\u672a\u53d8\u800c\u89e6\u53d1\u91cd\u8f7d</p>"},{"location":"ARCHITECTURE/#9-srccookie_cachepy-cookie","title":"9. src/cookie_cache.py - Cookie\u7f13\u5b58\u7ba1\u7406","text":"<p>\u804c\u8d23\uff1a\u7ba1\u7406\u5404\u5e73\u53f0Cookie\u7684\u8fc7\u671f\u72b6\u6001</p> <p>\u6838\u5fc3\u7c7b\uff1a - <code>CookieCache</code>\uff1aCookie\u7f13\u5b58\u7ba1\u7406\u5668</p> <p>\u5173\u952e\u529f\u80fd\uff1a - Cookie\u6709\u6548\u6027\u72b6\u6001\u7f13\u5b58\uff08<code>valid</code>\uff09 - \u8fc7\u671f\u63d0\u9192\u53d1\u9001\u72b6\u6001\uff08<code>notified</code>\uff09 - \u6587\u4ef6\u6301\u4e45\u5316\uff08<code>data/cookie_cache.json</code>\uff09 - \u5f02\u6b65\u64cd\u4f5c\uff08\u5e26\u9501\u4fdd\u62a4\uff09</p> <p>\u7f13\u5b58\u7ed3\u6784\uff1a <pre><code>{\n  \"weibo\": {\n    \"valid\": true,\n    \"notified\": false\n  },\n  \"huya\": {\n    \"valid\": true,\n    \"notified\": false\n  }\n}\n</code></pre></p> <p>\u72b6\u6001\u7ba1\u7406\uff1a - <code>mark_expired()</code>\uff1a\u6807\u8bb0Cookie\u4e3a\u8fc7\u671f - <code>mark_valid()</code>\uff1a\u6807\u8bb0Cookie\u4e3a\u6709\u6548\uff08\u91cd\u7f6e\u63d0\u9192\u72b6\u6001\uff09 - <code>reset_all()</code>\uff1a\u542f\u52a8\u65f6\u91cd\u7f6e\u6240\u6709Cookie\u4e3a\u6709\u6548\u72b6\u6001 - <code>is_notified()</code>\uff1a\u68c0\u67e5\u662f\u5426\u5df2\u53d1\u9001\u8fc7\u671f\u63d0\u9192</p> <p>\u4f7f\u7528\u573a\u666f\uff1a - \u76d1\u63a7\u4efb\u52a1\u68c0\u6d4b\u5230Cookie\u5931\u6548\u65f6\uff0c\u8c03\u7528 <code>mark_expired()</code> - \u907f\u514d\u91cd\u590d\u53d1\u9001Cookie\u8fc7\u671f\u63d0\u9192\uff08\u901a\u8fc7 <code>notified</code> \u6807\u8bb0\uff09 - Cookie\u6062\u590d\u6709\u6548\u65f6\uff0c\u91cd\u7f6e\u63d0\u9192\u72b6\u6001\uff0c\u5141\u8bb8\u4e0b\u6b21\u8fc7\u671f\u65f6\u518d\u6b21\u63d0\u9192</p>"},{"location":"ARCHITECTURE/#10-srcpush_channel-","title":"10. src/push_channel/ - \u63a8\u9001\u901a\u9053\u6a21\u5757","text":"<p>\u804c\u8d23\uff1a\u7edf\u4e00\u7ba1\u7406\u591a\u79cd\u63a8\u9001\u901a\u9053</p> <p>\u6838\u5fc3\u7ec4\u4ef6\uff1a - <code>_push_channel.py</code>\uff1a\u63a8\u9001\u901a\u9053\u57fa\u7c7b - <code>manager.py</code>\uff1a\u7edf\u4e00\u63a8\u9001\u7ba1\u7406\u5668 - \u5404\u901a\u9053\u5b9e\u73b0\uff1a<code>wecom_apps.py</code>\u3001<code>dingtalk_bot.py</code> \u7b49</p> <p>\u652f\u6301\u7684\u63a8\u9001\u901a\u9053\uff1a - \u4f01\u4e1a\u5fae\u4fe1\uff08\u81ea\u5efa\u5e94\u7528\u3001\u7fa4\u804a\u673a\u5668\u4eba\uff09 - \u9489\u9489\uff08\u7fa4\u804a\u673a\u5668\u4eba\uff09 - \u98de\u4e66\uff08\u81ea\u5efa\u5e94\u7528\u3001\u7fa4\u804a\u673a\u5668\u4eba\uff09 - Telegram\u673a\u5668\u4eba - QQ\u9891\u9053\u673a\u5668\u4eba\u3001NapCatQQ - Server\u9171\u3001PushPlus\u3001WxPusher - Bark\u3001Gotify\u3001Webhook\u3001Email</p> <p>\u63a8\u9001\u901a\u9053\u57fa\u7c7b\uff1a <pre><code>class PushChannel(ABC):\n    @abstractmethod\n    async def push(self, title, content, jump_url, pic_url, extend_data):\n        \"\"\"\u63a8\u9001\u6d88\u606f\"\"\"\n        pass\n</code></pre></p> <p>\u7edf\u4e00\u63a8\u9001\u7ba1\u7406\u5668\uff1a - <code>UnifiedPushManager</code>\uff1a\u7ba1\u7406\u591a\u4e2a\u63a8\u9001\u901a\u9053 - <code>send_news()</code>\uff1a\u5e76\u53d1\u53d1\u9001\u5230\u6240\u6709\u542f\u7528\u7684\u901a\u9053 - \u652f\u6301\u901a\u9053\u7279\u5b9a\u7684\u63cf\u8ff0\u751f\u6210\uff08<code>description_func</code>\uff09</p> <p>\u901a\u9053\u6ce8\u518c\u673a\u5236\uff1a <pre><code># src/push_channel/__init__.py\n_channel_type_to_class = {\n    \"wecom_apps\": WeComApps,\n    \"dingtalk_bot\": DingtalkBot,\n    # ...\n}\n\ndef get_push_channel(config: dict, session) -&gt; PushChannel:\n    channel_type = config.get(\"type\")\n    return _channel_type_to_class[channel_type](config, session)\n</code></pre></p>"},{"location":"ARCHITECTURE/#11-srcweb_serverpy-web","title":"11. src/web_server.py - Web\u670d\u52a1\u5668","text":"<p>\u804c\u8d23\uff1a\u63d0\u4f9bWeb\u7ba1\u7406\u754c\u9762\u548cAPI\u63a5\u53e3</p> <p>\u6280\u672f\u6808\uff1a - FastAPI\uff1aWeb\u6846\u67b6 - Jinja2\uff1a\u6a21\u677f\u5f15\u64ce - Uvicorn\uff1aASGI\u670d\u52a1\u5668</p> <p>\u4e3b\u8981\u529f\u80fd\uff1a - \u914d\u7f6e\u7ba1\u7406\uff1a\u5728\u7ebf\u7f16\u8f91 <code>config.yml</code>\uff08\u4fdd\u7559\u6ce8\u91ca\uff09 - \u6570\u636e\u67e5\u770b\uff1a\u67e5\u770b\u76d1\u63a7\u6570\u636e\uff08\u5206\u9875\u3001\u8fc7\u6ee4\uff09 - \u65e5\u5fd7\u67e5\u770b\uff1a\u67e5\u770b\u7cfb\u7edf\u65e5\u5fd7 - API\u63a5\u53e3\uff1aRESTful API\u4f9b\u5916\u90e8\u8c03\u7528</p> <p>\u9875\u9762\u8def\u7531\uff1a - <code>/</code>\uff1a\u9996\u9875\uff08\u5df2\u767b\u5f55\u5219\u914d\u7f6e\u9875\uff0c\u672a\u767b\u5f55\u5219\u767b\u5f55\u9875\uff09 - <code>/login</code>\uff1a\u767b\u5f55\u9875\u9762 - <code>/config</code>\uff1a\u914d\u7f6e\u7ba1\u7406\u9875\u9762 - <code>/tasks</code>\uff1a\u4efb\u52a1\u7ba1\u7406\u9875\u9762 - <code>/data</code>\uff1a\u6570\u636e\u5c55\u793a\u9875\u9762 - <code>/logs</code>\uff1a\u65e5\u5fd7\u5c55\u793a\u9875\u9762</p> <p>API\u63a5\u53e3\uff1a - <code>GET /api/config</code>\uff1a\u83b7\u53d6\u914d\u7f6e - <code>POST /api/config</code>\uff1a\u4fdd\u5b58\u914d\u7f6e\uff08\u89e6\u53d1\u70ed\u91cd\u8f7d\uff09 - <code>GET /api/data/{platform}</code>\uff1a\u83b7\u53d6\u76d1\u63a7\u6570\u636e - <code>GET /api/logs</code>\uff1a\u83b7\u53d6\u65e5\u5fd7\u5185\u5bb9\uff08\u53ef\u9009 <code>task</code> \u53c2\u6570\u6307\u5b9a\u4efb\u52a1\u4eca\u65e5\u65e5\u5fd7\uff09 - <code>GET /api/logs/tasks</code>\uff1a\u83b7\u53d6\u4efb\u52a1\u65e5\u5fd7\u5217\u8868 - <code>GET /api/monitor-status</code>\uff1a\u83b7\u53d6\u5168\u90e8\u76d1\u63a7\u72b6\u6001\uff08\u65e0\u9700\u767b\u5f55\uff09 - <code>GET /api/monitor-status/{platform}</code>\uff1a\u6309\u5e73\u53f0\u83b7\u53d6\u76d1\u63a7\u72b6\u6001\uff08\u65e0\u9700\u767b\u5f55\uff09 - <code>GET /api/version</code>\uff1a\u83b7\u53d6\u7248\u672c\u4fe1\u606f\uff08\u65e0\u9700\u767b\u5f55\uff0c\u7528\u4e8e\u524d\u7aef\u68c0\u6d4b\u65b0\u7248\u672c\uff09 - <code>GET /api/assistant/status</code>\uff1a\u83b7\u53d6 AI \u52a9\u624b\u72b6\u6001\uff08\u9700\u767b\u5f55\uff09 - <code>POST /api/assistant/chat</code>\uff1aAI \u5bf9\u8bdd\uff08\u9700\u767b\u5f55\uff0c\u9700 AI \u4f9d\u8d56\uff09 - <code>POST /api/assistant/chat/stream</code>\uff1aAI \u5bf9\u8bdd\u6d41\u5f0f\u63a5\u53e3\uff08SSE\uff0c\u9700\u767b\u5f55\uff09 - <code>POST /api/assistant/apply-action</code>\uff1a\u6267\u884c\u53ef\u786e\u8ba4\u64cd\u4f5c\uff08\u9700\u767b\u5f55\uff09 - <code>GET/POST /api/webhooks/wecom</code>\uff1a\u4f01\u4e1a\u5fae\u4fe1\u81ea\u5efa\u5e94\u7528\u63a5\u6536\u6d88\u606f\u56de\u8c03\uff08AI \u5bf9\u8bdd\u5165\u53e3\uff0c\u652f\u6301\u591a\u5e94\u7528\u4f9d\u6b21\u89e3\u5bc6\uff09 - <code>POST /api/webhooks/telegram/{channel_name:path}</code>\uff1aTelegram \u673a\u5668\u4eba Webhook\uff08AI \u5bf9\u8bdd\u5165\u53e3\uff09</p> <p>\u914d\u7f6e\u4fdd\u5b58\u7279\u6027\uff1a - \u4f7f\u7528 <code>ruamel.yaml</code> \u4fdd\u7559YAML\u6ce8\u91ca - \u914d\u7f6e\u9a8c\u8bc1\uff08\u52a0\u8f7d\u6d4b\u8bd5\uff09 - \u4fdd\u5b58\u540e\u81ea\u52a8\u89e6\u53d1\u70ed\u91cd\u8f7d</p>"},{"location":"ARCHITECTURE/#12-srclog_managerpy-","title":"12. src/log_manager.py - \u65e5\u5fd7\u7ba1\u7406","text":"<p>\u804c\u8d23\uff1a\u7edf\u4e00\u7ba1\u7406\u65e5\u5fd7\u6587\u4ef6</p> <p>\u6838\u5fc3\u7c7b\uff1a - <code>LogManager</code>\uff1a\u65e5\u5fd7\u7ba1\u7406\u5668 - <code>DailyRotatingFileHandler</code>\uff1a\u6309\u65e5\u671f\u8f6e\u8f6c\u7684\u6587\u4ef6\u5904\u7406\u5668</p> <p>\u5173\u952e\u529f\u80fd\uff1a - \u6309\u65e5\u671f\u81ea\u52a8\u8f6e\u8f6c\u65e5\u5fd7\u6587\u4ef6\uff08<code>main_20250130.log</code>\uff09 - \u65e5\u5fd7\u6e05\u7406\uff08\u5220\u9664\u8d85\u8fc7\u4fdd\u7559\u5929\u6570\u7684\u65e5\u5fd7\uff09 - \u65e5\u5fd7\u6587\u4ef6\u5927\u5c0f\u7edf\u8ba1</p> <p>\u65e5\u5fd7\u6587\u4ef6\u7ed3\u6784\uff1a <pre><code>logs/\n  main_20250130.log           # \u4eca\u65e5\u603b\u65e5\u5fd7\n  main_20250129.log\n  task_ikuuu_checkin_20250130.log   # \u5404\u4efb\u52a1\u4e13\u5c5e\u65e5\u5fd7\uff08\u6309\u4efb\u52a1\u540d+\u65e5\u671f\uff09\n  task_huya_monitor_20250130.log\n  task_log_cleanup_20250130.log\n</code></pre></p> <ul> <li>\u603b\u65e5\u5fd7 <code>main_*.log</code>\uff1a\u6240\u6709\u8f93\u51fa\u6c47\u603b</li> <li>\u4efb\u52a1\u65e5\u5fd7 <code>task_{job_id}_*.log</code>\uff1a\u6bcf\u4e2a\u4efb\u52a1\u6267\u884c\u65f6\u5355\u72ec\u5199\u5165</li> </ul> <p>\u4efb\u52a1\u65e5\u5fd7\u5b9e\u73b0\uff1a<code>job_registry</code> \u5728\u4efb\u52a1\u6267\u884c\u524d\u5c06\u4efb\u52a1\u4e13\u5c5e\u6587\u4ef6 Handler \u6302\u5230 <code>logging.root</code>\uff0c\u6267\u884c\u7ed3\u675f\u540e\u79fb\u9664\u3002\u8fd9\u6837\u53ef\u7edf\u4e00\u6355\u83b7\u76d1\u63a7\u7c7b\uff08<code>BaseMonitor</code> \u7684 <code>__class__.__name__</code> logger\uff09\u3001\u63a8\u9001\u901a\u9053\u3001\u5b9a\u65f6\u4efb\u52a1\u6a21\u5757\u7b49\u6240\u6709\u76f8\u5173\u8f93\u51fa\uff0c\u907f\u514d\u4ec5\u6302\u6a21\u5757 logger \u65f6\u6f0f\u6389\u76d1\u63a7/\u63a8\u9001\u65e5\u5fd7\u3002</p> <p>\u65e5\u5fd7\u6e05\u7406\uff1a - \u5b9a\u65f6\u4efb\u52a1\u6bcf\u5929\u6267\u884c\u4e00\u6b21\uff08\u9ed8\u8ba4 02:10\uff09 - \u5220\u9664\u8d85\u8fc7 <code>retention_days</code> \u5929\u7684\u65e5\u5fd7\u6587\u4ef6\uff08\u5305\u62ec\u603b\u65e5\u5fd7\u548c\u5404\u4efb\u52a1\u65e5\u5fd7\uff09 - \u4ece\u6587\u4ef6\u540d\u63d0\u53d6\u65e5\u671f\u6216\u4f7f\u7528\u6587\u4ef6\u4fee\u6539\u65f6\u95f4</p>"},{"location":"ARCHITECTURE/#13-srcai_assistant-ai","title":"13. src/ai_assistant/ - AI \u52a9\u624b\u6a21\u5757","text":"<p>\u804c\u8d23\uff1a\u57fa\u4e8e RAG\uff08\u68c0\u7d22\u589e\u5f3a\u751f\u6210\uff09+ LLM \u63d0\u4f9b\u667a\u80fd\u5bf9\u8bdd\u80fd\u529b\uff0c\u652f\u6301\u914d\u7f6e\u751f\u6210\u3001\u65e5\u5fd7\u8bca\u65ad\u3001\u6570\u636e\u6d1e\u5bdf\u53ca\u53ef\u6267\u884c\u64cd\u4f5c\u3002</p> <p>RAG \u68c0\u7d22\u4f18\u5316\uff08\u53c2\u8003 datawhalechina/all-in-rag\uff09\uff1aMarkdown \u7ed3\u6784\u611f\u77e5\u5206\u5757\u3001\u7236\u5b50\u6587\u672c\u5757\u4e0e\u667a\u80fd\u53bb\u91cd\uff1b\u5411\u91cf + BM25 \u6df7\u5408\u68c0\u7d22\u4e0e RRF \u91cd\u6392\uff1b\u67e5\u8be2\u8def\u7531\u6309\u95ee\u9898\u7c7b\u578b\u4fa7\u91cd\u914d\u7f6e/\u65e5\u5fd7/\u6587\u6863\u3002</p> <p>\u6838\u5fc3\u7ec4\u4ef6\uff1a - <code>config.py</code>\uff1aAI \u914d\u7f6e\uff08provider\u3001api_key\u3001model\u3001embedding_model\u3001chroma \u7b49\uff09 - <code>rag.py</code>\uff1a\u5411\u91cf\u68c0\u7d22 + BM25 \u6df7\u5408\u68c0\u7d22\uff0c\u4ece\u6587\u6863\u3001\u914d\u7f6e\u3001\u65e5\u5fd7\u4e2d\u68c0\u7d22\u76f8\u5173\u4e0a\u4e0b\u6587 - <code>indexer.py</code>\uff1a\u6784\u5efa\u6587\u6863\u7d22\u5f15\uff08<code>docs/*.md</code>\u3001<code>README.md</code>\uff09\u5b58\u5165 Chroma\uff1b\u4e3b\u5165\u53e3 <code>main.py</code> \u5728\u542f\u52a8\u524d\u8c03\u7528\uff0c\u82e5 AI \u52a9\u624b\u542f\u7528\u5219\u9884\u6784\u5efa\u5411\u91cf\u5e93 - <code>conversation.py</code>\uff1a\u4f1a\u8bdd\u4e0e\u6d88\u606f\u6301\u4e45\u5316\uff08<code>data/ai_assistant_conversations.json</code>\uff09 - <code>intent_parser.py</code>\uff1a\u89e3\u6790\u53ef\u6267\u884c\u610f\u56fe\uff08\u5f00\u5173\u76d1\u63a7\u3001\u914d\u7f6e\u5217\u8868\u589e\u5220\uff09 - <code>tools.py</code>\uff1aAI \u53ef\u8c03\u7528\u5de5\u5177\uff08\u914d\u7f6e\u7247\u6bb5\u3001\u65e5\u5fd7\u3001\u5f53\u524d\u72b6\u6001\u7b49\uff09 - <code>tools_current_state.py</code>\uff1a\u67e5\u8be2\u5f53\u524d\u76d1\u63a7\u6570\u636e\uff08\u5f00\u64ad\u72b6\u6001\u7b49\uff09 - <code>prompts.py</code>\uff1a\u7cfb\u7edf\u63d0\u793a\u8bcd - <code>llm_client.py</code>\uff1aLLM \u8c03\u7528\uff08OpenAI \u517c\u5bb9 API\uff09 - <code>platform_chat.py</code>\uff1a\u63a8\u9001\u5e73\u53f0\u5bf9\u8bdd\u5165\u53e3\uff08Webhook \u8def\u7531\u5206\u53d1\uff09 - <code>wecom_crypto.py</code>\uff1a\u4f01\u4e1a\u5fae\u4fe1\u6d88\u606f\u52a0\u89e3\u5bc6\uff08EncodingAESKey\uff09 - <code>platform_handlers/</code>\uff1a\u5404\u5e73\u53f0\u6d88\u606f\u5904\u7406\uff08<code>wecom.py</code> \u4f01\u4e1a\u5fae\u4fe1\u3001<code>telegram.py</code> Telegram\uff09</p> <p>\u652f\u6301\u7684\u64cd\u4f5c\uff1a - \u914d\u7f6e\u751f\u6210\uff1a\u6839\u636e\u7528\u6237\u63cf\u8ff0\u751f\u6210 YAML \u7247\u6bb5 - \u65e5\u5fd7\u8bca\u65ad\uff1a\u7ed3\u5408\u65e5\u5fd7\u5185\u5bb9\u56de\u7b54\u9519\u8bef\u539f\u56e0 - \u6570\u636e\u6d1e\u5bdf\uff1a\u8c01\u5f00\u64ad\u3001\u8c01\u53d1\u535a\u3001\u5f00\u64ad\u9891\u7387\u7b49 - \u53ef\u6267\u884c\u64cd\u4f5c\uff1a\u5173\u95ed/\u5f00\u542f\u67d0\u5e73\u53f0\u76d1\u63a7\uff0c\u6dfb\u52a0/\u79fb\u9664\u76d1\u63a7\u5217\u8868\u9879\uff08\u9700\u7528\u6237\u786e\u8ba4\uff09</p> <p>\u4f9d\u8d56\uff1achromadb\u3001httpx\u3001openai\uff08\u5df2\u5305\u542b\u5728\u9ed8\u8ba4 <code>uv sync</code> \u4e2d\uff09\u3002</p>"},{"location":"ARCHITECTURE/#14-srcversionpy-","title":"14. src/version.py - \u7248\u672c\u4fe1\u606f\u6a21\u5757","text":"<p>\u804c\u8d23\uff1a\u7ba1\u7406\u5e94\u7528\u7248\u672c\u4fe1\u606f\uff0c\u652f\u6301\u7248\u672c\u66f4\u65b0\u68c0\u6d4b</p> <p>\u6838\u5fc3\u529f\u80fd\uff1a - \u4ece <code>pyproject.toml</code> \u8bfb\u53d6\u5f53\u524d\u7248\u672c\u53f7 - \u63d0\u4f9b GitHub \u4ed3\u5e93\u4fe1\u606f\uff08\u7528\u4e8e\u68c0\u6d4b\u65b0\u7248\u672c\uff09 - \u7f13\u5b58\u7248\u672c\u53f7\u907f\u514d\u91cd\u590d\u8bfb\u53d6</p> <p>\u7248\u672c\u83b7\u53d6\u6d41\u7a0b\uff1a 1. \u4f18\u5148\u4ece <code>importlib.metadata.version()</code> \u8bfb\u53d6\uff08\u5df2\u5b89\u88c5\u5305\u573a\u666f\uff09 2. \u5931\u8d25\u5219\u4ece <code>pyproject.toml</code> \u76f4\u63a5\u89e3\u6790\u7248\u672c\u53f7 3. \u7f13\u5b58\u5230 <code>__version__</code> \u53d8\u91cf</p> <p>\u5bfc\u51fa\u5185\u5bb9\uff1a <pre><code>from src.version import (\n    __version__,          # \u5f53\u524d\u7248\u672c\u53f7\uff0c\u5982 \"2.0.7\"\n    GITHUB_RELEASES_URL,  # GitHub Tags \u9875\u9762 URL\n    GITHUB_API_LATEST_TAG # GitHub API \u83b7\u53d6\u6700\u65b0 tag \u7684 URL\n)\n</code></pre></p> <p>\u524d\u7aef\u7248\u672c\u68c0\u6d4b\u6d41\u7a0b\uff1a 1. \u524d\u7aef\u8c03\u7528 <code>GET /api/version</code> \u83b7\u53d6\u5f53\u524d\u7248\u672c\u548c GitHub API \u5730\u5740 2. \u524d\u7aef\u8c03\u7528 GitHub Tags API \u83b7\u53d6\u6700\u65b0 tag \u7684 <code>name</code> 3. \u6bd4\u8f83\u7248\u672c\u53f7\uff0c\u82e5\u6709\u65b0\u7248\u672c\u5219\u663e\u793a\u66f4\u65b0\u63d0\u793a\u6a2a\u5e45 4. \u7528\u6237\u53ef\u70b9\u51fb\u8df3\u8f6c\u81f3 GitHub Tags \u9875\u9762\u67e5\u770b\u66f4\u65b0\u5185\u5bb9</p>"},{"location":"ARCHITECTURE/#_8","title":"\u6570\u636e\u6d41\u8bbe\u8ba1","text":""},{"location":"ARCHITECTURE/#_9","title":"\u76d1\u63a7\u4efb\u52a1\u6267\u884c\u6d41\u7a0b","text":"<pre><code>1. \u8c03\u5ea6\u5668\u89e6\u53d1\u4efb\u52a1\n   \u2193\n2. \u76d1\u63a7\u4efb\u52a1\u521d\u59cb\u5316\n   - \u52a0\u8f7d\u6570\u636e\u5e93\u4e2d\u7684\u65e7\u6570\u636e\n   - \u521d\u59cb\u5316\u63a8\u9001\u670d\u52a1\n   \u2193\n3. \u5e76\u53d1\u83b7\u53d6\u5e73\u53f0\u6570\u636e\n   - \u4f7f\u7528 aiohttp \u8bf7\u6c42\u5e73\u53f0API/\u9875\u9762\n   - \u89e3\u6790\u54cd\u5e94\u6570\u636e\n   \u2193\n4. \u6570\u636e\u5bf9\u6bd4\n   - \u4e0e\u6570\u636e\u5e93\u4e2d\u7684\u65e7\u6570\u636e\u5bf9\u6bd4\n   - \u68c0\u6d4b\u53d8\u5316\uff08\u65b0\u5185\u5bb9\u3001\u5f00\u64ad\u7b49\uff09\n   \u2193\n5. \u66f4\u65b0\u6570\u636e\u5e93\n   - \u63d2\u5165\u6216\u66f4\u65b0\u6570\u636e\n   \u2193\n6. \u63a8\u9001\u901a\u77e5\uff08\u5982\u6709\u53d8\u5316\uff09\n   - \u68c0\u67e5\u514d\u6253\u6270\u65f6\u6bb5\n   - \u6784\u5efa\u63a8\u9001\u6d88\u606f\n   - \u5e76\u53d1\u53d1\u9001\u5230\u6240\u6709\u542f\u7528\u7684\u63a8\u9001\u901a\u9053\n   \u2193\n7. \u8bb0\u5f55\u65e5\u5fd7\n</code></pre>"},{"location":"ARCHITECTURE/#_10","title":"\u5b9a\u65f6\u4efb\u52a1\u6267\u884c\u6d41\u7a0b","text":"<pre><code>1. \u8c03\u5ea6\u5668\u89e6\u53d1\u4efb\u52a1\uff08Cron\uff09\n   \u2193\n2. \u68c0\u67e5\u5f53\u5929\u662f\u5426\u5df2\u8fd0\u884c\uff08skip_if_run_today\uff09\n   - \u67e5\u8be2 task_run_history \u8868\n   - \u5982\u679c\u5f53\u5929\u5df2\u8fd0\u884c\uff0c\u8bb0\u5f55\u65e5\u5fd7\u5e76\u8df3\u8fc7\n   \u2193\n3. \u4efb\u52a1\u521d\u59cb\u5316\n   - \u52a0\u8f7d\u914d\u7f6e\n   - \u521d\u59cb\u5316\u63a8\u9001\u670d\u52a1\n   \u2193\n4. \u6267\u884c\u4efb\u52a1\u903b\u8f91\n   - \u767b\u5f55\uff08\u5982\u9700\u8981\uff09\n   - \u6267\u884c\u7b7e\u5230/\u6e05\u7406\u7b49\u64cd\u4f5c\n   \u2193\n5. \u6807\u8bb0\u4e3a\u5df2\u8fd0\u884c\n   - \u66f4\u65b0 task_run_history \u8868\n   - \u4ec5\u5728\u4efb\u52a1\u6210\u529f\u65f6\u6807\u8bb0\n   \u2193\n6. \u63a8\u9001\u7ed3\u679c\n   - \u6784\u5efa\u63a8\u9001\u6d88\u606f\n   - \u53d1\u9001\u5230\u63a8\u9001\u901a\u9053\n   \u2193\n7. \u8bb0\u5f55\u65e5\u5fd7\n</code></pre>"},{"location":"ARCHITECTURE/#_11","title":"\u914d\u7f6e\u70ed\u91cd\u8f7d\u6d41\u7a0b","text":"<pre><code>1. ConfigWatcher \u68c0\u6d4b\u6587\u4ef6\u53d8\u5316\n   \u2193\n2. \u91cd\u65b0\u52a0\u8f7d\u914d\u7f6e\n   - get_config(reload=True)\n   - \u89e3\u6790YAML\u5e76\u9a8c\u8bc1\n   \u2193\n3. \u6bd4\u8f83\u914d\u7f6e\u53d8\u5316\n  - \u68c0\u6d4b\u5404\u76d1\u63a7 enable/\u95f4\u9694\u3001\u5404\u4efb\u52a1 enable/\u6267\u884c\u65f6\u95f4\u3001\u514d\u6253\u6270\u3001\u63a8\u9001\u901a\u9053\u7b49\n  - \u68c0\u6d4b `ai_assistant` \u8282\u70b9\uff08YAML \u539f\u59cb\u5185\u5bb9\uff09\u53d8\u5316\n  - \u68c0\u6d4b\u5d4c\u5957\u914d\u7f6e\uff08\u591a\u8d26\u53f7\u3001\u591a Cookie \u7b49\uff09\u53d8\u5316\n  \u2193\n4. \u914d\u7f6e\u4e0e\u6570\u636e\u5e93\u540c\u6b65\uff08sync_config_to_db\uff09\n  - \u4ece\u914d\u7f6e\u4e2d\u5220\u9664\u7684 uid/room \u5bf9\u5e94\u5220\u9664\u6570\u636e\u5e93\u8bb0\u5f55\n  \u2193\n5. \u66f4\u65b0\u8c03\u5ea6\u5668\n   - \u66f4\u65b0\u95f4\u9694\u4efb\u52a1\u7684\u95f4\u9694\u65f6\u95f4\n   - \u66f4\u65b0Cron\u4efb\u52a1\u7684\u6267\u884c\u65f6\u95f4\n   - \u66f4\u65b0\u514d\u6253\u6270\u65f6\u6bb5\u914d\u7f6e\n   \u2193\n6. \u8bb0\u5f55\u65e5\u5fd7\n</code></pre>"},{"location":"ARCHITECTURE/#_12","title":"\u6269\u5c55\u673a\u5236","text":""},{"location":"ARCHITECTURE/#_13","title":"\u6dfb\u52a0\u65b0\u76d1\u63a7\u5e73\u53f0","text":"<p>\u6b65\u9aa4\uff1a</p> <ol> <li> <p>\u521b\u5efa\u76d1\u63a7\u6a21\u5757\uff08<code>monitors/new_platform_monitor.py</code>\uff09 <pre><code>from src.monitor import BaseMonitor, CookieExpiredError\nfrom src.config import get_config\n\nclass NewPlatformMonitor(BaseMonitor):\n    @property\n    def monitor_name(self) -&gt; str:\n        return \"\u65b0\u5e73\u53f0\u76d1\u63a7\"\n\n    @property\n    def platform_name(self) -&gt; str:\n        return \"new_platform\"\n\n    async def run(self):\n        config = get_config()\n        # \u76d1\u63a7\u903b\u8f91\n        pass\n\n# \u6ce8\u518c\u4efb\u52a1\nfrom src.job_registry import register_monitor\n\nasync def run_new_platform_monitor():\n    config = get_config()\n    async with NewPlatformMonitor(config) as monitor:\n        await monitor.run()\n\nregister_monitor(\n    job_id=\"new_platform_monitor\",\n    run_func=run_new_platform_monitor,\n    get_trigger_kwargs=lambda c: {\"seconds\": c.new_platform_interval_seconds}\n)\n</code></pre></p> </li> <li> <p>\u5728 <code>job_registry.py</code> \u4e2d\u6dfb\u52a0\u6a21\u5757\u8def\u5f84 <pre><code>MONITOR_MODULES = [\n    \"monitors.huya_monitor\",\n    \"monitors.weibo_monitor\",\n    \"monitors.new_platform_monitor\",  # \u65b0\u589e\n]\n</code></pre></p> </li> <li> <p>\u5728 <code>config.py</code> \u4e2d\u6dfb\u52a0\u914d\u7f6e\u5b57\u6bb5 <pre><code>class AppConfig(BaseModel):\n    new_platform_interval_seconds: int = 300\n    # \u5176\u4ed6\u914d\u7f6e...\n</code></pre></p> </li> <li> <p>\u5728 <code>config.py</code> \u4e2d\u6dfb\u52a0\u914d\u7f6e\u6620\u5c04 <pre><code>config_mappings = {\n    \"new_platform\": {\n        \"interval_seconds\": \"new_platform_interval_seconds\",\n    },\n    # ...\n}\n</code></pre></p> </li> </ol>"},{"location":"ARCHITECTURE/#_14","title":"\u6dfb\u52a0\u65b0\u5b9a\u65f6\u4efb\u52a1","text":"<p>\u6b65\u9aa4\uff1a</p> <ol> <li> <p>\u521b\u5efa\u4efb\u52a1\u6a21\u5757\uff08<code>tasks/new_task.py</code>\uff09 <pre><code>from src.job_registry import register_task\nfrom src.config import get_config, parse_checkin_time\n\nasync def run_new_task():\n    config = get_config()\n    # \u4efb\u52a1\u903b\u8f91\n    pass\n\nregister_task(\n    job_id=\"new_task\",\n    run_func=run_new_task,\n    get_trigger_kwargs=lambda c: {\n        \"hour\": parse_checkin_time(c.new_task_time)[0],\n        \"minute\": parse_checkin_time(c.new_task_time)[1],\n    }\n)\n</code></pre></p> </li> <li> <p>\u5728 <code>job_registry.py</code> \u4e2d\u6dfb\u52a0\u6a21\u5757\u8def\u5f84 <pre><code>TASK_MODULES = [\n    \"tasks.log_cleanup\",\n    \"tasks.new_task\",  # \u65b0\u589e\n]\n</code></pre></p> </li> <li> <p>\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u6dfb\u52a0\u914d\u7f6e\u9879 <pre><code>new_task:\n  enable: true\n  time: \"08:00\"\n</code></pre></p> </li> </ol>"},{"location":"ARCHITECTURE/#_15","title":"\u6dfb\u52a0\u65b0\u63a8\u9001\u901a\u9053","text":"<p>\u6b65\u9aa4\uff1a</p> <ol> <li> <p>\u521b\u5efa\u63a8\u9001\u901a\u9053\u7c7b\uff08<code>src/push_channel/new_channel.py</code>\uff09 <pre><code>from ._push_channel import PushChannel\n\nclass NewChannel(PushChannel):\n    def __init__(self, config: dict, session):\n        super().__init__(config, session)\n        # \u521d\u59cb\u5316\u914d\u7f6e\n\n    async def push(self, title, content, jump_url, pic_url, extend_data):\n        # \u63a8\u9001\u903b\u8f91\n        pass\n</code></pre></p> </li> <li> <p>\u5728 <code>__init__.py</code> \u4e2d\u6ce8\u518c <pre><code>from .new_channel import NewChannel\n\n_channel_type_to_class = {\n    \"new_channel\": NewChannel,\n    # ...\n}\n</code></pre></p> </li> </ol>"},{"location":"ARCHITECTURE/#_16","title":"\u6280\u672f\u6808","text":""},{"location":"ARCHITECTURE/#_17","title":"\u6838\u5fc3\u4f9d\u8d56","text":"\u5e93\u540d \u7248\u672c \u7528\u9014 Python &gt;=3.10 \u7f16\u7a0b\u8bed\u8a00 aiohttp &gt;=3.9.0 \u5f02\u6b65HTTP\u5ba2\u6237\u7aef aiosqlite &gt;=0.19.0 \u5f02\u6b65SQLite\u6570\u636e\u5e93 APScheduler &gt;=3.10.0 \u4efb\u52a1\u8c03\u5ea6\u5668 Pydantic &gt;=2.5.0 \u6570\u636e\u9a8c\u8bc1\u548c\u914d\u7f6e\u6a21\u578b FastAPI &gt;=0.104.0 Web\u6846\u67b6 Uvicorn &gt;=0.24.0 ASGI\u670d\u52a1\u5668 PyYAML &gt;=6.0.0 YAML\u89e3\u6790 ruamel.yaml &gt;=0.18.0 YAML\u7f16\u8f91\uff08\u4fdd\u7559\u6ce8\u91ca\uff09"},{"location":"ARCHITECTURE/#_18","title":"\u67b6\u6784\u6a21\u5f0f","text":"<ul> <li>\u5f02\u6b65IO\uff1a\u5168\u9762\u4f7f\u7528 <code>asyncio</code> \u548c <code>async/await</code></li> <li>\u63d2\u4ef6\u5316\u67b6\u6784\uff1a\u76d1\u63a7\u548c\u4efb\u52a1\u91c7\u7528\u63d2\u4ef6\u5316\u8bbe\u8ba1</li> <li>\u4f9d\u8d56\u6ce8\u5165\uff1a\u901a\u8fc7\u6784\u9020\u51fd\u6570\u6ce8\u5165\u914d\u7f6e\u548c\u4f1a\u8bdd</li> <li>\u5de5\u5382\u6a21\u5f0f\uff1a\u63a8\u9001\u901a\u9053\u901a\u8fc7\u5de5\u5382\u51fd\u6570\u521b\u5efa</li> <li>\u5355\u4f8b\u6a21\u5f0f\uff1a\u6570\u636e\u5e93\u8fde\u63a5\u3001Cookie\u7f13\u5b58\u91c7\u7528\u5355\u4f8b</li> <li>\u89c2\u5bdf\u8005\u6a21\u5f0f\uff1a\u914d\u7f6e\u76d1\u63a7\u5668\u89c2\u5bdf\u914d\u7f6e\u6587\u4ef6\u53d8\u5316</li> </ul>"},{"location":"ARCHITECTURE/#_19","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>WebMoniter/\n\u251c\u2500\u2500 main.py                 # \u4e3b\u5165\u53e3\n\u251c\u2500\u2500 config.yml              # \u914d\u7f6e\u6587\u4ef6\uff08\u7528\u6237\u521b\u5efa\uff09\n\u251c\u2500\u2500 config.yml.sample        # \u914d\u7f6e\u793a\u4f8b\u6587\u4ef6\n\u251c\u2500\u2500 pyproject.toml          # \u9879\u76ee\u914d\u7f6e\u548c\u4f9d\u8d56\n\u251c\u2500\u2500 uv.lock                 # \u4f9d\u8d56\u9501\u5b9a\u6587\u4ef6\n\u251c\u2500\u2500 Dockerfile              # Docker \u955c\u50cf\u6784\u5efa\u6587\u4ef6\n\u251c\u2500\u2500 docker-compose.yml      # Docker Compose \u914d\u7f6e\n\u251c\u2500\u2500 docker-entrypoint.sh   # \u5bb9\u5668\u5165\u53e3\uff1a\u542f\u52a8\u524d\u4e3a data/logs \u8d4b\u4e88\u8bfb\u5199\u6743\u9650\uff0c\u518d\u542f\u52a8 main.py\n\u2502\n\u251c\u2500\u2500 src/                    # \u6838\u5fc3\u6e90\u4ee3\u7801\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 config.py           # \u914d\u7f6e\u7ba1\u7406\n\u2502   \u251c\u2500\u2500 config_db_sync.py   # \u914d\u7f6e\u4e0e\u6570\u636e\u5e93\u540c\u6b65\uff08\u70ed\u91cd\u8f7d\u65f6\u5220\u9664\u5df2\u79fb\u9664\u7684 uid/room\uff09\n\u2502   \u251c\u2500\u2500 config_watcher.py   # \u914d\u7f6e\u76d1\u63a7\uff08\u70ed\u91cd\u8f7d\uff0c\u9ed8\u8ba4 5 \u79d2\u8f6e\u8be2\uff09\n\u2502   \u251c\u2500\u2500 ai_assistant/       # AI \u52a9\u624b\uff08RAG + LLM\uff09\n\u2502   \u2502   \u251c\u2500\u2500 config.py       # AI \u914d\u7f6e\n\u2502   \u2502   \u251c\u2500\u2500 rag.py          # \u5411\u91cf\u68c0\u7d22\n\u2502   \u2502   \u251c\u2500\u2500 indexer.py      # \u6587\u6863\u7d22\u5f15\u6784\u5efa\n\u2502   \u2502   \u251c\u2500\u2500 conversation.py # \u4f1a\u8bdd\u7ba1\u7406\n\u2502   \u2502   \u251c\u2500\u2500 intent_parser.py # \u53ef\u6267\u884c\u610f\u56fe\u89e3\u6790\n\u2502   \u2502   \u251c\u2500\u2500 tools.py        # AI \u53ef\u8c03\u7528\u5de5\u5177\n\u2502   \u2502   \u251c\u2500\u2500 tools_current_state.py  # \u5f53\u524d\u72b6\u6001\u67e5\u8be2\n\u2502   \u2502   \u251c\u2500\u2500 prompts.py      # \u7cfb\u7edf\u63d0\u793a\u8bcd\n\u2502   \u2502   \u251c\u2500\u2500 llm_client.py   # LLM \u5ba2\u6237\u7aef\n\u2502   \u2502   \u251c\u2500\u2500 platform_chat.py # \u63a8\u9001\u5e73\u53f0\u5bf9\u8bdd\u5165\u53e3\n\u2502   \u2502   \u251c\u2500\u2500 wecom_crypto.py # \u4f01\u4e1a\u5fae\u4fe1\u6d88\u606f\u52a0\u89e3\u5bc6\n\u2502   \u2502   \u2514\u2500\u2500 platform_handlers/  # \u5e73\u53f0\u6d88\u606f\u5904\u7406\n\u2502   \u2502       \u251c\u2500\u2500 __init__.py\n\u2502   \u2502       \u251c\u2500\u2500 wecom.py    # \u4f01\u4e1a\u5fae\u4fe1\n\u2502   \u2502       \u2514\u2500\u2500 telegram.py # Telegram\n\u2502   \u251c\u2500\u2500 cookie_cache.py    # Cookie\u7f13\u5b58\u7ba1\u7406\n\u2502   \u251c\u2500\u2500 database.py         # \u6570\u636e\u5e93\u64cd\u4f5c\n\u2502   \u251c\u2500\u2500 job_registry.py     # \u4efb\u52a1\u6ce8\u518c\u8868\n\u2502   \u251c\u2500\u2500 ql_compat.py        # \u9752\u9f99\u9762\u677f\u517c\u5bb9\uff08\u73af\u5883\u53d8\u91cf\u914d\u7f6e\u3001QLAPI\uff09\n\u2502   \u251c\u2500\u2500 log_manager.py      # \u65e5\u5fd7\u7ba1\u7406\n\u2502   \u251c\u2500\u2500 monitor.py          # \u76d1\u63a7\u57fa\u7c7b\n\u2502   \u251c\u2500\u2500 scheduler.py        # \u4efb\u52a1\u8c03\u5ea6\u5668\n\u2502   \u251c\u2500\u2500 task_tracker.py     # \u4efb\u52a1\u8fd0\u884c\u8ffd\u8e2a\uff08\u5f53\u5929\u5df2\u8fd0\u884c\u5219\u8df3\u8fc7\uff09\n\u2502   \u251c\u2500\u2500 utils.py            # \u5de5\u5177\u51fd\u6570\n\u2502   \u251c\u2500\u2500 version.py          # \u7248\u672c\u4fe1\u606f\u7ba1\u7406\n\u2502   \u251c\u2500\u2500 web_server.py       # Web\u670d\u52a1\u5668\n\u2502   \u2502\n\u2502   \u2514\u2500\u2500 push_channel/       # \u63a8\u9001\u901a\u9053\u6a21\u5757\n\u2502       \u251c\u2500\u2500 __init__.py\n\u2502       \u251c\u2500\u2500 _push_channel.py # \u63a8\u9001\u901a\u9053\u57fa\u7c7b\n\u2502       \u251c\u2500\u2500 manager.py      # \u7edf\u4e00\u63a8\u9001\u7ba1\u7406\u5668\n\u2502       \u251c\u2500\u2500 wecom_apps.py   # \u4f01\u4e1a\u5fae\u4fe1\u81ea\u5efa\u5e94\u7528\n\u2502       \u251c\u2500\u2500 wecom_bot.py    # \u4f01\u4e1a\u5fae\u4fe1\u7fa4\u804a\u673a\u5668\u4eba\n\u2502       \u251c\u2500\u2500 dingtalk_bot.py # \u9489\u9489\u673a\u5668\u4eba\n\u2502       \u251c\u2500\u2500 feishu_apps.py  # \u98de\u4e66\u81ea\u5efa\u5e94\u7528\n\u2502       \u251c\u2500\u2500 feishu_bot.py   # \u98de\u4e66\u673a\u5668\u4eba\n\u2502       \u251c\u2500\u2500 telegram_bot.py # Telegram\u673a\u5668\u4eba\n\u2502       \u251c\u2500\u2500 qq_bot.py       # QQ\u9891\u9053\u673a\u5668\u4eba\n\u2502       \u251c\u2500\u2500 napcat_qq.py    # NapCatQQ\n\u2502       \u251c\u2500\u2500 bark.py         # Bark\n\u2502       \u251c\u2500\u2500 gotify.py       # Gotify\n\u2502       \u251c\u2500\u2500 webhook.py      # Webhook\n\u2502       \u251c\u2500\u2500 email.py        # \u7535\u5b50\u90ae\u4ef6\n\u2502       \u251c\u2500\u2500 pushplus.py     # PushPlus\n\u2502       \u251c\u2500\u2500 wxpusher.py     # WxPusher\n\u2502       \u251c\u2500\u2500 server_chan_turbo.py  # Server\u9171Turbo\n\u2502       \u251c\u2500\u2500 server_chan_3.py     # Server\u91713\n\u2502       \u251c\u2500\u2500 demo.py              # \u6f14\u793a\u901a\u9053\uff08\u6d4b\u8bd5\u7528\uff09\n\u2502       \u2514\u2500\u2500 qlapi.py             # \u9752\u9f99 QLAPI \u63a8\u9001\n\u2502\n\u251c\u2500\u2500 ql/                     # \u9752\u9f99\u5355\u4efb\u52a1\u811a\u672c\uff08ql/*.py\uff09\n\u2502\n\u251c\u2500\u2500 monitors/               # \u76d1\u63a7\u6a21\u5757\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 huya_monitor.py     # \u864e\u7259\u76f4\u64ad\u76d1\u63a7\n\u2502   \u251c\u2500\u2500 weibo_monitor.py    # \u5fae\u535a\u76d1\u63a7\n\u2502   \u251c\u2500\u2500 bilibili_monitor.py # \u54d4\u54e9\u54d4\u54e9\u52a8\u6001+\u76f4\u64ad\u76d1\u63a7\n\u2502   \u251c\u2500\u2500 douyin_monitor.py   # \u6296\u97f3\u76f4\u64ad\u76d1\u63a7\n\u2502   \u251c\u2500\u2500 douyu_monitor.py    # \u6597\u9c7c\u76f4\u64ad\u76d1\u63a7\n\u2502   \u2514\u2500\u2500 xhs_monitor.py      # \u5c0f\u7ea2\u4e66\u52a8\u6001\u76d1\u63a7\n\u2502\n\u251c\u2500\u2500 tasks/                  # \u5b9a\u65f6\u4efb\u52a1\u6a21\u5757\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 demo_task.py        # \u793a\u4f8b\u4efb\u52a1\n\u2502   \u251c\u2500\u2500 log_cleanup.py      # \u65e5\u5fd7\u6e05\u7406\n\u2502   \u251c\u2500\u2500 ikuuu_checkin.py    # iKuuu\u7b7e\u5230\n\u2502   \u251c\u2500\u2500 tieba_checkin.py    # \u767e\u5ea6\u8d34\u5427\u7b7e\u5230\n\u2502   \u251c\u2500\u2500 weibo_chaohua_checkin.py  # \u5fae\u535a\u8d85\u8bdd\u7b7e\u5230\n\u2502   \u251c\u2500\u2500 rainyun_checkin.py       # \u96e8\u4e91\u7b7e\u5230\uff08\u5165\u53e3\uff0c\u903b\u8f91\u5728 rainyun/ \u5b50\u5305\uff09\n\u2502   \u251c\u2500\u2500 rainyun/                 # \u96e8\u4e91\u7b7e\u5230\u5b50\u5305\uff08Selenium + ddddocr \u9a8c\u8bc1\u7801\u3001API \u7eed\u8d39\u3001\u670d\u52a1\u5668\u5230\u671f\u68c0\u67e5\uff09\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2502   \u251c\u2500\u2500 config_adapter.py    # \u914d\u7f6e\u9002\u914d\n\u2502   \u2502   \u251c\u2500\u2500 runner.py            # \u5355\u8d26\u53f7\u7b7e\u5230\u6267\u884c\n\u2502   \u2502   \u251c\u2500\u2500 captcha.py           # \u9a8c\u8bc1\u7801\u8bc6\u522b\uff08ddddocr\uff09\n\u2502   \u2502   \u251c\u2500\u2500 api_client.py        # \u96e8\u4e91 API \u5ba2\u6237\u7aef\uff08\u7eed\u8d39\u7b49\uff09\n\u2502   \u2502   \u251c\u2500\u2500 server_manager.py    # \u670d\u52a1\u5668\u5230\u671f\u68c0\u67e5\u4e0e\u7eed\u8d39\n\u2502   \u2502   \u251c\u2500\u2500 browser/             # Selenium \u6d4f\u89c8\u5668\u64cd\u4f5c\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 session.py\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 pages.py\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 cookies.py\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 ...\n\u2502   \u2502   \u2514\u2500\u2500 utils/               # \u5de5\u5177\u51fd\u6570\n\u2502   \u251c\u2500\u2500 enshan_checkin.py        # \u6069\u5c71\u8bba\u575b\u7b7e\u5230\n\u2502   \u251c\u2500\u2500 fg_checkin.py            # \u5bcc\u8d35\u8bba\u575b\u7b7e\u5230\n\u2502   \u251c\u2500\u2500 aliyun_checkin.py        # \u963f\u91cc\u4e91\u76d8\u7b7e\u5230\n\u2502   \u251c\u2500\u2500 smzdm_checkin.py         # \u4ec0\u4e48\u503c\u5f97\u4e70\u7b7e\u5230\n\u2502   \u251c\u2500\u2500 zdm_draw.py              # \u503c\u5f97\u4e70\u6bcf\u65e5\u62bd\u5956\n\u2502   \u251c\u2500\u2500 tyyun_checkin.py         # \u5929\u7ffc\u4e91\u76d8\u7b7e\u5230\n\u2502   \u251c\u2500\u2500 miui_checkin.py          # \u5c0f\u7c73\u793e\u533a\u7b7e\u5230\n\u2502   \u251c\u2500\u2500 iqiyi_checkin.py         # \u7231\u5947\u827a\u7b7e\u5230\n\u2502   \u251c\u2500\u2500 lenovo_checkin.py        # \u8054\u60f3\u4e50\u8c46\u7b7e\u5230\n\u2502   \u251c\u2500\u2500 lbly_checkin.py          # \u4e3d\u5b9d\u4e50\u56ed\u7b7e\u5230\n\u2502   \u251c\u2500\u2500 pinzan_checkin.py        # \u54c1\u8d5e\u7b7e\u5230\n\u2502   \u251c\u2500\u2500 dml_checkin.py           # \u8fbe\u7f8e\u4e50\u4efb\u52a1\n\u2502   \u251c\u2500\u2500 xiaomao_checkin.py       # \u5c0f\u8305\u9884\u7ea6\uff08i\u8305\u53f0\uff09\n\u2502   \u251c\u2500\u2500 ydwx_checkin.py          # \u4e00\u70b9\u4e07\u8c61\u7b7e\u5230\n\u2502   \u251c\u2500\u2500 xingkong_checkin.py      # \u661f\u7a7a\u4ee3\u7406\u7b7e\u5230\n\u2502   \u251c\u2500\u2500 freenom_checkin.py       # Freenom \u514d\u8d39\u57df\u540d\u7eed\u671f\n\u2502   \u251c\u2500\u2500 weather_push.py          # \u5929\u6c14\u6bcf\u65e5\u63a8\u9001\n\u2502   \u251c\u2500\u2500 qtw_checkin.py           # \u5343\u56fe\u7f51\u7b7e\u5230\n\u2502   \u251c\u2500\u2500 kuake_checkin.py         # \u5938\u514b\u7f51\u76d8\u7b7e\u5230\n\u2502   \u251c\u2500\u2500 kjwj_checkin.py          # \u79d1\u6280\u73a9\u5bb6\u7b7e\u5230\n\u2502   \u251c\u2500\u2500 fr_checkin.py            # \u5e06\u8f6f\u793e\u533a\u7b7e\u5230 + \u6447\u6447\u4e50\n\u2502   \u251c\u2500\u2500 nine_nine_nine_task.py   # 999 \u4f1a\u5458\u4e2d\u5fc3\u5065\u5eb7\u6253\u5361\u4efb\u52a1\n\u2502   \u251c\u2500\u2500 zgfc_draw.py             # \u4e2d\u56fd\u798f\u5f69\u62bd\u5956\u6d3b\u52a8\n\u2502   \u2514\u2500\u2500 ssq_500w_notice.py       # \u53cc\u8272\u7403\u5f00\u5956\u901a\u77e5\uff08\u5b88\u53f7\u68c0\u6d4b + \u51b7\u53f7\u673a\u9009\uff09\n\u2502\n\u251c\u2500\u2500 web/                    # Web\u524d\u7aef\u8d44\u6e90\n\u2502   \u251c\u2500\u2500 static/             # \u9759\u6001\u6587\u4ef6\n\u2502   \u2502   \u251c\u2500\u2500 css/\n\u2502   \u2502   \u2514\u2500\u2500 js/\n\u2502   \u2514\u2500\u2500 templates/          # Jinja2\u6a21\u677f\n\u2502       \u251c\u2500\u2500 login.html\n\u2502       \u251c\u2500\u2500 config.html     # \u914d\u7f6e\u7ba1\u7406\uff08\u767b\u5f55\u540e\u9ed8\u8ba4\u9996\u9875\uff09\n\u2502       \u251c\u2500\u2500 dashboard.html  # \u5907\u7528\u63a7\u5236\u53f0\u6a21\u677f\n\u2502       \u251c\u2500\u2500 tasks.html      # \u4efb\u52a1\u7ba1\u7406\n\u2502       \u251c\u2500\u2500 data.html\n\u2502       \u2514\u2500\u2500 logs.html\n\u2502\n\u251c\u2500\u2500 docs/                   # \u6587\u6863\n\u2502   \u251c\u2500\u2500 index.md            # \u6587\u6863\u9996\u9875\n\u2502   \u251c\u2500\u2500 API.md              # API \u6587\u6863\n\u2502   \u251c\u2500\u2500 ARCHITECTURE.md     # \u67b6\u6784\u6587\u6863\uff08\u672c\u6587\u6863\uff09\n\u2502   \u251c\u2500\u2500 SECONDARY_DEVELOPMENT.md  # \u4e8c\u6b21\u5f00\u53d1\u6307\u5357\n\u2502   \u251c\u2500\u2500 QINGLONG.md         # \u9752\u9f99\u9762\u677f\u517c\u5bb9\u6307\u5357\n\u2502   \u251c\u2500\u2500 installation.md     # \u5b89\u88c5\u8bf4\u660e\n\u2502   \u251c\u2500\u2500 faq.md              # \u5e38\u89c1\u95ee\u9898\n\u2502   \u2514\u2500\u2500 guides/             # \u4f7f\u7528\u6307\u5357\n\u2502       \u251c\u2500\u2500 ai-assistant.md # AI \u52a9\u624b\u4f7f\u7528\u6307\u5357\n\u2502       \u251c\u2500\u2500 config.md       # \u914d\u7f6e\u8bf4\u660e\n\u2502       \u251c\u2500\u2500 push-channels.md # \u63a8\u9001\u901a\u9053\u914d\u7f6e\n\u2502       \u251c\u2500\u2500 tasks.md        # \u4efb\u52a1\u8bf4\u660e\n\u2502       \u251c\u2500\u2500 web-ui.md       # Web \u754c\u9762\u8bf4\u660e\n\u2502       \u2514\u2500\u2500 tasks/          # \u4efb\u52a1\u76f8\u5173\n\u2502           \u251c\u2500\u2500 checkin.md  # \u7b7e\u5230\u4efb\u52a1\u8be6\u89e3\n\u2502           \u2514\u2500\u2500 monitors.md # \u76d1\u63a7\u4efb\u52a1\u8be6\u89e3\n\u2502\n\u251c\u2500\u2500 data/                   # \u6570\u636e\u76ee\u5f55\uff08\u8fd0\u884c\u65f6\u521b\u5efa\uff09\n\u2502   \u251c\u2500\u2500 data.db             # SQLite\u6570\u636e\u5e93\n\u2502   \u251c\u2500\u2500 cookie_cache.json   # Cookie\u7f13\u5b58\n\u2502   \u251c\u2500\u2500 auth.json           # Web \u767b\u5f55\u51ed\u636e\n\u2502   \u251c\u2500\u2500 ai_assistant_conversations.json  # AI \u52a9\u624b\u4f1a\u8bdd\uff08\u53ef\u9009\uff09\n\u2502   \u2514\u2500\u2500 ai_assistant_chroma/ # Chroma \u5411\u91cf\u5e93\uff08\u53ef\u9009\uff0cAI \u52a9\u624b\u542f\u7528\u65f6\uff09\n\u2502\n\u2514\u2500\u2500 logs/                   # \u65e5\u5fd7\u76ee\u5f55\uff08\u8fd0\u884c\u65f6\u521b\u5efa\uff09\n    \u251c\u2500\u2500 main_*.log          # \u603b\u65e5\u5fd7\uff08\u6309\u65e5\u671f\uff09\n    \u2514\u2500\u2500 task_*.log         # \u5404\u4efb\u52a1\u4e13\u5c5e\u65e5\u5fd7\uff08task_{job_id}_YYYYMMDD.log\uff09\n</code></pre>"},{"location":"ARCHITECTURE/#_20","title":"\u5173\u952e\u8bbe\u8ba1\u6a21\u5f0f","text":""},{"location":"ARCHITECTURE/#1","title":"1. \u63d2\u4ef6\u5316\u67b6\u6784","text":"<p>\u5b9e\u73b0\uff1a\u901a\u8fc7 <code>job_registry</code> \u6a21\u5757\uff08<code>discover_and_import()</code>\u3001<code>MONITOR_MODULES</code>\u3001<code>TASK_MODULES</code>\uff09\u5b9e\u73b0\u4efb\u52a1\u7684\u81ea\u52a8\u53d1\u73b0\u548c\u6ce8\u518c\u3002\u9752\u9f99\u9762\u677f \u4e0b\u901a\u8fc7 <code>ql/*.py</code> \u5355\u4efb\u52a1\u811a\u672c + \u73af\u5883\u53d8\u91cf + <code>ql_compat</code> \u6a21\u5757\u5b9e\u73b0\u517c\u5bb9\uff0c\u4e0e\u4e3b\u6d41\u7a0b\u89e3\u8026\u3002</p> <p>\u4f18\u52bf\uff1a - \u65b0\u589e\u4efb\u52a1\u53ea\u9700\u6dfb\u52a0\u6a21\u5757\u8def\u5f84\uff0c\u65e0\u9700\u4fee\u6539\u6838\u5fc3\u4ee3\u7801 - \u4efb\u52a1\u6a21\u5757\u72ec\u7acb\uff0c\u6613\u4e8e\u7ef4\u62a4\u548c\u6d4b\u8bd5 - \u652f\u6301\u52a8\u6001\u52a0\u8f7d\u548c\u5378\u8f7d\u4efb\u52a1</p>"},{"location":"ARCHITECTURE/#2","title":"2. \u5de5\u5382\u6a21\u5f0f","text":"<p>\u5b9e\u73b0\uff1a\u63a8\u9001\u901a\u9053\u901a\u8fc7 <code>get_push_channel()</code> \u5de5\u5382\u51fd\u6570\u521b\u5efa</p> <p>\u4f18\u52bf\uff1a - \u7edf\u4e00\u521b\u5efa\u63a5\u53e3\uff0c\u9690\u85cf\u5177\u4f53\u5b9e\u73b0 - \u6613\u4e8e\u6269\u5c55\u65b0\u7684\u63a8\u9001\u901a\u9053 - \u652f\u6301\u914d\u7f6e\u9a71\u52a8\u7684\u901a\u9053\u9009\u62e9</p>"},{"location":"ARCHITECTURE/#3","title":"3. \u5355\u4f8b\u6a21\u5f0f","text":"<p>\u5b9e\u73b0\uff1a - \u6570\u636e\u5e93\u8fde\u63a5\uff1a\u5168\u5c40 <code>_shared_connection</code> - Cookie\u7f13\u5b58\uff1a\u5168\u5c40 <code>cookie_cache</code> \u5b9e\u4f8b</p> <p>\u4f18\u52bf\uff1a - \u907f\u514d\u8d44\u6e90\u6d6a\u8d39\uff08\u8fde\u63a5\u590d\u7528\uff09 - \u4fdd\u8bc1\u72b6\u6001\u4e00\u81f4\u6027</p>"},{"location":"ARCHITECTURE/#4","title":"4. \u89c2\u5bdf\u8005\u6a21\u5f0f","text":"<p>\u5b9e\u73b0\uff1a<code>ConfigWatcher</code> \u89c2\u5bdf\u914d\u7f6e\u6587\u4ef6\u53d8\u5316</p> <p>\u4f18\u52bf\uff1a - \u89e3\u8026\u914d\u7f6e\u53d8\u5316\u548c\u4e1a\u52a1\u903b\u8f91 - \u652f\u6301\u914d\u7f6e\u70ed\u91cd\u8f7d - \u6613\u4e8e\u6269\u5c55\u914d\u7f6e\u53d8\u5316\u5904\u7406</p>"},{"location":"ARCHITECTURE/#5","title":"5. \u6a21\u677f\u65b9\u6cd5\u6a21\u5f0f","text":"<p>\u5b9e\u73b0\uff1a<code>BaseMonitor</code> \u5b9a\u4e49\u76d1\u63a7\u6d41\u7a0b\u6a21\u677f</p> <p>\u4f18\u52bf\uff1a - \u7edf\u4e00\u76d1\u63a7\u4efb\u52a1\u7684\u7ed3\u6784 - \u5b50\u7c7b\u53ea\u9700\u5b9e\u73b0\u5177\u4f53\u903b\u8f91 - \u51cf\u5c11\u4ee3\u7801\u91cd\u590d</p>"},{"location":"ARCHITECTURE/#_21","title":"\u914d\u7f6e\u7ba1\u7406","text":""},{"location":"ARCHITECTURE/#_22","title":"\u914d\u7f6e\u6587\u4ef6\u7ed3\u6784","text":"<p>\u914d\u7f6e\u6587\u4ef6\u91c7\u7528YAML\u683c\u5f0f\uff0c\u652f\u6301\u5d4c\u5957\u7ed3\u6784\u548c\u6ce8\u91ca\uff1a</p> <pre><code># \u76d1\u63a7\u914d\u7f6e\uff08\u793a\u4f8b\uff1a\u5fae\u535a\u3001\u864e\u7259\uff0c\u5404\u4efb\u52a1\u53ef\u914d\u7f6e monitor_interval_seconds \u4e0e push_channels\uff09\nweibo:\n  enable: true   # \u662f\u5426\u542f\u7528\uff0c\u9ed8\u8ba4 true\uff1b\u8bbe\u4e3a false \u65f6\u4efb\u52a1\u6682\u505c\n  cookie: \"xxx\"\n  uids: \"123,456\"\n  concurrency: 2\n  monitor_interval_seconds: 300\n\nhuya:\n  enable: true\n  rooms: \"123,456\"\n  concurrency: 5\n  monitor_interval_seconds: 65\n\n# \u63a8\u9001\u901a\u9053\u914d\u7f6e\uff08\u6bcf\u4e2a\u4efb\u52a1\u53ef\u901a\u8fc7 push_channels \u5b57\u6bb5\u9009\u62e9\u4f7f\u7528\u54ea\u4e9b\u901a\u9053\uff09\npush_channel:\n  - name: \"\u4f01\u4e1a\u5fae\u4fe1\"\n    type: wecom_apps\n    # ...\n</code></pre>"},{"location":"ARCHITECTURE/#_23","title":"\u914d\u7f6e\u52a0\u8f7d\u6d41\u7a0b","text":"<ol> <li>\u8bfb\u53d6YAML\u6587\u4ef6\uff1a<code>load_config_from_yml()</code></li> <li>\u6241\u5e73\u5316\u8f6c\u6362\uff1a\u5d4c\u5957\u7ed3\u6784 \u2192 \u6241\u5e73\u5b57\u6bb5</li> <li>Pydantic\u9a8c\u8bc1\uff1a\u521b\u5efa <code>AppConfig</code> \u5b9e\u4f8b</li> <li>\u7f13\u5b58\u914d\u7f6e\uff1a\u907f\u514d\u91cd\u590d\u8bfb\u53d6</li> </ol>"},{"location":"ARCHITECTURE/#_24","title":"\u914d\u7f6e\u70ed\u91cd\u8f7d","text":"<ul> <li>\u68c0\u6d4b\u673a\u5236\uff1a<code>ConfigWatcher</code> \u6bcf5\u79d2\u68c0\u67e5\u6587\u4ef6\u4fee\u6539\u65f6\u95f4</li> <li>\u53d8\u5316\u68c0\u6d4b\uff1a\u6bd4\u8f83\u5173\u952e\u914d\u7f6e\u5b57\u6bb5\uff08\u5404\u76d1\u63a7 enable/\u95f4\u9694\u3001\u5404\u4efb\u52a1 enable/\u6267\u884c\u65f6\u95f4\u3001\u514d\u6253\u6270\u3001\u63a8\u9001\u901a\u9053\u7b49\uff09</li> <li>\u66f4\u65b0\u673a\u5236\uff1a\u66f4\u65b0\u8c03\u5ea6\u5668\u4efb\u52a1\u53c2\u6570\uff08\u95f4\u9694\u4efb\u52a1\u95f4\u9694\u3001Cron \u6267\u884c\u65f6\u95f4\u3001\u6682\u505c/\u6062\u590d\uff09</li> <li>\u751f\u6548\u65f6\u95f4\uff1a\u7ea65\u79d2\u5185\u751f\u6548</li> </ul>"},{"location":"ARCHITECTURE/#_25","title":"\u6570\u636e\u5e93\u8bbe\u8ba1","text":""},{"location":"ARCHITECTURE/#_26","title":"\u6570\u636e\u5e93\u9009\u62e9","text":"<ul> <li>SQLite\uff1a\u8f7b\u91cf\u7ea7\u3001\u65e0\u9700\u5355\u72ec\u670d\u52a1\u3001\u9002\u5408\u5355\u673a\u90e8\u7f72</li> <li>WAL\u6a21\u5f0f\uff1a\u63d0\u9ad8\u5e76\u53d1\u6027\u80fd</li> <li>\u5f02\u6b65\u64cd\u4f5c\uff1a\u4f7f\u7528 <code>aiosqlite</code> \u652f\u6301\u5f02\u6b65IO</li> </ul>"},{"location":"ARCHITECTURE/#_27","title":"\u8868\u7ed3\u6784","text":"<p>weibo\u8868\uff1a - <code>UID</code>\uff1a\u7528\u6237ID\uff08\u4e3b\u952e\uff09 - <code>\u7528\u6237\u540d</code>\uff1a\u7528\u6237\u6635\u79f0 - <code>\u8ba4\u8bc1\u4fe1\u606f</code>\uff1a\u8ba4\u8bc1\u6807\u8bc6 - <code>\u7b80\u4ecb</code>\uff1a\u7528\u6237\u7b80\u4ecb - <code>\u7c89\u4e1d\u6570</code>\uff1a\u7c89\u4e1d\u6570\u91cf - <code>\u5fae\u535a\u6570</code>\uff1a\u5fae\u535a\u6570\u91cf - <code>\u6587\u672c</code>\uff1a\u6700\u65b0\u5fae\u535a\u5185\u5bb9 - <code>mid</code>\uff1a\u5fae\u535aID</p> <p>huya\u8868\uff1a - <code>room</code>\uff1a\u623f\u95f4\u53f7\uff08\u4e3b\u952e\uff09 - <code>name</code>\uff1a\u4e3b\u64ad\u540d\u79f0 - <code>is_live</code>\uff1a\u76f4\u64ad\u72b6\u6001\uff08\"1\"=\u76f4\u64ad\u4e2d\uff0c\"0\"=\u672a\u5f00\u64ad\uff09</p> <p>bilibili_dynamic\u8868\uff08B \u7ad9\u52a8\u6001\uff09\uff1a - <code>uid</code>\uff1aUP \u4e3b UID\uff08\u4e3b\u952e\uff09 - <code>uname</code>\uff1aUP \u4e3b\u6635\u79f0 - <code>dynamic_id</code>\uff1a\u6700\u8fd1\u4e00\u6761\u52a8\u6001 ID - <code>dynamic_text</code>\uff1a\u6700\u8fd1\u4e00\u6761\u52a8\u6001\u7684\u6587\u672c\u5185\u5bb9</p> <p>bilibili_live\u8868\uff08B \u7ad9\u76f4\u64ad\uff09\uff1a - <code>uid</code>\uff1aUP \u4e3b UID\uff08\u4e3b\u952e\uff09 - <code>uname</code>\uff1aUP \u4e3b\u6635\u79f0 - <code>room_id</code>\uff1a\u76f4\u64ad\u95f4\u623f\u95f4\u53f7 - <code>is_live</code>\uff1a\u76f4\u64ad\u72b6\u6001</p> <p>douyin\u8868\uff1a - <code>douyin_id</code>\uff1a\u6296\u97f3\u53f7\uff08\u4e3b\u952e\uff09 - <code>name</code>\uff1a\u7528\u6237\u540d - <code>is_live</code>\uff1a\u76f4\u64ad\u72b6\u6001</p> <p>douyu\u8868\uff1a - <code>room</code>\uff1a\u623f\u95f4\u53f7\uff08\u4e3b\u952e\uff09 - <code>name</code>\uff1a\u4e3b\u64ad\u540d\u79f0 - <code>is_live</code>\uff1a\u76f4\u64ad\u72b6\u6001</p> <p>xhs\u8868\uff08\u5c0f\u7ea2\u4e66\uff09\uff1a - <code>profile_id</code>\uff1a\u7528\u6237 profile_id\uff08\u4e3b\u952e\uff09 - <code>user_name</code>\uff1a\u7528\u6237\u540d - <code>latest_note_title</code>\uff1a\u6700\u8fd1\u4e00\u6761\u7b14\u8bb0\u6807\u9898</p> <p>task_run_history\u8868\uff08\u5b9a\u65f6\u4efb\u52a1\u8fd0\u884c\u8bb0\u5f55\uff09\uff1a - <code>job_id</code>\uff1a\u4efb\u52a1ID\uff08\u4e3b\u952e\uff09 - <code>last_run_date</code>\uff1a\u6700\u540e\u8fd0\u884c\u65e5\u671f\uff08ISO\u683c\u5f0f\uff0c\u5982 \"2025-02-04\"\uff09</p> <p>\u8be5\u8868\u7531 <code>src/task_tracker.py</code> \u5728\u9996\u6b21\u4f7f\u7528\u65f6\u521b\u5efa\uff0c\u7528\u4e8e\u5b9e\u73b0\"\u5f53\u5929\u5df2\u8fd0\u884c\u5219\u8df3\u8fc7\"\u529f\u80fd\uff0c\u907f\u514d\u5b9a\u65f6\u4efb\u52a1\u5728\u7a0b\u5e8f\u91cd\u542f\u6216\u5b9a\u65f6\u89e6\u53d1\u65f6\u91cd\u590d\u6267\u884c\u3002</p>"},{"location":"ARCHITECTURE/#_28","title":"\u8fde\u63a5\u7ba1\u7406","text":"<ul> <li>\u5171\u4eab\u8fde\u63a5\uff1a\u591a\u4e2a <code>AsyncDatabase</code> \u5b9e\u4f8b\u5171\u4eab\u540c\u4e00\u8fde\u63a5</li> <li>\u5f15\u7528\u8ba1\u6570\uff1a\u8ddf\u8e2a\u8fde\u63a5\u4f7f\u7528\u60c5\u51b5</li> <li>\u5065\u5eb7\u68c0\u67e5\uff1a\u81ea\u52a8\u68c0\u6d4b\u8fde\u63a5\u5931\u6548</li> <li>\u81ea\u52a8\u91cd\u8fde\uff1a\u8fde\u63a5\u5931\u6548\u65f6\u81ea\u52a8\u91cd\u5efa</li> </ul>"},{"location":"ARCHITECTURE/#_29","title":"\u63a8\u9001\u901a\u9053\u67b6\u6784","text":""},{"location":"ARCHITECTURE/#_30","title":"\u7edf\u4e00\u63a8\u9001\u63a5\u53e3","text":"<p>\u6240\u6709\u63a8\u9001\u901a\u9053\u5b9e\u73b0\u7edf\u4e00\u7684 <code>PushChannel</code> \u63a5\u53e3\uff1a</p> <pre><code>class PushChannel(ABC):\n    async def push(self, title, content, jump_url, pic_url, extend_data):\n        \"\"\"\u63a8\u9001\u6d88\u606f\"\"\"\n        pass\n</code></pre>"},{"location":"ARCHITECTURE/#_31","title":"\u63a8\u9001\u7ba1\u7406\u5668","text":"<p><code>UnifiedPushManager</code> \u7ba1\u7406\u591a\u4e2a\u63a8\u9001\u901a\u9053\uff1a</p> <ul> <li>\u5e76\u53d1\u63a8\u9001\uff1a\u540c\u65f6\u53d1\u9001\u5230\u6240\u6709\u542f\u7528\u7684\u901a\u9053</li> <li>\u9519\u8bef\u5904\u7406\uff1a\u5355\u4e2a\u901a\u9053\u5931\u8d25\u4e0d\u5f71\u54cd\u5176\u4ed6\u901a\u9053</li> <li>\u901a\u9053\u8fc7\u6ee4\uff1a\u53ea\u53d1\u9001\u5230 <code>enable=true</code> \u7684\u901a\u9053</li> </ul>"},{"location":"ARCHITECTURE/#_32","title":"\u63a8\u9001\u6d41\u7a0b","text":"<ol> <li>\u6784\u5efa\u63a8\u9001\u6d88\u606f\uff08\u6807\u9898\u3001\u5185\u5bb9\u3001\u94fe\u63a5\u3001\u56fe\u7247\uff09</li> <li>\u68c0\u67e5\u514d\u6253\u6270\u65f6\u6bb5</li> <li>\u5e76\u53d1\u53d1\u9001\u5230\u6240\u6709\u542f\u7528\u7684\u901a\u9053</li> <li>\u6536\u96c6\u63a8\u9001\u7ed3\u679c\u548c\u9519\u8bef</li> <li>\u8bb0\u5f55\u65e5\u5fd7</li> </ol>"},{"location":"ARCHITECTURE/#web_1","title":"Web\u670d\u52a1\u67b6\u6784","text":""},{"location":"ARCHITECTURE/#_33","title":"\u6280\u672f\u6808","text":"<ul> <li>FastAPI\uff1a\u73b0\u4ee3\u3001\u5feb\u901f\u7684Web\u6846\u67b6</li> <li>Jinja2\uff1a\u6a21\u677f\u5f15\u64ce</li> <li>Uvicorn\uff1aASGI\u670d\u52a1\u5668</li> </ul>"},{"location":"ARCHITECTURE/#_34","title":"\u8def\u7531\u8bbe\u8ba1","text":"<ul> <li>\u9875\u9762\u8def\u7531\uff1a\u8fd4\u56de HTML \u9875\u9762\uff08\u914d\u7f6e\u3001\u4efb\u52a1\u7ba1\u7406\u3001\u6570\u636e\u3001\u65e5\u5fd7\uff09</li> <li>API\u8def\u7531\uff1a\u8fd4\u56de JSON \u6570\u636e\uff08\u914d\u7f6e\u3001\u4efb\u52a1\u3001\u6570\u636e\u3001\u65e5\u5fd7\u3001\u76d1\u63a7\u72b6\u6001\u3001\u7248\u672c\u4fe1\u606f\uff09</li> </ul>"},{"location":"ARCHITECTURE/#_35","title":"\u8ba4\u8bc1\u673a\u5236","text":"<ul> <li>Session\u8ba4\u8bc1\uff1a\u57fa\u4e8e <code>SessionMiddleware</code></li> <li>\u767b\u5f55\u9a8c\u8bc1\uff1a\u7528\u6237\u540d\u5bc6\u7801\u9a8c\u8bc1\uff08\u9ed8\u8ba4 <code>admin/123</code>\uff09</li> <li>\u4f1a\u8bdd\u7ba1\u7406\uff1a<code>active_sessions</code> \u96c6\u5408\u7ba1\u7406\u6d3b\u8dc3\u4f1a\u8bdd</li> </ul>"},{"location":"ARCHITECTURE/#api","title":"API\u8bbe\u8ba1","text":"<ul> <li>RESTful\u98ce\u683c\uff1a\u8d44\u6e90\u5bfc\u5411\u7684URL\u8bbe\u8ba1</li> <li>\u7edf\u4e00\u54cd\u5e94\u683c\u5f0f\uff1aJSON\u683c\u5f0f\u54cd\u5e94</li> <li>\u9519\u8bef\u5904\u7406\uff1aHTTP\u72b6\u6001\u7801 + \u9519\u8bef\u6d88\u606f</li> </ul>"},{"location":"ARCHITECTURE/#_36","title":"\u603b\u7ed3","text":"<p>Web\u4efb\u52a1\u7cfb\u7edf\u91c7\u7528\u6a21\u5757\u5316\u3001\u63d2\u4ef6\u5316\u3001\u5f02\u6b65IO\u7684\u67b6\u6784\u8bbe\u8ba1\uff0c\u5177\u6709\u4ee5\u4e0b\u7279\u70b9\uff1a</p> <ol> <li>\u9ad8\u53ef\u6269\u5c55\u6027\uff1a\u65b0\u589e\u76d1\u63a7\u6216\u4efb\u52a1\u53ea\u9700\u6dfb\u52a0\u6a21\u5757\uff0c\u65e0\u9700\u4fee\u6539\u6838\u5fc3\u4ee3\u7801</li> <li>\u914d\u7f6e\u70ed\u91cd\u8f7d\uff1a\u4fee\u6539\u914d\u7f6e\u65e0\u9700\u91cd\u542f\uff0c5\u79d2\u5185\u81ea\u52a8\u751f\u6548</li> <li>\u5f02\u6b65\u9ad8\u6027\u80fd\uff1a\u5168\u9762\u4f7f\u7528\u5f02\u6b65IO\uff0c\u652f\u6301\u9ad8\u5e76\u53d1</li> <li>\u7edf\u4e00\u63a8\u9001\uff1a\u652f\u6301 15+ \u79cd\u63a8\u9001\u901a\u9053\uff0c\u7edf\u4e00\u7ba1\u7406</li> <li>Web\u7ba1\u7406\uff1a\u63d0\u4f9b\u53cb\u597d\u7684Web\u754c\u9762\u8fdb\u884c\u914d\u7f6e\u548c\u6570\u636e\u7ba1\u7406</li> </ol> <p>\u8be5\u67b6\u6784\u8bbe\u8ba1\u4f7f\u5f97\u7cfb\u7edf\u6613\u4e8e\u7ef4\u62a4\u3001\u6269\u5c55\u548c\u90e8\u7f72\uff0c\u9002\u5408\u4e2a\u4eba\u548c\u5c0f\u56e2\u961f\u4f7f\u7528\u3002</p>"},{"location":"QINGLONG/","title":"\u9752\u9f99\u9762\u677f\u517c\u5bb9\u6307\u5357","text":"<p>WebMoniter \u652f\u6301\u5728 \u9752\u9f99\u9762\u677f \u4e2d\u8fd0\u884c\u5b9a\u65f6\u4efb\u52a1\u3002\u9752\u9f99\u7528\u6237\u53ef\u901a\u8fc7\u73af\u5883\u53d8\u91cf\u914d\u7f6e\u53c2\u6570\uff0c\u63a8\u9001\u7ed3\u679c\u81ea\u52a8\u8d70\u9752\u9f99\u5185\u7f6e\u901a\u77e5\uff08QLAPI\uff09\uff0c\u4e0e\u4e3b\u9879\u76ee\u903b\u8f91\u5b8c\u5168\u517c\u5bb9\u4e14\u4e92\u4e0d\u5f71\u54cd\u3002</p>"},{"location":"QINGLONG/#_2","title":"\u6982\u8ff0","text":"\u9879\u76ee \u8bf4\u660e \u914d\u7f6e\u65b9\u5f0f \u9752\u9f99\u300c\u73af\u5883\u53d8\u91cf\u300d\u4e2d\u6dfb\u52a0 <code>WEBMONITER_</code> \u524d\u7f00\u7684\u53d8\u91cf \u63a8\u9001\u901a\u77e5 \u81ea\u52a8\u4f7f\u7528 QLAPI.systemNotify\uff0c\u4e0e\u9752\u9f99\u300c\u901a\u77e5\u8bbe\u7f6e\u300d\u4e00\u81f4 \u811a\u672c\u4f4d\u7f6e <code>ql/</code> \u76ee\u5f55\u4e0b\uff0c\u6bcf\u4e2a\u5b9a\u65f6\u4efb\u52a1\u5bf9\u5e94\u4e00\u4e2a\u811a\u672c \u4e0e\u4e3b\u9879\u76ee \u5b8c\u5168\u72ec\u7acb\uff0c\u53ef\u540c\u65f6\u90e8\u7f72\u4e3b\u9879\u76ee\u4e0e\u9752\u9f99\u811a\u672c"},{"location":"QINGLONG/#_3","title":"\u4e00\u3001\u90e8\u7f72\u65b9\u5f0f","text":""},{"location":"QINGLONG/#_4","title":"\u65b9\u5f0f\u4e00\uff1a\u62c9\u53d6\u811a\u672c\uff08\u63a8\u8350\uff09","text":"<ol> <li>\u5728\u9752\u9f99\u9762\u677f \u2192 \u8ba2\u9605\u7ba1\u7406 \u2192 \u6dfb\u52a0\u8ba2\u9605 </li> <li>\u8ba2\u9605\u5730\u5740\uff1a<code>https://github.com/666fy666/WebMoniter</code> </li> <li>\u5b9a\u65f6\u89c4\u5219\uff1a<code>0 0 * * *</code>\uff08\u6bcf\u65e5 0 \u70b9\u62c9\u53d6\u4e00\u6b21\uff09  </li> <li>\u767d\u540d\u5355\uff1a<code>ql/*.py</code> </li> <li> <p>\u6216\u76f4\u63a5\u586b\u5199\u9700\u8981\u7684\u811a\u672c\uff0c\u5982\uff1a<code>ql/ikuuu_checkin.py,ql/tieba_checkin.py</code></p> </li> <li> <p>\u6216\u4f7f\u7528\u9752\u9f99\u5185\u7f6e\u547d\u4ee4\u62c9\u53d6\u5355\u4e2a\u811a\u672c\uff1a    <pre><code>ql raw https://raw.githubusercontent.com/666fy666/WebMoniter/main/ql/ikuuu_checkin.py\n</code></pre></p> </li> </ol>"},{"location":"QINGLONG/#_5","title":"\u65b9\u5f0f\u4e8c\uff1a\u514b\u9686\u6574\u5e93\u540e\u8fd0\u884c","text":"<ol> <li> <p>\u514b\u9686\u9879\u76ee\u5230\u9752\u9f99\u7684 <code>scripts</code> \u76ee\u5f55\uff1a    <pre><code>cd /ql/scripts\ngit clone https://github.com/666fy666/WebMoniter.git\ncd WebMoniter\n</code></pre></p> </li> <li> <p>\u5b89\u88c5\u4f9d\u8d56\uff08\u9752\u9f99\u5bb9\u5668\u5185\u901a\u5e38\u5df2\u6709\uff0c\u53ef\u5148\u6267\u884c\u4efb\u52a1\u770b\u662f\u5426\u62a5\u9519\uff09\uff1a    <pre><code>uv sync --locked\n# \u6216\u4f7f\u7528 pip: pip install -e .\n</code></pre></p> </li> <li> <p>\u5728\u9752\u9f99\u300c\u5b9a\u65f6\u4efb\u52a1\u300d\u4e2d\u65b0\u589e\u4efb\u52a1\uff1a</p> </li> <li>\u540d\u79f0\uff1aiKuuu \u7b7e\u5230</li> <li>\u547d\u4ee4\uff1a<code>task WebMoniter/ql/ikuuu_checkin.py</code></li> <li>\u5b9a\u65f6\u89c4\u5219\uff1a<code>0 8 * * *</code>\uff08\u6bcf\u5929 8:00\uff09</li> </ol>"},{"location":"QINGLONG/#_6","title":"\u4e8c\u3001\u73af\u5883\u53d8\u91cf\u914d\u7f6e","text":"<p>\u6240\u6709\u914d\u7f6e\u901a\u8fc7\u9752\u9f99\u300c\u73af\u5883\u53d8\u91cf\u300d\u6dfb\u52a0\uff0c\u53d8\u91cf\u540d\u4ee5 <code>WEBMONITER_</code> \u4e3a\u524d\u7f00\uff08\u90e8\u5206\u652f\u6301\u65e0\u524d\u7f00\uff09\u3002</p>"},{"location":"QINGLONG/#21","title":"2.1 \u901a\u7528\u8bf4\u660e","text":"\u89c4\u5219 \u8bf4\u660e \u542f\u7528\u4efb\u52a1 <code>WEBMONITER_&lt;\u4efb\u52a1&gt;_ENABLE=true</code> \u6216 <code>1</code> \u5355\u503c \u5982 <code>WEBMONITER_CHECKIN_EMAIL=xxx</code> \u591a\u503c \u4f7f\u7528 <code>,</code> \u6216 <code>|</code> \u5206\u9694\uff0c\u5982 <code>WEBMONITER_TIEBA_COOKIES=cookie1,cookie2</code> \u591a\u8d26\u53f7 JSON \u5982 <code>WEBMONITER_CHECKIN_ACCOUNTS=[{\"email\":\"a@b.com\",\"password\":\"xx\"}]</code> \u53ef\u9009\u524d\u7f00 \u90e8\u5206\u53d8\u91cf\u652f\u6301\u7701\u7565 <code>WEBMONITER_</code>\uff0c\u76f4\u63a5\u4f7f\u7528 <code>CHECKIN_EMAIL</code> \u7b49"},{"location":"QINGLONG/#22","title":"2.2 \u5404\u4efb\u52a1\u73af\u5883\u53d8\u91cf\u4e00\u89c8","text":""},{"location":"QINGLONG/#ikuuu-qlikuuu_checkinpy","title":"iKuuu \u7b7e\u5230 (<code>ql/ikuuu_checkin.py</code>)","text":"\u73af\u5883\u53d8\u91cf \u5fc5\u586b \u8bf4\u660e <code>WEBMONITER_CHECKIN_ENABLE</code> \u662f <code>true</code> \u6216 <code>1</code> \u542f\u7528 <code>WEBMONITER_CHECKIN_EMAIL</code> \u662f* \u767b\u5f55\u90ae\u7bb1\uff08\u5355\u8d26\u53f7\uff09 <code>WEBMONITER_CHECKIN_PASSWORD</code> \u662f* \u767b\u5f55\u5bc6\u7801 <code>WEBMONITER_CHECKIN_ACCOUNTS</code> \u591a\u8d26\u53f7 JSON\uff1a<code>[{\"email\":\"a@b.com\",\"password\":\"xx\"}]</code> \u6216 <code>email1\\|pass1,email2\\|pass2</code> <code>WEBMONITER_CHECKIN_TIME</code> \u5426 \u7b7e\u5230\u65f6\u95f4 HH:MM\uff0c\u9ed8\u8ba4 08:00 <p>\u5b9a\u65f6\u89c4\u5219\u5efa\u8bae\uff1a<code>0 8 * * *</code></p>"},{"location":"QINGLONG/#qltieba_checkinpy","title":"\u767e\u5ea6\u8d34\u5427\u7b7e\u5230 (<code>ql/tieba_checkin.py</code>)","text":"\u73af\u5883\u53d8\u91cf \u5fc5\u586b \u8bf4\u660e <code>WEBMONITER_TIEBA_ENABLE</code> \u662f <code>true</code> \u542f\u7528 <code>WEBMONITER_TIEBA_COOKIE</code> \u662f* \u542b BDUSS \u7684 Cookie <code>WEBMONITER_TIEBA_COOKIES</code> \u591a\u8d26\u53f7 \u591a\u4e2a Cookie \u7528 <code>\\|</code> \u5206\u9694 <code>WEBMONITER_TIEBA_TIME</code> \u5426 \u9ed8\u8ba4 08:10 <p>\u5b9a\u65f6\u89c4\u5219\u5efa\u8bae\uff1a<code>10 8 * * *</code></p>"},{"location":"QINGLONG/#qlrainyun_checkinpy","title":"\u96e8\u4e91\u7b7e\u5230 (<code>ql/rainyun_checkin.py</code>)","text":"\u73af\u5883\u53d8\u91cf \u5fc5\u586b \u8bf4\u660e <code>WEBMONITER_RAINYUN_ENABLE</code> \u662f <code>true</code> \u542f\u7528 <code>WEBMONITER_RAINYUN_USERNAME</code> \u5355\u8d26\u53f7 \u96e8\u4e91\u767b\u5f55\u7528\u6237\u540d <code>WEBMONITER_RAINYUN_PASSWORD</code> \u5355\u8d26\u53f7 \u96e8\u4e91\u767b\u5f55\u5bc6\u7801 <code>WEBMONITER_RAINYUN_API_KEY</code> \u5426 \u53ef\u9009\uff0c\u7528\u4e8e\u7eed\u8d39\u67e5\u8be2 <code>WEBMONITER_RAINYUN_ACCOUNTS</code> \u591a\u8d26\u53f7 JSON\uff1a<code>[{\"username\":\"u1\",\"password\":\"p1\",\"api_key\":\"\u53ef\u9009\"}]</code> <code>WEBMONITER_RAINYUN_TIME</code> \u5426 \u9ed8\u8ba4 08:30 <p>\u5b9a\u65f6\u89c4\u5219\u5efa\u8bae\uff1a<code>30 8 * * *</code></p>"},{"location":"QINGLONG/#qlaliyun_checkinpy","title":"\u963f\u91cc\u4e91\u76d8\u7b7e\u5230 (<code>ql/aliyun_checkin.py</code>)","text":"\u73af\u5883\u53d8\u91cf \u5fc5\u586b \u8bf4\u660e <code>WEBMONITER_ALIYUN_ENABLE</code> \u662f <code>true</code> \u542f\u7528 <code>WEBMONITER_ALIYUN_REFRESH_TOKEN</code> \u662f* refresh_token <code>WEBMONITER_ALIYUN_REFRESH_TOKENS</code> \u591a\u8d26\u53f7 \u591a\u4e2a\u7528 <code>,</code> \u5206\u9694 <code>WEBMONITER_ALIYUN_TIME</code> \u5426 \u9ed8\u8ba4 05:30 <p>\u5b9a\u65f6\u89c4\u5219\u5efa\u8bae\uff1a<code>30 5 * * *</code></p>"},{"location":"QINGLONG/#qlweibo_chaohua_checkinpy","title":"\u5fae\u535a\u8d85\u8bdd\u7b7e\u5230 (<code>ql/weibo_chaohua_checkin.py</code>)","text":"\u73af\u5883\u53d8\u91cf \u5fc5\u586b \u8bf4\u660e <code>WEBMONITER_WEIBO_CHAOHUA_ENABLE</code> \u662f <code>true</code> \u542f\u7528 <code>WEBMONITER_WEIBO_CHAOHUA_COOKIE</code> \u662f* \u542b XSRF-TOKEN \u7684 Cookie <code>WEBMONITER_WEIBO_CHAOHUA_COOKIES</code> \u591a\u8d26\u53f7 \u591a\u4e2a\u7528 <code>\\|</code> \u5206\u9694 <code>WEBMONITER_WEIBO_CHAOHUA_TIME</code> \u5426 \u9ed8\u8ba4 23:45 <p>\u5b9a\u65f6\u89c4\u5219\u5efa\u8bae\uff1a<code>45 23 * * *</code></p>"},{"location":"QINGLONG/#qlweather_pushpy","title":"\u5929\u6c14\u63a8\u9001 (<code>ql/weather_push.py</code>)","text":"\u73af\u5883\u53d8\u91cf \u5fc5\u586b \u8bf4\u660e <code>WEBMONITER_WEATHER_ENABLE</code> \u662f <code>true</code> \u542f\u7528 <code>WEBMONITER_WEATHER_CITY_CODE</code> \u662f \u57ce\u5e02\u4ee3\u7801\uff0c\u5982 <code>101020100</code>\uff08\u4e0a\u6d77\uff09 <code>WEBMONITER_WEATHER_TIME</code> \u5426 \u9ed8\u8ba4 07:30 <p>\u5b9a\u65f6\u89c4\u5219\u5efa\u8bae\uff1a<code>30 7 * * *</code></p>"},{"location":"QINGLONG/#23","title":"2.3 \u5176\u4ed6\u4efb\u52a1\u73af\u5883\u53d8\u91cf\u901f\u67e5","text":"\u4efb\u52a1\u811a\u672c \u4e3b\u8981\u73af\u5883\u53d8\u91cf <code>enshan_checkin</code> <code>ENSHAN_ENABLE</code>, <code>ENSHAN_COOKIE</code>, <code>ENSHAN_COOKIES</code> <code>tyyun_checkin</code> <code>TYYUN_ENABLE</code>, <code>TYYUN_USERNAME</code>, <code>TYYUN_PASSWORD</code>, <code>TYYUN_ACCOUNTS</code> <code>smzdm_checkin</code> <code>SMZDM_ENABLE</code>, <code>SMZDM_COOKIE</code>, <code>SMZDM_COOKIES</code> <code>zdm_draw</code> <code>ZDM_DRAW_ENABLE</code>, <code>ZDM_DRAW_COOKIE</code>, <code>ZDM_DRAW_COOKIES</code> <code>fg_checkin</code> <code>FG_ENABLE</code>, <code>FG_COOKIE</code>, <code>FG_COOKIES</code> <code>miui_checkin</code> <code>MIUI_ENABLE</code>, <code>MIUI_ACCOUNT</code>, <code>MIUI_PASSWORD</code>, <code>MIUI_ACCOUNTS</code> <code>iqiyi_checkin</code> <code>IQIYI_ENABLE</code>, <code>IQIYI_COOKIE</code>, <code>IQIYI_COOKIES</code> <code>lenovo_checkin</code> <code>LENOVO_ENABLE</code>, <code>LENOVO_ACCESS_TOKEN</code>, <code>LENOVO_ACCESS_TOKENS</code> <code>lbly_checkin</code> <code>LBLY_ENABLE</code>, <code>LBLY_REQUEST_BODY</code>, <code>LBLY_REQUEST_BODIES</code> <code>pinzan_checkin</code> <code>PINZAN_ENABLE</code>, <code>PINZAN_ACCOUNT</code>, <code>PINZAN_PASSWORD</code>, <code>PINZAN_ACCOUNTS</code> <code>dml_checkin</code> <code>DML_ENABLE</code>, <code>DML_OPENID</code>, <code>DML_OPENIDS</code> <code>xiaomao_checkin</code> <code>XIAOMAO_ENABLE</code>, <code>XIAOMAO_TOKEN</code>, <code>XIAOMAO_TOKENS</code> <code>ydwx_checkin</code> <code>YDWX_ENABLE</code>, <code>YDWX_DEVICE_PARAMS</code>, <code>YDWX_TOKEN</code>, <code>YDWX_ACCOUNTS</code> <code>xingkong_checkin</code> <code>XINGKONG_ENABLE</code>, <code>XINGKONG_USERNAME</code>, <code>XINGKONG_PASSWORD</code>, <code>XINGKONG_ACCOUNTS</code> <code>freenom_checkin</code> <code>FREENOM_ENABLE</code>, <code>FREENOM_ACCOUNTS</code> <code>qtw_checkin</code> <code>QTW_ENABLE</code>, <code>QTW_COOKIE</code>, <code>QTW_COOKIES</code> <code>kuake_checkin</code> <code>KUAKE_ENABLE</code>, <code>KUAKE_COOKIE</code>, <code>KUAKE_COOKIES</code> <code>kjwj_checkin</code> <code>KJWJ_ENABLE</code>, <code>KJWJ_ACCOUNTS</code> <code>fr_checkin</code> <code>FR_ENABLE</code>, <code>FR_COOKIE</code> <code>nine_nine_nine_task</code> <code>NINE_NINE_NINE_ENABLE</code>, <code>NINE_NINE_NINE_TOKENS</code> <code>zgfc_draw</code> <code>ZGFC_ENABLE</code>, <code>ZGFC_TOKENS</code> <code>ssq_500w_notice</code> <code>SSQ_500W_ENABLE</code> <p>\u6240\u6709\u53d8\u91cf\u5747\u9700\u52a0 <code>WEBMONITER_</code> \u524d\u7f00\uff0c\u5982 <code>WEBMONITER_ENSHAN_ENABLE</code>\u3001<code>WEBMONITER_SMZDM_COOKIE</code> \u7b49\u3002</p>"},{"location":"QINGLONG/#qlapi","title":"\u4e09\u3001\u63a8\u9001\u901a\u77e5\uff08QLAPI\uff09","text":"<p>\u9752\u9f99\u73af\u5883\u4e0b\uff0c\u63a8\u9001\u81ea\u52a8\u4f7f\u7528 \u9752\u9f99\u5185\u7f6e\u901a\u77e5\uff0c\u4e0e\u9752\u9f99\u300c\u7cfb\u7edf\u8bbe\u7f6e \u2192 \u901a\u77e5\u8bbe\u7f6e\u300d\u4e00\u81f4\uff0c\u65e0\u9700\u989d\u5916\u914d\u7f6e\u63a8\u9001\u901a\u9053\u3002</p> <ul> <li>\u8c03\u7528\u7684\u662f QLAPI.systemNotify</li> <li>\u901a\u77e5\u65b9\u5f0f\uff08Server \u9171\u3001Bark\u3001Telegram \u7b49\uff09\u5728\u9752\u9f99\u9762\u677f\u4e2d\u7edf\u4e00\u914d\u7f6e</li> <li>\u82e5 QLAPI \u4e0d\u53ef\u7528\uff08\u5982\u975e\u9752\u9f99\u73af\u5883\uff09\uff0c\u63a8\u9001\u4f1a\u9759\u9ed8\u8df3\u8fc7\u5e76\u8bb0\u5f55\u65e5\u5fd7</li> </ul>"},{"location":"QINGLONG/#_7","title":"\u56db\u3001\u64cd\u4f5c\u6b65\u9aa4\u793a\u4f8b","text":"<p>\u4ee5 iKuuu \u7b7e\u5230 \u4e3a\u4f8b\uff1a</p>"},{"location":"QINGLONG/#1","title":"1. \u6dfb\u52a0\u73af\u5883\u53d8\u91cf","text":"<p>\u5728\u9752\u9f99 \u2192 \u73af\u5883\u53d8\u91cf \u4e2d\u65b0\u589e\uff1a</p> \u540d\u79f0 \u503c <code>WEBMONITER_CHECKIN_ENABLE</code> <code>true</code> <code>WEBMONITER_CHECKIN_EMAIL</code> <code>\u4f60\u7684\u90ae\u7bb1@example.com</code> <code>WEBMONITER_CHECKIN_PASSWORD</code> <code>\u4f60\u7684\u5bc6\u7801</code>"},{"location":"QINGLONG/#2","title":"2. \u62c9\u53d6\u811a\u672c","text":"<p>\u5728\u9752\u9f99 \u2192 \u811a\u672c\u7ba1\u7406 \u2192 \u9009\u62e9 Python\uff0c\u65b0\u5efa\u811a\u672c\uff0c\u6216\u4f7f\u7528\uff1a</p> <pre><code>ql raw https://raw.githubusercontent.com/666fy666/WebMoniter/main/ql/ikuuu_checkin.py\n</code></pre> <p>\u82e5\u5df2\u514b\u9686\u6574\u5e93\uff0c\u53ef\u8df3\u8fc7\u6b64\u6b65\u3002</p>"},{"location":"QINGLONG/#3","title":"3. \u6dfb\u52a0\u5b9a\u65f6\u4efb\u52a1","text":"<p>\u5728\u9752\u9f99 \u2192 \u5b9a\u65f6\u4efb\u52a1 \u2192 \u6dfb\u52a0\u4efb\u52a1\uff1a</p> <ul> <li>\u540d\u79f0\uff1aiKuuu \u7b7e\u5230</li> <li>\u547d\u4ee4\uff1a<code>task ql/ikuuu_checkin.py</code> \u6216 <code>task WebMoniter/ql/ikuuu_checkin.py</code>\uff08\u53d6\u51b3\u4e8e\u811a\u672c\u8def\u5f84\uff09</li> <li>\u5b9a\u65f6\u89c4\u5219\uff1a<code>0 8 * * *</code>\uff08\u6bcf\u5929 8:00\uff09</li> </ul>"},{"location":"QINGLONG/#4","title":"4. \u914d\u7f6e\u9752\u9f99\u901a\u77e5\uff08\u53ef\u9009\uff09","text":"<p>\u5728\u9752\u9f99 \u2192 \u7cfb\u7edf\u8bbe\u7f6e \u2192 \u901a\u77e5\u8bbe\u7f6e \u4e2d\u914d\u7f6e\u63a8\u9001\u65b9\u5f0f\uff0c\u7b7e\u5230\u7ed3\u679c\u4f1a\u6309\u6b64\u5904\u8bbe\u7f6e\u63a8\u9001\u3002</p>"},{"location":"QINGLONG/#_8","title":"\u4e94\u3001\u5e38\u89c1\u95ee\u9898","text":""},{"location":"QINGLONG/#q1qlapi","title":"Q1\uff1a\u63d0\u793a\u300cQLAPI \u4e0d\u53ef\u7528\u300d\uff1f","text":"<ul> <li>\u786e\u8ba4\u811a\u672c\u662f\u5728\u9752\u9f99\u9762\u677f\u5185\u901a\u8fc7\u300c\u5b9a\u65f6\u4efb\u52a1\u300d\u6267\u884c\uff0c\u800c\u975e\u672c\u673a\u76f4\u63a5\u8fd0\u884c</li> <li>\u9752\u9f99\u4f1a\u6ce8\u5165 <code>QLAPI</code>\uff0c\u672c\u673a\u6d4b\u8bd5\u65f6\u4e0d\u4f1a\u6709\u6b64\u5bf9\u8c61</li> <li>\u82e5\u5728\u9752\u9f99\u5185\u4ecd\u4e0d\u53ef\u7528\uff0c\u53ef\u67e5\u770b\u9752\u9f99\u7248\u672c\u662f\u5426\u652f\u6301 \u5185\u7f6e API</li> </ul>"},{"location":"QINGLONG/#q2","title":"Q2\uff1a\u63d0\u793a\u627e\u4e0d\u5230\u6a21\u5757\u6216\u4f9d\u8d56\uff1f","text":"<ul> <li>\u514b\u9686\u6574\u5e93\u65f6\uff0c\u786e\u4fdd\u5de5\u4f5c\u76ee\u5f55\u4e3a\u9879\u76ee\u6839\u76ee\u5f55\uff0c\u811a\u672c\u4f1a\u81ea\u52a8\u5207\u6362</li> <li>\u7f3a\u5c11\u4f9d\u8d56\u65f6\u5728\u9752\u9f99\u5bb9\u5668\u5185\u6267\u884c\uff1a<code>pip3 install aiohttp beautifulsoup4 requests pyyaml pydantic</code></li> <li>\u90e8\u5206\u4efb\u52a1\uff08\u5982\u5c0f\u8305\u9884\u7ea6\u3001\u5c0f\u7c73\u793e\u533a\uff09\u9700\u8981 <code>pycryptodome</code></li> </ul>"},{"location":"QINGLONG/#q3","title":"Q3\uff1a\u591a\u8d26\u53f7\u5982\u4f55\u914d\u7f6e\uff1f","text":"<ul> <li>iKuuu\uff1a<code>WEBMONITER_CHECKIN_ACCOUNTS=[{\"email\":\"a@b.com\",\"password\":\"xx\"},{\"email\":\"b@b.com\",\"password\":\"yy\"}]</code></li> <li>\u8d34\u5427 / \u503c\u5f97\u4e70\u7b49\uff1a<code>WEBMONITER_XXX_COOKIES=cookie1|cookie2|cookie3</code></li> <li>\u96e8\u4e91 / \u963f\u91cc\u4e91\u76d8\uff1a<code>WEBMONITER_XXX_KEYS=key1,key2</code> \u6216 <code>WEBMONITER_XXX_TOKENS=token1,token2</code></li> </ul>"},{"location":"QINGLONG/#q4","title":"Q4\uff1a\u4e0e\u4e3b\u9879\u76ee\u662f\u5426\u51b2\u7a81\uff1f","text":"<ul> <li>\u4e0d\u51b2\u7a81\u3002\u9752\u9f99\u6a21\u5f0f\u901a\u8fc7\u73af\u5883\u53d8\u91cf\u548c QLAPI \u72ec\u7acb\u5de5\u4f5c</li> <li>\u4e3b\u9879\u76ee\u4ecd\u4f7f\u7528 <code>config.yml</code> \u548c\u539f\u6709\u63a8\u9001\u901a\u9053</li> <li>\u53ef\u540c\u65f6\u90e8\u7f72\uff1a\u4e3b\u9879\u76ee\u505a\u5e38\u9a7b\u76d1\u63a7 + \u9752\u9f99\u505a\u90e8\u5206\u7b7e\u5230\u4efb\u52a1</li> </ul>"},{"location":"QINGLONG/#q5cookie","title":"Q5\uff1aCookie \u5982\u4f55\u83b7\u53d6\uff1f","text":"<ul> <li>\u6d4f\u89c8\u5668\u767b\u5f55\u5bf9\u5e94\u7f51\u7ad9 \u2192 \u6309 F12 \u6253\u5f00\u5f00\u53d1\u8005\u5de5\u5177 \u2192 Network \u9762\u677f \u2192 \u4efb\u610f\u8bf7\u6c42 \u2192 \u590d\u5236 Cookie \u8bf7\u6c42\u5934</li> <li>\u8d34\u5427\u9700\u5305\u542b BDUSS\uff0c\u5fae\u535a\u8d85\u8bdd\u9700\u5305\u542b XSRF-TOKEN\uff0c\u5177\u4f53\u89c1\u4e3b\u9879\u76ee <code>config.yml.sample</code> \u6ce8\u91ca</li> </ul>"},{"location":"QINGLONG/#_9","title":"\u516d\u3001\u652f\u6301\u7684\u811a\u672c\u5217\u8868","text":"\u811a\u672c \u8bf4\u660e <code>ql/ikuuu_checkin.py</code> iKuuu \u7b7e\u5230 <code>ql/tieba_checkin.py</code> \u767e\u5ea6\u8d34\u5427\u7b7e\u5230 <code>ql/rainyun_checkin.py</code> \u96e8\u4e91\u7b7e\u5230 <code>ql/aliyun_checkin.py</code> \u963f\u91cc\u4e91\u76d8\u7b7e\u5230 <code>ql/weibo_chaohua_checkin.py</code> \u5fae\u535a\u8d85\u8bdd\u7b7e\u5230 <code>ql/weather_push.py</code> \u5929\u6c14\u63a8\u9001 <code>ql/enshan_checkin.py</code> \u6069\u5c71\u8bba\u575b\u7b7e\u5230 <code>ql/tyyun_checkin.py</code> \u5929\u7ffc\u4e91\u76d8\u7b7e\u5230 <code>ql/smzdm_checkin.py</code> \u4ec0\u4e48\u503c\u5f97\u4e70\u7b7e\u5230 <code>ql/zdm_draw.py</code> \u503c\u5f97\u4e70\u6bcf\u65e5\u62bd\u5956 <code>ql/fg_checkin.py</code> \u5bcc\u8d35\u8bba\u575b\u7b7e\u5230 <code>ql/miui_checkin.py</code> \u5c0f\u7c73\u793e\u533a\u7b7e\u5230 <code>ql/iqiyi_checkin.py</code> \u7231\u5947\u827a\u7b7e\u5230 <code>ql/lenovo_checkin.py</code> \u8054\u60f3\u4e50\u8c46\u7b7e\u5230 <code>ql/lbly_checkin.py</code> \u4e3d\u5b9d\u4e50\u56ed\u7b7e\u5230 <code>ql/pinzan_checkin.py</code> \u54c1\u8d5e\u7b7e\u5230 <code>ql/dml_checkin.py</code> \u8fbe\u7f8e\u4e50\u4efb\u52a1 <code>ql/xiaomao_checkin.py</code> \u5c0f\u8305\u9884\u7ea6\uff08i\u8305\u53f0\uff09 <code>ql/ydwx_checkin.py</code> \u4e00\u70b9\u4e07\u8c61\u7b7e\u5230 <code>ql/xingkong_checkin.py</code> \u661f\u7a7a\u4ee3\u7406\u7b7e\u5230 <code>ql/freenom_checkin.py</code> Freenom \u7eed\u671f <code>ql/qtw_checkin.py</code> \u5343\u56fe\u7f51\u7b7e\u5230 <code>ql/kuake_checkin.py</code> \u5938\u514b\u7f51\u76d8\u7b7e\u5230 <code>ql/kjwj_checkin.py</code> \u79d1\u6280\u73a9\u5bb6\u7b7e\u5230 <code>ql/fr_checkin.py</code> \u5e06\u8f6f\u7b7e\u5230 <code>ql/nine_nine_nine_task.py</code> 999 \u4f1a\u5458\u4e2d\u5fc3 <code>ql/zgfc_draw.py</code> \u4e2d\u56fd\u798f\u5f69\u62bd\u5956 <code>ql/ssq_500w_notice.py</code> \u53cc\u8272\u7403\u5f00\u5956\u901a\u77e5"},{"location":"QINGLONG/#_10","title":"\u4e03\u3001\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>\u9752\u9f99\u9762\u677f GitHub</li> <li>\u9752\u9f99\u5185\u7f6e API \u6587\u6863</li> <li>WebMoniter \u6587\u6863\u7ad9</li> </ul>"},{"location":"SECONDARY_DEVELOPMENT/","title":"\u4e8c\u6b21\u5f00\u53d1\u6307\u5357\uff1a\u65b0\u589e\u76d1\u63a7\u4efb\u52a1\u4e0e\u5b9a\u65f6\u4efb\u52a1","text":"<p>\u672c\u6587\u6863\u8bf4\u660e\u5982\u4f55\u5728\u4e0d\u6539\u52a8\u9879\u76ee\u6838\u5fc3\u903b\u8f91\u7684\u524d\u63d0\u4e0b\uff0c\u7528\u6700\u5c11\u6539\u52a8\u63a5\u5165\u65b0\u7684\u76d1\u63a7\u4efb\u52a1\u6216\u5b9a\u65f6\u4efb\u52a1\uff0c\u5e76\u652f\u6301\u914d\u7f6e\u70ed\u91cd\u8f7d\u4e0e\u7edf\u4e00\u63a8\u9001\u3002 \u4e0b\u6587\u4ee5\u9879\u76ee\u5185\u5df2\u5b9e\u73b0\u7684\u864e\u7259\u76d1\u63a7\uff08\u76d1\u63a7\u4efb\u52a1\uff09\u548c iKuuu \u7b7e\u5230 / Demo \u4efb\u52a1\uff08\u5b9a\u65f6\u4efb\u52a1\uff09\u4e3a\u4f8b\uff0c\u6309\u6b65\u9aa4\u5bf9\u7167\u771f\u5b9e\u4ee3\u7801\u8bf4\u660e\u3002</p>"},{"location":"SECONDARY_DEVELOPMENT/#_2","title":"\u96f6\u3001\u5f00\u53d1\u73af\u5883\u4e0e\u4ee3\u7801\u89c4\u8303","text":""},{"location":"SECONDARY_DEVELOPMENT/#_3","title":"\u4ee3\u7801\u68c0\u6d4b","text":"<p>\u9879\u76ee\u4f7f\u7528 <code>black</code> \u548c <code>ruff</code> \u8fdb\u884c\u4ee3\u7801\u683c\u5f0f\u5316\u548c\u68c0\u67e5\u3002</p>"},{"location":"SECONDARY_DEVELOPMENT/#_4","title":"\u5b89\u88c5\u5f00\u53d1\u4f9d\u8d56","text":"<pre><code>uv sync --extra dev\n</code></pre>"},{"location":"SECONDARY_DEVELOPMENT/#_5","title":"\u4ee3\u7801\u683c\u5f0f\u5316","text":"<p>\u4f7f\u7528 <code>black</code> \u683c\u5f0f\u5316\u4ee3\u7801\uff1a</p> <pre><code># \u683c\u5f0f\u5316\u6240\u6709\u4ee3\u7801\nuv run black .\n\n# \u68c0\u67e5\u4ee3\u7801\u683c\u5f0f\uff08\u4e0d\u4fee\u6539\u6587\u4ef6\uff09\nuv run black --check .\n</code></pre>"},{"location":"SECONDARY_DEVELOPMENT/#_6","title":"\u4ee3\u7801\u68c0\u67e5","text":"<p>\u4f7f\u7528 <code>ruff</code> \u68c0\u67e5\u4ee3\u7801\uff1a</p> <pre><code># \u68c0\u67e5\u4ee3\u7801\u5e76\u81ea\u52a8\u4fee\u590d\nuv run ruff check --fix .\n\n# \u4ec5\u68c0\u67e5\u4ee3\u7801\uff08\u4e0d\u4fee\u590d\uff09\nuv run ruff check .\n</code></pre>"},{"location":"SECONDARY_DEVELOPMENT/#_7","title":"\u8fd0\u884c\u6d4b\u8bd5","text":"<pre><code>uv run pytest\n</code></pre>"},{"location":"SECONDARY_DEVELOPMENT/#_8","title":"\u4e00\u3001\u67b6\u6784\u7b80\u8ff0","text":"\u7c7b\u578b \u89e6\u53d1\u65b9\u5f0f \u914d\u7f6e\u6765\u6e90\u793a\u4f8b \u9879\u76ee\u5185\u793a\u4f8b \u76d1\u63a7\u4efb\u52a1 \u56fa\u5b9a\u95f4\u9694\u8f6e\u8be2 <code>huya.monitor_interval_seconds</code>\u3001<code>weibo.monitor_interval_seconds</code> \u864e\u7259\u76d1\u63a7\u3001\u5fae\u535a\u76d1\u63a7 \u5b9a\u65f6\u4efb\u52a1 Cron \u6bcf\u65e5\u5b9a\u70b9 <code>checkin.time</code>\u3001<code>tieba.time</code>\u3001<code>plugins.xxx.time</code> iKuuu \u7b7e\u5230\u3001\u8d34\u5427\u7b7e\u5230\u3001Demo \u4efb\u52a1 <p>\u65b0\u589e\u4efb\u52a1\u65f6\u53ea\u9700\uff1a</p> <ol> <li>\u65b0\u589e\u914d\u7f6e\uff1a\u5728 <code>config.yml</code> \u4e2d\u589e\u52a0\u8282\u70b9\uff1b\u82e5\u7528\u9876\u5c42\u914d\u7f6e\uff0c\u8fd8\u9700\u5728 <code>src/config.py</code> \u4e2d\u8865\u5145\u5b57\u6bb5\u4e0e\u89e3\u6790\u3002</li> <li>\u5b9e\u73b0\u4efb\u52a1\u903b\u8f91\uff1a\u4e00\u4e2a\u65e0\u53c2\u7684 async \u5165\u53e3\u51fd\u6570\uff08\u5185\u90e8 <code>get_config(reload=True)</code>\u3001\u4e1a\u52a1\u903b\u8f91\u3001\u53ef\u9009\u63a8\u9001\uff09\u3002</li> <li>\u6ce8\u518c\uff1a\u5728\u4efb\u52a1\u6a21\u5757\u672b\u5c3e\u8c03\u7528 <code>register_monitor</code> \u6216 <code>register_task</code>\uff0c\u5e76\u5728 <code>src/job_registry.py</code> \u7684 <code>MONITOR_MODULES</code> / <code>TASK_MODULES</code> \u4e2d\u8ffd\u52a0\u6a21\u5757\u8def\u5f84\u3002</li> </ol> <p>\u4e3b\u5165\u53e3 <code>main.py</code> \u901a\u8fc7 <code>job_registry.discover_and_import()</code> \u52a0\u8f7d\u6240\u6709\u5217\u51fa\u7684\u6a21\u5757\u5e76\u6ce8\u518c\u5230\u8c03\u5ea6\u5668\uff0c\u65e0\u9700\u518d\u6539 main.py\u3002</p>"},{"location":"SECONDARY_DEVELOPMENT/#ikuuu","title":"\u4e8c\u3001\u5b9a\u65f6\u4efb\u52a1\u793a\u4f8b\u4e00\uff1aiKuuu \u7b7e\u5230\uff08\u9876\u5c42\u914d\u7f6e\uff09","text":"<p>iKuuu \u7b7e\u5230\u4f7f\u7528\u9876\u5c42\u914d\u7f6e\uff08\u4e0e\u8d34\u5427\u7b7e\u5230\u4e00\u81f4\uff09\uff1a\u5728 <code>config.yml</code> \u4e2d\u6709\u72ec\u7acb\u8282\u70b9 <code>checkin</code>\uff0c\u5728 <code>AppConfig</code> \u4e2d\u6709\u5bf9\u5e94\u6241\u5e73\u5b57\u6bb5\uff0c\u9002\u5408\u9700\u8981\u5f3a\u7c7b\u578b\u3001\u4e0e\u73b0\u6709\u98ce\u683c\u7edf\u4e00\u7684\u573a\u666f\u3002</p> <p>\u57df\u540d\u81ea\u52a8\u53d1\u73b0\uff1aiKuuu \u7684\u53ef\u7528\u57df\u540d\u4f1a\u81ea\u52a8\u4ece <code>ikuuu.club</code> \u63d0\u53d6\uff0c\u65e0\u9700\u5728\u914d\u7f6e\u4e2d\u624b\u52a8\u586b\u5199 URL\u3002\u7cfb\u7edf\u5728\u6bcf\u6b21\u7b7e\u5230\u65f6\u4f1a\u8bbf\u95ee <code>ikuuu.club</code>\uff0c\u901a\u8fc7\u591a\u79cd\u6b63\u5219\u5339\u914d\u548c HTTP \u63a2\u6d4b\u4ece\u5176\u6df7\u6dc6 JS \u4e2d\u63d0\u53d6\u53ef\u7528\u57df\u540d\uff08\u5982 <code>ikuuu.nl</code>\u3001<code>ikuuu.fyi</code> \u7b49\uff09\uff0c\u5e76\u968f\u673a\u9009\u62e9\u4e00\u4e2a\u4f7f\u7528\u3002</p>"},{"location":"SECONDARY_DEVELOPMENT/#21-configyml","title":"2.1 \u914d\u7f6e\uff1aconfig.yml","text":"<p>\u5728 <code>config.yml</code> \u4e2d\u589e\u52a0\u4e0e <code>tieba</code> \u540c\u7ea7\u7684 <code>checkin</code> \u8282\u70b9\uff08\u53c2\u89c1 <code>config.yml.sample</code>\uff09\u3002</p> <p>\u5355\u8d26\u53f7\u793a\u4f8b\uff1a</p> <pre><code>checkin:\n  enable: false\n  email: your@email.com\n  password: your_password\n  time: \"08:00\"   # \u6bcf\u65e5\u6267\u884c\u65f6\u95f4 HH:MM\n</code></pre> <p>\u591a\u8d26\u53f7\u793a\u4f8b\uff08<code>accounts</code> \u975e\u7a7a\u65f6\u4f18\u5148\u4e8e\u5355\u8d26\u53f7 <code>email</code>/<code>password</code>\uff09\uff1a</p> <pre><code>checkin:\n  enable: true\n  time: \"08:00\"\n  accounts:\n    - email: user1@example.com\n      password: pass1\n    - email: user2@example.com\n      password: pass2\n</code></pre>"},{"location":"SECONDARY_DEVELOPMENT/#22-srcconfigpy","title":"2.2 \u914d\u7f6e\uff1asrc/config.py","text":"<p>\u5728 <code>AppConfig</code> \u4e2d\u589e\u52a0\u6241\u5e73\u5b57\u6bb5\uff08\u4e0e YAML \u7684 <code>checkin</code> \u4e00\u4e00\u5bf9\u5e94\uff09\uff1a</p> <pre><code># \u6bcf\u65e5\u7b7e\u5230\u914d\u7f6e\uff08\u57df\u540d\u81ea\u52a8\u4ece ikuuu.club \u53d1\u73b0\uff0c\u65e0\u9700\u624b\u52a8\u914d\u7f6e URL\uff09\ncheckin_enable: bool = False\ncheckin_email: str = \"\"\ncheckin_password: str = \"\"\ncheckin_time: str = \"08:00\"\n</code></pre> <p>\u5728 <code>load_config_from_yml()</code> \u4e2d\u4ece <code>yml_config[\"checkin\"]</code> \u8bfb\u5230\u4e0a\u8ff0\u5b57\u6bb5\u5e76\u5199\u5165 <code>config_dict</code>\uff08\u5982 <code>config_dict[\"checkin_enable\"] = checkin[\"enable\"]</code> \u7b49\uff09\u3002 \u9879\u76ee\u5185\u5b9e\u73b0\u89c1 <code>src/config.py</code> \u4e2d <code>config_mappings</code> \u7684 <code>checkin</code> \u6bb5\u53ca\u591a\u8d26\u53f7 <code>accounts</code> \u7684\u7279\u6b8a\u5904\u7406\u3002</p>"},{"location":"SECONDARY_DEVELOPMENT/#23-tasksikuuu_checkinpy","title":"2.3 \u4efb\u52a1\u5b9e\u73b0\uff1atasks/ikuuu_checkin.py","text":"<p>\u2460 \u914d\u7f6e\u6821\u9a8c\u4e0e\u5165\u53e3</p> <ul> <li>\u4f7f\u7528 dataclass \u4ece <code>AppConfig</code> \u8f6c\u6210\u4efb\u52a1\u7528\u914d\u7f6e\uff0c\u5e76\u505a <code>validate()</code>\uff08\u672a\u542f\u7528\u6216\u7f3a\u5c11\u5fc5\u586b\u9879\u5219\u76f4\u63a5 return\uff09\uff1a</li> <li>\u57df\u540d\u901a\u8fc7 <code>_extract_ikuuu_domain()</code> \u81ea\u52a8\u4ece <code>ikuuu.club</code> \u63d0\u53d6\uff0cURL \u7531\u57df\u540d\u81ea\u52a8\u6784\u5efa\uff08<code>@property</code>\uff09\uff1a</li> </ul> <pre><code>@dataclass\nclass CheckinConfig:\n    enable: bool\n    domain: str    # \u81ea\u52a8\u53d1\u73b0\u7684\u57df\u540d\uff0c\u5982 ikuuu.nl\n    email: str\n    password: str\n    time: str\n\n    @property\n    def login_url(self) -&gt; str:\n        return f\"https://{self.domain}/auth/login\"\n\n    @property\n    def checkin_url(self) -&gt; str:\n        return f\"https://{self.domain}/user/checkin\"\n\n    @property\n    def user_page_url(self) -&gt; str:\n        return f\"https://{self.domain}/user\"\n\n    @classmethod\n    def from_app_config(cls, config: AppConfig, domain: str) -&gt; CheckinConfig:\n        return cls(\n            enable=config.checkin_enable,\n            domain=domain,\n            # ...\n            time=config.checkin_time.strip() or \"08:00\",\n        )\n\nasync def run_checkin_once() -&gt; None:\n    app_config = get_config(reload=True)\n    if not app_config.checkin_enable:\n        return\n    # \u81ea\u52a8\u53d1\u73b0 ikuuu \u53ef\u7528\u57df\u540d\n    domain = await _extract_ikuuu_domain()\n    if not domain:\n        logger.error(\"ikuuu\u7b7e\u5230\uff1a\u65e0\u6cd5\u81ea\u52a8\u53d1\u73b0\u53ef\u7528\u57df\u540d\uff0c\u8df3\u8fc7\u672c\u6b21\u6267\u884c\")\n        return\n    cfg = CheckinConfig.from_app_config(app_config, domain=domain)\n    if not cfg.validate():\n        return\n    # \u4e1a\u52a1\u903b\u8f91\uff1a\u767b\u5f55 \u2192 \u7b7e\u5230 \u2192 \u83b7\u53d6\u6d41\u91cf\u4fe1\u606f\n    async with aiohttp.ClientSession(...) as session:\n        push_manager = await build_push_manager(\n            app_config.push_channel_list, session, logger, init_fail_prefix=\"ikuuu\u7b7e\u5230\uff1a\",\n            channel_names=cfg.push_channels if cfg.push_channels else None,  # \u6307\u5b9a\u4f7f\u7528\u7684\u901a\u9053\n        )\n        cookie = await _login_and_get_cookie(session, cfg)\n        if not cookie:\n            await _send_checkin_push(push_manager, title=\"ikuuu\u7b7e\u5230\u5931\u8d25\uff1a\u767b\u5f55\u5931\u8d25\", ...)\n            return\n        ok = await _checkin(session, cfg, cookie)\n        traffic_info = await _get_user_traffic(session, cfg, cookie)\n        await _send_checkin_push(push_manager, title=..., msg=..., success=ok, traffic_info=traffic_info)\n        if push_manager:\n            await push_manager.close()\n</code></pre> <p>\u2461 \u63a8\u9001\u903b\u8f91</p> <ul> <li>\u63a8\u9001\u524d\u7528 <code>is_in_quiet_hours(app_cfg)</code> \u5224\u65ad\u514d\u6253\u6270\uff0c\u5728\u514d\u6253\u6270\u65f6\u6bb5\u5185\u53ea\u6253\u65e5\u5fd7\u4e0d\u63a8\u9001\uff1a</li> </ul> <pre><code>async def _send_checkin_push(push_manager, title, msg, success, cfg, traffic_info=None):\n    if push_manager is None:\n        return\n    app_cfg = get_config()\n    if is_in_quiet_hours(app_cfg):\n        logger.debug(\"ikuuu\u7b7e\u5230\uff1a\u514d\u6253\u6270\u65f6\u6bb5\uff0c\u4e0d\u53d1\u9001\u63a8\u9001\")\n        return\n    await push_manager.send_news(\n        title=f\"{title}\uff08{masked_email}\uff09\",\n        description=...,\n        to_url=cfg.user_page_url,\n        picurl=\"...\",\n        btntxt=\"\u67e5\u770b\u8d26\u6237\",\n    )\n</code></pre> <p>\u2462 \u6ce8\u518c\uff1aCron \u89e6\u53d1\u53c2\u6570 + register_task</p> <ul> <li>\u6267\u884c\u65f6\u95f4\u7531 <code>checkin.time</code> \u51b3\u5b9a\uff0c\u4f7f\u7528\u516c\u5171\u65b9\u6cd5 <code>parse_checkin_time</code> \u5f97\u5230 cron \u7684 <code>hour</code>\u3001<code>minute</code>\uff0c\u5e76\u5728\u6a21\u5757\u672b\u5c3e\u6ce8\u518c\uff1a</li> </ul> <pre><code>from src.config import AppConfig, get_config, is_in_quiet_hours, parse_checkin_time\nfrom src.job_registry import register_task\n\ndef _get_checkin_trigger_kwargs(config: AppConfig) -&gt; dict:\n    hour, minute = parse_checkin_time(config.checkin_time)\n    return {\"minute\": minute, \"hour\": hour}\n\nregister_task(\"ikuuu_checkin\", run_checkin_once, _get_checkin_trigger_kwargs)\n</code></pre> <p>\u2463 \u5f53\u5929\u5df2\u8fd0\u884c\u5219\u8df3\u8fc7\uff08\u9ed8\u8ba4\u884c\u4e3a\uff09</p> <p><code>register_task</code> \u9ed8\u8ba4\u542f\u7528 <code>skip_if_run_today=True</code>\uff0c\u4efb\u52a1\u5728\u6267\u884c\u524d\u4f1a\u68c0\u67e5\u5f53\u5929\u662f\u5426\u5df2\u7ecf\u8fd0\u884c\u8fc7\uff1a - \u5982\u679c\u5df2\u8fd0\u884c\uff1a\u8f93\u51fa\u65e5\u5fd7 <code>{job_id}: \u5f53\u5929\u5df2\u7ecf\u8fd0\u884c\u8fc7\u4e86\uff0c\u8df3\u8fc7\u8be5\u4efb\u52a1</code>\uff0c\u7136\u540e\u8df3\u8fc7\u6267\u884c - \u5982\u679c\u672a\u8fd0\u884c\uff1a\u6b63\u5e38\u6267\u884c\u4efb\u52a1\uff0c\u6210\u529f\u540e\u8bb0\u5f55\u8fd0\u884c\u65e5\u671f - \u5982\u679c\u4efb\u52a1\u6267\u884c\u5931\u8d25\uff1a\u4e0d\u8bb0\u5f55\u8fd0\u884c\u65e5\u671f\uff0c\u5141\u8bb8\u540e\u7eed\u91cd\u8bd5</p> <p>\u82e5\u67d0\u4e2a\u4efb\u52a1\u9700\u8981\u6bcf\u6b21\u89e6\u53d1\u90fd\u6267\u884c\uff08\u4e0d\u68c0\u67e5\u5f53\u5929\u662f\u5426\u5df2\u8fd0\u884c\uff09\uff0c\u53ef\u5728\u6ce8\u518c\u65f6\u7981\u7528\uff1a</p> <pre><code>register_task(\"always_run_task\", run_task, _get_trigger_kwargs, skip_if_run_today=False)\n</code></pre> <p>\u2464 \u624b\u52a8\u89e6\u53d1\u6267\u884c</p> <p>\u901a\u8fc7 Web \u7ba1\u7406\u754c\u9762\u7684\u300c\u4efb\u52a1\u7ba1\u7406\u300d\u9875\u9762\u624b\u52a8\u89e6\u53d1\u4efb\u52a1\u65f6\uff0c\u4f1a\u4f7f\u7528 <code>JobDescriptor.original_run_func</code>\uff08\u539f\u59cb\u6267\u884c\u51fd\u6570\uff09\uff0c\u7ed5\u8fc7\"\u5f53\u5929\u5df2\u8fd0\u884c\u5219\u8df3\u8fc7\"\u68c0\u67e5\uff0c\u786e\u4fdd\u4efb\u52a1\u88ab\u5f3a\u5236\u6267\u884c\u3002\u8fd9\u5bf9\u4e8e\u8c03\u8bd5\u6216\u9700\u8981\u7acb\u5373\u91cd\u65b0\u6267\u884c\u7684\u573a\u666f\u975e\u5e38\u6709\u7528\u3002</p>"},{"location":"SECONDARY_DEVELOPMENT/#24-srcjob_registrypy","title":"2.4 \u6ce8\u518c\u8868\uff1asrc/job_registry.py","text":"<p>\u5728 <code>TASK_MODULES</code> \u4e2d\u5df2\u5305\u542b\u8be5\u6a21\u5757\uff0c\u4e3b\u7a0b\u5e8f\u542f\u52a8\u65f6\u4f1a\u5bfc\u5165\u5e76\u6267\u884c\u4e0a\u8ff0 <code>register_task</code>\uff1a</p> <pre><code>TASK_MODULES: list[str] = [\n    \"tasks.log_cleanup\",\n    \"tasks.ikuuu_checkin\",  # iKuuu \u7b7e\u5230\n    \"tasks.tieba_checkin\",\n    \"tasks.weibo_chaohua_checkin\",  # \u5fae\u535a\u8d85\u8bdd\u7b7e\u5230\n    # ... \u96e8\u4e91\u3001\u8d34\u5427\u3001\u963f\u91cc\u4e91\u76d8\u7b49\u66f4\u591a\u4efb\u52a1\u89c1 job_registry.py\n    \"tasks.demo_task\",  # \u4e8c\u6b21\u5f00\u53d1\u793a\u4f8b\uff0c\u4e0d\u9700\u8981\u53ef\u79fb\u9664\u6b64\u884c\n]\n</code></pre> <p>\u5c0f\u7ed3\uff1a\u9876\u5c42\u5b9a\u65f6\u4efb\u52a1 = config.yml \u8282\u70b9 \u2192 AppConfig + load_config_from_yml \u2192 \u4efb\u52a1\u6a21\u5757\uff08run_xxx_once + \u63a8\u9001 + _get_xxx_trigger_kwargs\uff09\u2192 register_task \u2192 TASK_MODULES \u4e00\u884c\u3002</p>"},{"location":"SECONDARY_DEVELOPMENT/#demo-plugins","title":"\u4e09\u3001\u5b9a\u65f6\u4efb\u52a1\u793a\u4f8b\u4e8c\uff1aDemo \u4efb\u52a1\uff08plugins \u914d\u7f6e\uff09","text":"<p>Demo \u4efb\u52a1\u4f7f\u7528 plugins \u914d\u7f6e\uff1a\u65e0\u9700\u6539 <code>AppConfig</code> \u548c <code>load_config_from_yml()</code>\uff0c\u53ea\u9700\u5728 <code>config.yml</code> \u7684 <code>plugins</code> \u4e0b\u589e\u52a0\u4e00\u4e2a key\uff0c\u9002\u5408\u5feb\u901f\u6269\u5c55\u3001\u5b57\u6bb5\u7075\u6d3b\u7684\u573a\u666f\u3002</p>"},{"location":"SECONDARY_DEVELOPMENT/#31-configyml","title":"3.1 \u914d\u7f6e\uff1aconfig.yml","text":"<pre><code>plugins:\n  demo_task:\n    enable: false\n    time: \"08:30\"\n    message: \"Demo \u5b9a\u65f6\u4efb\u52a1\u6267\u884c\u5b8c\u6210\"\n</code></pre>"},{"location":"SECONDARY_DEVELOPMENT/#32-tasksdemo_taskpy","title":"3.2 \u4efb\u52a1\u5b9e\u73b0\uff1atasks/demo_task.py","text":"<ul> <li>\u4ece <code>config.plugins.get(\"demo_task\", {})</code> \u8bfb\u914d\u7f6e\uff1b\u672a\u542f\u7528\u5219\u76f4\u63a5 return\u3002</li> <li>\u4f7f\u7528 <code>parse_checkin_time(plug.get(\"time\", \"08:00\"))</code> \u5f97\u5230 cron \u7684 hour/minute\u3002</li> <li>\u63a8\u9001\u524d\u7528 <code>is_in_quiet_hours(config)</code> \u5224\u65ad\u514d\u6253\u6270\u3002</li> </ul> <p>\u6838\u5fc3\u7247\u6bb5\uff1a</p> <pre><code>PLUGIN_KEY = \"demo_task\"\n\ndef _get_plugin_config(config: AppConfig) -&gt; dict:\n    return config.plugins.get(PLUGIN_KEY) or {}\n\nasync def run_demo_task_once() -&gt; None:\n    config = get_config(reload=True)\n    plug = _get_plugin_config(config)\n    if not plug.get(\"enable\", False):\n        return\n    async with aiohttp.ClientSession(...) as session:\n        push_manager = await build_push_manager(...)\n        message = plug.get(\"message\", \"Demo \u5b9a\u65f6\u4efb\u52a1\u6267\u884c\u5b8c\u6210\u3002\")\n        if push_manager and not is_in_quiet_hours(config):\n            await push_manager.send_news(title=\"Demo \u4efb\u52a1\u6267\u884c\u5b8c\u6210\", description=message, ...)\n        if push_manager:\n            await push_manager.close()\n\ndef _get_demo_task_trigger_kwargs(config: AppConfig) -&gt; dict:\n    plug = _get_plugin_config(config)\n    hour, minute = parse_checkin_time((plug.get(\"time\") or \"08:00\").strip())\n    return {\"minute\": minute, \"hour\": hour}\n\nregister_task(\"demo_task\", run_demo_task_once, _get_demo_task_trigger_kwargs)\n</code></pre> <p>\u5728 <code>src/job_registry.py</code> \u7684 <code>TASK_MODULES</code> \u4e2d\u9700\u5305\u542b <code>\"tasks.demo_task\"</code>\uff08\u5f53\u524d\u5df2\u5305\u542b\uff09\u3002 \u5b8c\u6574\u4ee3\u7801\u89c1 <code>tasks/demo_task.py</code>\u3002</p>"},{"location":"SECONDARY_DEVELOPMENT/#_9","title":"\u56db\u3001\u76d1\u63a7\u4efb\u52a1\u793a\u4f8b\uff1a\u864e\u7259\u76f4\u64ad\u76d1\u63a7","text":"<p>\u864e\u7259\u76d1\u63a7\u6309\u56fa\u5b9a\u95f4\u9694\u8f6e\u8be2\u623f\u95f4\u72b6\u6001\uff0c\u4f7f\u7528\u9876\u5c42\u914d\u7f6e + \u7ee7\u627f <code>BaseMonitor</code>\uff0c\u662f\u5178\u578b\u7684\u76d1\u63a7\u4efb\u52a1\u5199\u6cd5\u3002</p>"},{"location":"SECONDARY_DEVELOPMENT/#41-configyml","title":"4.1 \u914d\u7f6e\uff1aconfig.yml","text":"<pre><code>huya:\n  enable: true                  # \u662f\u5426\u542f\u7528\u8be5\u76d1\u63a7\uff0c\u9ed8\u8ba4 true\uff1b\u8bbe\u4e3a false \u65f6\u4efb\u52a1\u6682\u505c\n  rooms: 991108,333003,518518   # \u9017\u53f7\u5206\u9694\u7684\u623f\u95f4\u53f7\n  concurrency: 5\n  monitor_interval_seconds: 65   # \u8f6e\u8be2\u95f4\u9694\uff08\u79d2\uff09\n</code></pre>"},{"location":"SECONDARY_DEVELOPMENT/#42-srcconfigpy","title":"4.2 \u914d\u7f6e\uff1asrc/config.py","text":"<ul> <li>AppConfig \u4e2d\u589e\u52a0\u6241\u5e73\u5b57\u6bb5\uff1a<code>huya_enable</code>\u3001<code>huya_rooms</code>\u3001<code>huya_concurrency</code>\u3001<code>huya_monitor_interval_seconds</code>\u3002</li> <li>load_config_from_yml\uff1a\u4ece <code>yml_config[\"huya\"]</code> \u8bfb\u5230\u4e0a\u8ff0\u5b57\u6bb5\u5199\u5165 <code>config_dict</code>\u3002</li> <li>\u63d0\u4f9b get_huya_config() \u8fd4\u56de\u7ed3\u6784\u5316\u914d\u7f6e\uff08\u5217\u8868 + \u5e76\u53d1\u6570\uff09\uff0c\u4f9b\u76d1\u63a7\u7c7b\u4f7f\u7528\uff1a</li> </ul> <pre><code>class HuyaConfig(BaseModel):\n    rooms: list[str]\n    concurrency: int = 7\n\ndef get_huya_config(self) -&gt; HuyaConfig:\n    rooms = [r.strip() for r in self.huya_rooms.split(\",\") if r.strip()]\n    return HuyaConfig(rooms=rooms, concurrency=self.huya_concurrency)\n</code></pre> <p>\u89c1 <code>src/config.py</code> \u4e2d <code>HuyaConfig</code>\u3001<code>AppConfig.get_huya_config</code> \u53ca <code>load_config_from_yml</code> \u7684 huya \u6bb5\u843d\u3002</p>"},{"location":"SECONDARY_DEVELOPMENT/#43-monitorshuya_monitorpy","title":"4.3 \u76d1\u63a7\u5b9e\u73b0\uff1amonitors/huya_monitor.py","text":"<p>\u2460 \u7ee7\u627f BaseMonitor</p> <ul> <li><code>BaseMonitor</code> \u8d1f\u8d23\uff1a<code>config</code>\u3001<code>session</code>\u3001<code>db</code>\u3001<code>push</code>\u3001<code>initialize()</code>\uff08\u6570\u636e\u5e93 + \u63a8\u9001\uff09\u3001<code>close()</code>\u3002\u5b50\u7c7b\u53ea\u9700\u5b9e\u73b0 <code>run()</code> \u548c <code>monitor_name</code>\uff0c\u4ee5\u53ca\u53ef\u9009\u7684 <code>_get_session</code> \u91cd\u5199\uff08\u5982\u56fa\u5b9a User-Agent/Cookie\uff09\u3002</li> </ul> <pre><code>from src.monitor import BaseMonitor\n\nclass HuyaMonitor(BaseMonitor):\n    def __init__(self, config: AppConfig, session=None):\n        super().__init__(config, session)\n        self.huya_config = config.get_huya_config()\n        self.old_data_dict = {}\n        self._is_first_time = False\n\n    async def initialize(self):\n        await super().initialize()\n        await self.load_old_info()   # \u4ece DB \u52a0\u8f7d\u65e7\u72b6\u6001\n\n    async def run(self):\n        new_config = get_config(reload=False)\n        self.config = new_config\n        self.huya_config = new_config.get_huya_config()\n        # \u5e76\u53d1\u8f6e\u8be2\u623f\u95f4\uff0c\u6bd4\u5bf9 old_data_dict\uff0c\u6709\u53d8\u5316\u5219\u66f4\u65b0 DB \u5e76 push_notification\n        semaphore = asyncio.Semaphore(self.huya_config.concurrency)\n        tasks = [process_with_semaphore(rid) for rid in self.huya_config.rooms]\n        await asyncio.gather(*tasks, return_exceptions=True)\n\n    @property\n    def monitor_name(self) -&gt; str:\n        return \"\u864e\u7259\u76f4\u64ad\u76d1\u63a7\ud83d\udc2f  \ud83d\udc2f  \ud83d\udc2f\"\n</code></pre> <p>\u2461 \u63a8\u9001</p> <ul> <li>\u5728\u4e1a\u52a1\u903b\u8f91\u91cc\u8c03\u7528 <code>self.push.send_news(...)</code>\uff1b\u63a8\u9001\u524d\u7528 <code>is_in_quiet_hours(self.config)</code> \u5224\u65ad\u514d\u6253\u6270\uff0c\u82e5\u5728\u514d\u6253\u6270\u65f6\u6bb5\u5219\u53ea\u6253\u65e5\u5fd7\u4e0d\u63a8\u9001\u3002\u89c1 <code>huya_monitor.py</code> \u4e2d <code>push_notification</code>\u3002</li> </ul> <p>\u2462 \u5bf9\u5916\u5165\u53e3\u4e0e\u6ce8\u518c</p> <ul> <li>\u5bf9\u5916\u66b4\u9732\u4e00\u4e2a\u65e0\u53c2\u7684 async \u51fd\u6570\uff0c\u5185\u90e8 <code>get_config(reload=True)</code> \u540e <code>async with HuyaMonitor(config) as monitor: await monitor.run()</code>\u3002</li> <li>\u63d0\u4f9b <code>_get_huya_trigger_kwargs(config)</code> \u8fd4\u56de <code>{\"seconds\": config.huya_monitor_interval_seconds}</code>\uff0c\u5e76\u5728\u6a21\u5757\u672b\u5c3e <code>register_monitor</code>\uff1a</li> </ul> <pre><code>async def run_huya_monitor() -&gt; None:\n    config = get_config(reload=True)\n    async with HuyaMonitor(config) as monitor:\n        await monitor.run()\n\ndef _get_huya_trigger_kwargs(config: AppConfig) -&gt; dict:\n    return {\"seconds\": config.huya_monitor_interval_seconds}\n\nfrom src.job_registry import register_monitor\nregister_monitor(\"huya_monitor\", run_huya_monitor, _get_huya_trigger_kwargs)\n</code></pre> <p>\u89c1 <code>monitors/huya_monitor.py</code> \u672b\u5c3e\u3002</p>"},{"location":"SECONDARY_DEVELOPMENT/#44-srcjob_registrypy","title":"4.4 \u6ce8\u518c\u8868\uff1asrc/job_registry.py","text":"<p>\u5728 <code>MONITOR_MODULES</code> \u4e2d\u5df2\u5305\u542b\u864e\u7259\u6a21\u5757\uff08\u5f53\u524d\u5168\u90e8\u76d1\u63a7\u6a21\u5757\u5982\u4e0b\uff09\uff1a</p> <pre><code>MONITOR_MODULES: list[str] = [\n    \"monitors.huya_monitor\",\n    \"monitors.weibo_monitor\",\n    \"monitors.bilibili_monitor\",\n    \"monitors.douyin_monitor\",\n    \"monitors.douyu_monitor\",\n    \"monitors.xhs_monitor\",\n]\n</code></pre>"},{"location":"SECONDARY_DEVELOPMENT/#45","title":"4.5 \u914d\u7f6e\u70ed\u91cd\u8f7d\u4e0e\u6570\u636e\u5e93\u540c\u6b65","text":"<p>\u9879\u76ee\u5df2\u5bf9\u73b0\u6709\u76d1\u63a7\u4e0e\u5b9a\u65f6\u4efb\u52a1\u7684 enable\u3001\u95f4\u9694/\u6267\u884c\u65f6\u95f4\u3001\u514d\u6253\u6270\u3001\u63a8\u9001\u901a\u9053\u7b49\u5b57\u6bb5\u505a\u5b8c\u6574\u8986\u76d6\uff0c\u4fee\u6539\u540e\u7ea6 5 \u79d2\u5185\u70ed\u91cd\u8f7d\u751f\u6548\u3002 \u65b0\u589e\u76d1\u63a7\u4efb\u52a1\u65f6\uff0c\u9700\u5b8c\u6210\u4ee5\u4e0b\u4e24\u9879\u4ee5\u652f\u6301\u70ed\u91cd\u8f7d\u4e0e\u914d\u7f6e\u540c\u6b65\uff1a</p> <ol> <li>config_watcher\uff1a\u5728 <code>src/config_watcher.py</code> \u7684 <code>_config_changed()</code> \u7684 <code>config_groups</code> \u4e2d\u589e\u52a0\u5bf9\u5e94\u5e73\u53f0\u53ca\u5b57\u6bb5\uff08\u5982 <code>\"my_monitor\": [\"my_monitor_enable\", \"my_monitor_rooms\", \"my_monitor_interval_seconds\"]</code>\uff09\uff0c\u5e76\u5728 <code>scheduler</code> \u7ec4\u4e2d\u589e\u52a0 <code>my_monitor_interval_seconds</code>\uff08\u82e5\u6709\u95f4\u9694\u914d\u7f6e\uff09\u3002</li> <li>config_db_sync\uff1a\u82e5\u65b0\u76d1\u63a7\u4f7f\u7528 uid/room \u7c7b\u5217\u8868\u4e14\u9700\u8981\u4ece\u914d\u7f6e\u4e2d\u5220\u9664\u65f6\u540c\u6b65\u6e05\u7406\u6570\u636e\u5e93\uff0c\u9700\u5728 <code>src/config_db_sync.py</code> \u7684 <code>sync_rules</code> \u4e2d\u589e\u52a0\u5bf9\u5e94\u89c4\u5219\uff08\u914d\u7f6e\u5b57\u6bb5 \u2192 \u8868\u540d + \u4e3b\u952e\u5217\u540d\uff09\u3002</li> </ol> <p>\u65b0\u589e\u5b9a\u65f6\u4efb\u52a1\u65f6\uff1a\u5728 <code>config_groups</code> \u4e2d\u589e\u52a0\u5bf9\u5e94\u4efb\u52a1\u53ca\u5b57\u6bb5\uff08\u5982 <code>\"my_task\": [\"my_task_enable\", \"my_task_time\"]</code>\uff09\u3002</p> <p>\u5c0f\u7ed3\uff1a\u76d1\u63a7\u4efb\u52a1 = config.yml\uff08\u4e1a\u52a1\u8282\u70b9\u542b enable + scheduler \u95f4\u9694\uff09\u2192 AppConfig + get_xxx_config + load_config_from_yml \u2192 \u7ee7\u627f BaseMonitor \u5b9e\u73b0 run + \u63a8\u9001 \u2192 run_xxx_monitor + _get_xxx_trigger_kwargs \u2192 register_monitor \u2192 MONITOR_MODULES \u4e00\u884c\u3002<code>enable: false</code> \u65f6\u4efb\u52a1\u4f1a\u88ab\u6682\u505c\uff0c\u70ed\u91cd\u8f7d\u751f\u6548\u3002</p>"},{"location":"SECONDARY_DEVELOPMENT/#_10","title":"\u4e94\u3001\u76d1\u63a7\u4efb\u52a1\u9700\u8981\u6570\u636e\u5e93\u65f6\u8be5\u600e\u4e48\u529e","text":"<p>\u5f88\u591a\u76d1\u63a7\u4efb\u52a1\u9700\u8981\u6301\u4e45\u5316\u4e0a\u4e00\u6b21\u72b6\u6001\uff08\u4f8b\u5982\u4e0a\u6b21\u662f\u5426\u5728\u64ad\u3001\u4e0a\u6b21\u5fae\u535a\u5185\u5bb9\uff09\uff0c\u4ee5\u4fbf\u672c\u6b21\u8f6e\u8be2\u65f6\u5bf9\u6bd4\u3001\u4ec5\u5728\u53d8\u5316\u65f6\u63a8\u9001\u3002\u672c\u9879\u76ee\u7684\u505a\u6cd5\u662f\uff1a\u7ee7\u627f BaseMonitor \u5373\u81ea\u5e26\u6570\u636e\u5e93\u4e0e\u63a8\u9001\uff0c\u6570\u636e\u5e93\u4f7f\u7528\u9879\u76ee\u5185\u7edf\u4e00\u7684 SQLite\uff08<code>data/data.db</code>\uff09\uff0c\u7531 <code>AsyncDatabase</code> \u5c01\u88c5\u3002</p>"},{"location":"SECONDARY_DEVELOPMENT/#51-basemonitor-selfdb","title":"5.1 \u7ee7\u627f BaseMonitor \u5373\u83b7\u5f97 self.db","text":"<p>\u5728 <code>src/monitor.py</code> \u4e2d\uff0c<code>BaseMonitor.initialize()</code> \u4f1a\uff1a</p> <ul> <li>\u521b\u5efa <code>self.db = AsyncDatabase()</code> \u5e76 <code>await self.db.initialize()</code>\uff1b</li> <li>\u521b\u5efa <code>self.push</code>\uff08\u7edf\u4e00\u63a8\u9001\uff09\uff1b</li> <li>\u53ef\u9009 <code>self.session</code>\uff08HTTP\uff09\u3002</li> </ul> <p>\u56e0\u6b64\u4f60\u7684\u76d1\u63a7\u7c7b\u53ea\u9700\u7ee7\u627f BaseMonitor\uff0c\u5728 <code>initialize()</code> \u91cc\u53ef\u5148 <code>await super().initialize()</code>\uff0c\u518d\u52a0\u8f7d\u672c\u76d1\u63a7\u9700\u8981\u7684\u201c\u65e7\u6570\u636e\u201d\uff1b\u5728 <code>run()</code> \u91cc\u7528 <code>self.db</code> \u505a\u67e5\u8be2/\u66f4\u65b0/\u63d2\u5165\u5373\u53ef\u3002\u65e0\u9700\u81ea\u5df1 new AsyncDatabase \u6216\u7ba1\u7406\u8fde\u63a5\u3002</p>"},{"location":"SECONDARY_DEVELOPMENT/#52-asyncdatabase-apisrcdatabasepy","title":"5.2 AsyncDatabase \u5e38\u7528 API\uff08src/database.py\uff09","text":"\u65b9\u6cd5 \u8bf4\u660e \u8fd4\u56de\u503c <code>execute_query(sql, params=None)</code> \u67e5\u8be2\uff0c\u5360\u4f4d\u7b26\u7528 <code>%(key)s</code>\uff0cparams \u4e3a dict <code>list[tuple]</code>\uff0c\u6bcf\u884c\u4e00\u4e2a\u5143\u7ec4 <code>execute_update(sql, params=None)</code> \u6267\u884c UPDATE/INSERT/DELETE <code>bool</code>\uff08\u662f\u5426\u6210\u529f\uff09 <code>execute_insert(sql, params=None)</code> \u540c execute_update\uff0c\u8bed\u4e49\u4e0a\u7528\u4e8e\u63d2\u5165 <code>bool</code> <code>is_table_empty(table_name)</code> \u5224\u65ad\u8868\u662f\u5426\u4e3a\u7a7a\uff08\u53ef\u7528\u4e8e\u201c\u9996\u6b21\u8fd0\u884c\u201d\u903b\u8f91\uff09 <code>bool</code> <ul> <li>SQL \u5360\u4f4d\u7b26\uff1a\u5199 <code>%(name)s</code>\u3001<code>%(room)s</code> \u7b49\uff0cparams \u4f20\u5b57\u5178\u5982 <code>{\"name\": \"xx\", \"room\": \"123\"}</code>\u3002\u6a21\u5757\u5185\u90e8\u4f1a\u8f6c\u6362\u4e3a SQLite \u7684 <code>:name</code> \u683c\u5f0f\uff0c\u65e0\u9700\u6539 SQL\u3002</li> <li>\u8fde\u63a5\uff1a\u9ed8\u8ba4\u4f7f\u7528\u5168\u5c40\u5171\u4eab\u8fde\u63a5\uff08\u5355\u8fdb\u7a0b\u5185\u590d\u7528\uff09\uff0c\u91cd\u8bd5\u4e0e\u91cd\u8fde\u5df2\u5728 <code>execute_*</code> \u5185\u5904\u7406\u3002</li> </ul>"},{"location":"SECONDARY_DEVELOPMENT/#53-databasepy","title":"5.3 \u65b0\u76d1\u63a7\u9700\u8981\u65b0\u8868\u65f6\uff1a\u5728 database.py \u4e2d\u52a0\u8868","text":"<p>\u5f53\u524d\u6240\u6709\u8868\u7ed3\u6784\u90fd\u5728 <code>src/database.py</code> \u7684 <code>_init_tables()</code> \u91cc\u7edf\u4e00\u521b\u5efa\uff08<code>CREATE TABLE IF NOT EXISTS ...</code>\uff09\u3002 \u82e5\u4f60\u7684\u76d1\u63a7\u9700\u8981\u81ea\u5df1\u7684\u8868\uff08\u4f8b\u5982 <code>my_monitor</code>\uff09\uff0c\u5728 <code>src/database.py</code> \u7684 <code>_init_tables()</code> \u4e2d\u589e\u52a0\u4e00\u6bb5\u5373\u53ef\uff0c\u4e0e\u73b0\u6709 <code>weibo</code>\u3001<code>huya</code> \u8868\u5e76\u5217\uff0c\u4f8b\u5982\uff1a</p> <pre><code># \u5728 _init_tables(self, conn) \u672b\u5c3e\u3001await conn.commit() \u524d\u589e\u52a0\uff1a\n\n# \u521b\u5efa my_monitor \u8868\uff08\u793a\u4f8b\uff09\nawait conn.execute(\n    \"\"\"\n    CREATE TABLE IF NOT EXISTS my_monitor (\n        id TEXT PRIMARY KEY,\n        name TEXT,\n        status TEXT,\n        updated_at TEXT\n    )\n    \"\"\"\n)\nawait conn.commit()\n</code></pre> <p>\u8868\u540d\u3001\u5b57\u6bb5\u540d\u6309\u4f60\u7684\u4e1a\u52a1\u8bbe\u8ba1\u5373\u53ef\uff1b\u4e3b\u952e\u5efa\u8bae\u80fd\u552f\u4e00\u6807\u8bc6\u4e00\u6761\u76d1\u63a7\u5bf9\u8c61\uff08\u5982\u623f\u95f4\u53f7\u3001\u7528\u6237 ID\uff09\u3002</p>"},{"location":"SECONDARY_DEVELOPMENT/#54","title":"5.4 \u864e\u7259\u76d1\u63a7\u4e2d\u7684\u7528\u6cd5\u793a\u4f8b\uff08\u5bf9\u7167\u4ee3\u7801\uff09","text":"<ul> <li>\u52a0\u8f7d\u65e7\u6570\u636e\uff08\u5728 <code>initialize()</code> \u91cc\u8c03\u7528\uff0c\u6216 <code>run()</code> \u5f00\u5934\uff09\uff1a   \u7528 <code>execute_query</code> \u628a\u4e0a\u4e00\u8f6e\u5b58\u7684\u72b6\u6001\u8bfb\u8fdb\u5185\u5b58\uff0c\u4f9b\u672c\u8f6e\u5bf9\u6bd4\uff1a</li> </ul> <pre><code>async def load_old_info(self):\n    sql = \"SELECT room, name, is_live FROM huya\"\n    results = await self.db.execute_query(sql)\n    self.old_data_dict = {row[0]: row for row in results}\n    self._is_first_time = len(self.old_data_dict) == 0\n</code></pre> <ul> <li>\u6709\u53d8\u5316\u65f6\u66f4\u65b0\uff1a   \u7528 <code>execute_update</code>\uff0c\u5360\u4f4d\u7b26\u4e0e\u5b57\u5178\u4e00\u4e00\u5bf9\u5e94\uff1a</li> </ul> <pre><code>sql = \"UPDATE huya SET name=%(name)s, is_live=%(is_live)s WHERE room=%(room)s\"\nawait self.db.execute_update(sql, data)\n</code></pre> <ul> <li>\u65b0\u5bf9\u8c61\u9996\u6b21\u5199\u5165\uff1a   \u7528 <code>execute_insert</code>\uff1a</li> </ul> <pre><code>sql = \"INSERT INTO huya (room, name, is_live) VALUES (%(room)s, %(name)s, %(is_live)s)\"\nawait self.db.execute_insert(sql, data)\n</code></pre> <ul> <li>\u9996\u6b21\u5efa\u8868/\u9996\u6b21\u8fd0\u884c\uff1a   \u864e\u7259\u7528 <code>_is_first_time</code> \u6807\u8bb0\u201c\u8868\u91cc\u4e4b\u524d\u6ca1\u6709\u6570\u636e\u201d\u3002\u9996\u6b21\u8dd1\u6ee1\u4e00\u8f6e\u65f6\u53ea\u5199\u5165 DB\u3001\u4e0d\u63a8\u9001\uff0c\u907f\u514d\u5386\u53f2\u6570\u636e\u88ab\u5f53\u6210\u201c\u65b0\u53d8\u5316\u201d\u5237\u5c4f\uff1b\u4ece\u7b2c\u4e8c\u8f6e\u5f00\u59cb\u624d\u6309\u53d8\u5316\u63a8\u9001\u3002\u4f60\u53ef\u6309\u540c\u6837\u601d\u8def\u5904\u7406\u3002</li> </ul> <p>\u5b8c\u6574\u5b9e\u73b0\u89c1 <code>monitors/huya_monitor.py</code>\uff08<code>load_old_info</code>\u3001<code>process_room</code> \u4e2d\u7684 SQL \u4e0e <code>self.db</code> \u8c03\u7528\uff09\u3002</p>"},{"location":"SECONDARY_DEVELOPMENT/#55","title":"5.5 \u5c0f\u7ed3\uff1a\u76d1\u63a7 + \u6570\u636e\u5e93\u7684\u6b65\u9aa4","text":"<ol> <li>\u7ee7\u627f BaseMonitor\uff0c\u5728 <code>initialize()</code> \u91cc <code>await super().initialize()</code> \u540e\u52a0\u8f7d\u65e7\u6570\u636e\u5230\u5185\u5b58\uff08\u5982 <code>load_old_info</code>\uff09\u3002</li> <li>\u5728 <code>src/database.py</code> \u7684 <code>_init_tables()</code> \u91cc\u4e3a\u4f60\u7684\u76d1\u63a7\u589e\u52a0 CREATE TABLE IF NOT EXISTS\uff08\u82e5\u9700\u8981\u65b0\u8868\uff09\u3002</li> <li>\u5728 <code>run()</code> \u91cc\uff1a\u62c9\u53d6\u5f53\u524d\u6570\u636e \u2192 \u4e0e\u65e7\u6570\u636e\u5bf9\u6bd4 \u2192 \u6709\u53d8\u5316\u5219 <code>execute_update</code> / <code>execute_insert</code> \u66f4\u65b0 DB\uff0c\u5e76\u8c03\u7528 <code>self.push.send_news(...)</code>\uff1b\u65e0\u53d8\u5316\u5219\u53ea\u6253\u65e5\u5fd7\u3002</li> <li>SQL \u4f7f\u7528 <code>%(key)s</code> + dict \u53c2\u6570\uff0c\u901a\u8fc7 <code>self.db.execute_query</code> / <code>execute_update</code> / <code>execute_insert</code> \u8bbf\u95ee\uff1b\u8fde\u63a5\u4e0e\u91cd\u8bd5\u7531 AsyncDatabase \u7edf\u4e00\u5904\u7406\u3002</li> </ol>"},{"location":"SECONDARY_DEVELOPMENT/#_11","title":"\u516d\u3001\u63a8\u9001\u903b\u8f91\uff08\u7edf\u4e00\u8bf4\u660e\uff09","text":"<ul> <li>\u63a8\u9001\u901a\u9053\u7edf\u4e00\u6765\u81ea <code>config.push_channel_list</code>\uff08\u5373 <code>config.yml</code> \u7684 <code>push_channel</code>\uff09\uff0c\u65e0\u9700\u5728\u4efb\u52a1\u91cc\u65b0\u589e\u901a\u9053\u7c7b\u578b\u3002</li> <li>\u901a\u9053\u9009\u62e9\u673a\u5236\uff1a\u6bcf\u4e2a\u4efb\u52a1\u53ef\u4ee5\u5728\u914d\u7f6e\u4e2d\u901a\u8fc7 <code>push_channels</code> \u5b57\u6bb5\u6307\u5b9a\u4f7f\u7528\u54ea\u4e9b\u63a8\u9001\u901a\u9053\uff08\u6309\u540d\u79f0\u5339\u914d\uff09\u3002\u4e3a\u7a7a\u65f6\u4f7f\u7528\u5168\u90e8\u5df2\u914d\u7f6e\u7684\u901a\u9053\u3002</li> <li>\u5728\u4efb\u52a1/\u76d1\u63a7\u5185\uff1a</li> <li>\u4f7f\u7528 <code>await build_push_manager(config.push_channel_list, session, logger, init_fail_prefix=\"\u4efb\u52a1\u540d\uff1a\", channel_names=[\"\u901a\u90531\", \"\u901a\u90532\"])</code> \u5f97\u5230 <code>UnifiedPushManager</code>\u3002<code>channel_names</code> \u53c2\u6570\u53ef\u9009\uff0c\u7528\u4e8e\u6307\u5b9a\u4ec5\u521d\u59cb\u5316\u54ea\u4e9b\u901a\u9053\uff08\u6309 <code>name</code> \u5b57\u6bb5\u5339\u914d\uff09\uff0c\u4e3a\u7a7a\u6216 None \u65f6\u4f7f\u7528\u5168\u90e8\u901a\u9053\u3002</li> <li>\u9700\u8981\u63a8\u9001\u65f6\u8c03\u7528 <code>await push_manager.send_news(title=..., description=..., to_url=..., picurl=..., btntxt=...)</code>\u3002</li> <li>\u9075\u5b88\u514d\u6253\u6270\uff1a\u63a8\u9001\u524d <code>if is_in_quiet_hours(config): return</code>\uff08\u6216\u53ea\u6253\u65e5\u5fd7\uff09\uff0c\u518d\u8c03\u7528 <code>send_news</code>\u3002</li> <li>\u4f7f\u7528\u5b8c\u6bd5\u540e <code>await push_manager.close()</code>\u3002</li> </ul> <p>\u864e\u7259\u5728\u7c7b\u5185\u4f7f\u7528 <code>self.push</code>\uff08BaseMonitor \u5728 <code>initialize</code> \u91cc\u5df2\u521b\u5efa\uff0c\u4f1a\u81ea\u52a8\u8bfb\u53d6\u4efb\u52a1\u914d\u7f6e\u7684 <code>push_channels</code>\uff09\uff1biKuuu/Demo \u5728 async \u51fd\u6570\u5185\u81ea\u5df1\u521b\u5efa <code>push_manager</code> \u5e76\u5728\u540c\u4e00 session \u751f\u547d\u5468\u671f\u5185 close\u3002 \u63a8\u9001\u5931\u8d25\u5efa\u8bae\u7528 <code>logger.error(..., exc_info=True)</code> \u8bb0\u5f55\uff0c\u4e0d\u4e2d\u65ad\u4e3b\u6d41\u7a0b\u3002</p> <p>\u4efb\u52a1\u4e13\u5c5e\u65e5\u5fd7\uff1a\u65b0\u589e\u4efb\u52a1\u65e0\u9700\u989d\u5916\u5904\u7406\uff0c\u7cfb\u7edf\u4f1a\u5728\u6267\u884c\u65f6\u81ea\u52a8\u5c06\u8f93\u51fa\u5199\u5165 <code>task_{job_id}_YYYYMMDD.log</code>\u3002Handler \u6302\u8f7d\u5728 root logger\uff0c\u53ef\u6355\u83b7\u4efb\u52a1\u5185\u6240\u6709 logger\uff08\u6a21\u5757\u3001\u7c7b\u3001\u63a8\u9001\u901a\u9053\u7b49\uff09\u7684\u8f93\u51fa\u3002</p>"},{"location":"SECONDARY_DEVELOPMENT/#_12","title":"\u4e03\u3001\u793a\u4f8b\u6587\u4ef6\u4e0e\u4ee3\u7801\u4f4d\u7f6e\u4e00\u89c8","text":"\u7c7b\u578b \u793a\u4f8b \u914d\u7f6e\u6587\u4ef6 \u914d\u7f6e\u89e3\u6790 \u4efb\u52a1/\u76d1\u63a7\u5b9e\u73b0 \u6ce8\u518c \u5b9a\u65f6\u4efb\u52a1 iKuuu \u7b7e\u5230 <code>config.yml</code> \u2192 <code>checkin</code> <code>AppConfig</code> + <code>load_config_from_yml</code>\uff08checkin \u6bb5\uff09 <code>tasks/ikuuu_checkin.py</code>\uff08<code>run_checkin_once</code>\u3001<code>_send_checkin_push</code>\u3001<code>_get_checkin_trigger_kwargs</code>\uff09 <code>register_task(\"ikuuu_checkin\", ...)</code>\uff0c<code>TASK_MODULES</code> \u542b <code>tasks.ikuuu_checkin</code> \u5b9a\u65f6\u4efb\u52a1 Demo \u4efb\u52a1 <code>config.yml</code> \u2192 <code>plugins.demo_task</code> \u65e0\u9700\u6539 config.py\uff0c\u7528 <code>config.plugins.get(\"demo_task\")</code> <code>tasks/demo_task.py</code> <code>register_task(\"demo_task\", ...)</code>\uff0c<code>TASK_MODULES</code> \u542b <code>tasks.demo_task</code> \u5b9a\u65f6\u4efb\u52a1 Freenom \u7eed\u671f <code>config.yml</code> \u2192 <code>freenom</code> <code>AppConfig</code> + <code>load_config_from_yml</code>\uff08freenom \u6bb5\uff0c\u591a\u8d26\u53f7 accounts\uff09 <code>tasks/freenom_checkin.py</code>\uff08<code>run_freenom_checkin_once</code>\u3001<code>_get_freenom_trigger_kwargs</code>\uff09 <code>register_task(\"freenom_checkin\", ...)</code>\uff0c<code>TASK_MODULES</code> \u542b <code>tasks.freenom_checkin</code> \u5b9a\u65f6\u4efb\u52a1 \u5929\u6c14\u63a8\u9001 <code>config.yml</code> \u2192 <code>weather</code> <code>AppConfig</code> + <code>load_config_from_yml</code>\uff08weather \u6bb5\uff09 <code>tasks/weather_push.py</code>\uff08<code>run_weather_push_once</code>\u3001<code>_get_weather_trigger_kwargs</code>\uff09 <code>register_task(\"weather_push\", ...)</code>\uff0c<code>TASK_MODULES</code> \u542b <code>tasks.weather_push</code> \u76d1\u63a7\u4efb\u52a1 \u864e\u7259\u76d1\u63a7 <code>config.yml</code> \u2192 <code>huya</code>\uff08\u542b <code>monitor_interval_seconds</code>\uff09 <code>AppConfig</code>\u3001<code>HuyaConfig</code>\u3001<code>get_huya_config</code>\u3001<code>load_config_from_yml</code>\uff08huya \u6bb5\uff09 <code>monitors/huya_monitor.py</code>\uff08<code>HuyaMonitor</code>\u3001<code>run_huya_monitor</code>\u3001<code>_get_huya_trigger_kwargs</code>\uff09 <code>register_monitor(\"huya_monitor\", ...)</code>\uff0c<code>MONITOR_MODULES</code> \u542b <code>monitors.huya_monitor</code> <ul> <li>parse_checkin_time\uff1a<code>src/config.py</code>\uff0c\u5c06 <code>\"HH:MM\"</code> \u89e3\u6790\u4e3a <code>(hour, minute)</code> \u5b57\u7b26\u4e32\u5143\u7ec4\uff0c\u4f9b Cron \u4f7f\u7528\u3002</li> <li>BaseMonitor\uff1a<code>src/monitor.py</code>\uff0c\u63d0\u4f9b <code>config</code>\u3001<code>db</code>\u3001<code>push</code>\u3001<code>initialize</code>\u3001<code>close</code>\uff0c\u5b50\u7c7b\u5b9e\u73b0 <code>run</code>\u3001<code>monitor_name</code>\u3002</li> </ul>"},{"location":"SECONDARY_DEVELOPMENT/#_13","title":"\u516b\u3001\u68c0\u67e5\u6e05\u5355\uff1a\u65b0\u589e\u5b9a\u65f6\u4efb\u52a1","text":"<ul> <li>[ ] \u5728 <code>config.yml</code> \u4e2d\u589e\u52a0\u914d\u7f6e\uff08\u9876\u5c42\u8282\u70b9\u6216 <code>plugins.xxx</code>\uff09\u3002</li> <li>[ ] \u82e5\u7528\u9876\u5c42\u914d\u7f6e\uff1a\u5728 <code>AppConfig</code> \u4e0e <code>load_config_from_yml()</code> \u4e2d\u8865\u5145\u5b57\u6bb5\uff1b\u82e5\u7528 <code>plugins</code>\uff0c\u65e0\u9700\u6539 config.py\u3002</li> <li>[ ] \u65b0\u5efa <code>tasks/xxx.py</code>\uff0c\u5b9e\u73b0 <code>run_xxx_once()</code>\uff08\u5185\u90e8 <code>get_config(reload=True)</code>\u3001\u6821\u9a8c\u3001\u4e1a\u52a1\u3001\u63a8\u9001\uff09\u3001<code>_get_xxx_trigger_kwargs(config)</code>\uff08\u8fd4\u56de <code>{\"minute\": m, \"hour\": h}</code>\uff0c\u53ef\u7528 <code>parse_checkin_time</code>\uff09\u3002</li> <li>[ ] \u5728\u6a21\u5757\u672b\u5c3e\u8c03\u7528 <code>register_task(\"job_id\", run_xxx_once, _get_xxx_trigger_kwargs)</code>\u3002</li> <li>\u9ed8\u8ba4\u542f\u7528 <code>skip_if_run_today=True</code>\uff0c\u5f53\u5929\u5df2\u8fd0\u884c\u5219\u8df3\u8fc7</li> <li>\u82e5\u9700\u6bcf\u6b21\u89e6\u53d1\u90fd\u6267\u884c\uff0c\u8bbe\u7f6e <code>skip_if_run_today=False</code></li> <li>[ ] \u5728 <code>src/job_registry.TASK_MODULES</code> \u4e2d\u8ffd\u52a0 <code>\"tasks.xxx\"</code>\u3002</li> <li>[ ] \u82e5\u4f7f\u7528\u65b0\u7684\u9876\u5c42\u914d\u7f6e\u9879\uff0c\u9700\u5728 <code>config_watcher._config_changed</code> \u4e2d\u589e\u52a0\u5bf9\u5e94\u6bd4\u8f83\uff08plugins \u5df2\u652f\u6301\uff09\u3002</li> </ul>"},{"location":"SECONDARY_DEVELOPMENT/#_14","title":"\u4e5d\u3001\u68c0\u67e5\u6e05\u5355\uff1a\u65b0\u589e\u76d1\u63a7\u4efb\u52a1","text":"<ul> <li>[ ] \u5728 <code>config.yml</code> \u4e2d\u589e\u52a0\u4e1a\u52a1\u8282\u70b9\uff08\u5982 <code>my_monitor</code>\uff09\uff0c\u5e76\u5728\u8be5\u8282\u70b9\u4e0b\u589e\u52a0 <code>monitor_interval_seconds</code> \u5b57\u6bb5\uff08\u4f8b\u5982 <code>my_monitor.monitor_interval_seconds</code>\uff09\u3002</li> <li>[ ] \u5728 <code>AppConfig</code> \u4e2d\u589e\u52a0\u6241\u5e73\u5b57\u6bb5\uff0c\u5728 <code>load_config_from_yml()</code> \u4e2d\u89e3\u6790\uff1b\u53ef\u9009\uff1a\u63d0\u4f9b <code>get_my_monitor_config()</code> \u8fd4\u56de\u7ed3\u6784\u5316\u914d\u7f6e\u3002</li> <li>[ ] \u5728 <code>config_watcher._config_changed</code> \u7684 <code>config_groups</code> \u4e2d\u589e\u52a0\u65b0\u5e73\u53f0\u53ca\u5b57\u6bb5\uff1b\u82e5\u4f7f\u7528\u95f4\u9694\uff0c\u5728 <code>scheduler</code> \u7ec4\u4e2d\u589e\u52a0 <code>my_monitor_interval_seconds</code>\u3002</li> <li>[ ] \u82e5\u76d1\u63a7\u4f7f\u7528 uid/room \u7c7b\u5217\u8868\u4e14\u9700\u914d\u7f6e\u5220\u9664\u65f6\u540c\u6b65\u6e05\u7406 DB\uff1a\u5728 <code>config_db_sync.sync_rules</code> \u4e2d\u589e\u52a0\u5bf9\u5e94\u89c4\u5219\u3002</li> <li>[ ] \u65b0\u5efa <code>monitors/xxx.py</code>\uff0c\u7ee7\u627f <code>BaseMonitor</code> \u5b9e\u73b0 <code>run()</code>\u3001<code>monitor_name</code>\uff0c\u4ee5\u53ca <code>run_xxx_monitor()</code>\u3001<code>_get_xxx_trigger_kwargs(config)</code>\uff08\u8fd4\u56de <code>{\"seconds\": config.xxx_interval_seconds}</code>\uff09\u3002</li> <li>[ ] \u82e5\u76d1\u63a7\u9700\u8981\u6570\u636e\u5e93\uff1a\u5728 <code>src/database.py</code> \u7684 <code>_init_tables()</code> \u4e2d\u589e\u52a0 <code>CREATE TABLE IF NOT EXISTS your_table (...)</code>\uff1b\u5728\u76d1\u63a7\u7c7b <code>initialize()</code> \u91cc\u52a0\u8f7d\u65e7\u6570\u636e\uff0c\u5728 <code>run()</code> \u91cc\u7528 <code>self.db.execute_query</code> / <code>execute_update</code> / <code>execute_insert</code> \u8bfb\u5199\uff08\u53c2\u89c1 \u4e94\u3001\u76d1\u63a7\u4efb\u52a1\u9700\u8981\u6570\u636e\u5e93\u65f6\u8be5\u600e\u4e48\u529e\uff09\u3002</li> <li>[ ] \u5728\u6a21\u5757\u672b\u5c3e\u8c03\u7528 <code>register_monitor(\"job_id\", run_xxx_monitor, _get_xxx_trigger_kwargs)</code>\u3002</li> <li>[ ] \u5728 <code>src/job_registry.MONITOR_MODULES</code> \u4e2d\u8ffd\u52a0 <code>\"monitors.xxx\"</code>\u3002</li> <li>[ ] \u82e5\u8be5\u76d1\u63a7\u652f\u6301 <code>enable</code> \u5f00\u5173\uff1a\u5728 <code>src/job_registry.MONITOR_JOB_ENABLE_FIELD_MAP</code> \u4e2d\u589e\u52a0\u6620\u5c04\uff0c\u5982 <code>\"xxx_monitor\": \"xxx_enable\"</code>\u3002</li> </ul> <p>\u5b8c\u6210\u4ee5\u4e0a\u6b65\u9aa4\u540e\uff0c\u65b0\u4efb\u52a1\u4f1a\u88ab\u4e3b\u7a0b\u5e8f\u81ea\u52a8\u52a0\u8f7d\u3001\u6309\u914d\u7f6e\u8c03\u5ea6\uff0c\u5e76\u5728\u914d\u7f6e\u53d8\u66f4\u65f6\u901a\u8fc7 ConfigWatcher \u70ed\u91cd\u8f7d\u3002</p>"},{"location":"SECONDARY_DEVELOPMENT/#web","title":"\u5341\u3001Web \u524d\u7aef\u5bf9\u65b0\u589e\u914d\u7f6e\u7684\u54cd\u5e94","text":"<ul> <li>\u6587\u672c\u89c6\u56fe\uff1a\u76f4\u63a5\u8bfb\u5199\u6574\u4efd <code>config.yml</code>\uff0c\u65b0\u589e\u7684\u4efb\u610f key\uff08\u5982 <code>plugins</code>\u3001<code>freenom</code>\u3001<code>weather</code> \u7b49\uff09\u90fd\u4f1a\u5b8c\u6574\u663e\u793a\u3001\u53ef\u7f16\u8f91\uff0c\u4fdd\u5b58\u540e\u6574\u4efd\u5199\u56de\uff0c\u4f1a\u6b63\u786e\u54cd\u5e94\u3002</li> <li>\u8868\u683c\u89c6\u56fe\uff1a\u5f53\u524d\u5c55\u793a\u5fae\u535a\u3001\u864e\u7259\u3001\u5404\u7c7b\u7b7e\u5230\u4efb\u52a1\uff08iKuuu\u3001\u8d34\u5427\u3001\u96e8\u4e91\u3001\u6069\u5c71\u3001\u963f\u91cc\u4e91\u76d8\u3001\u4ec0\u4e48\u503c\u5f97\u4e70\u3001Freenom\u3001\u5938\u514b\u3001\u79d1\u6280\u73a9\u5bb6\u3001\u5e06\u8f6f\u3001999\u3001zgfc\u3001\u53cc\u8272\u7403\u7b49\uff09\u3001\u8c03\u5ea6\u5668\u3001\u514d\u6253\u6270\u3001\u63a8\u9001\u901a\u9053\u4ee5\u53ca\u63d2\u4ef6\u914d\u7f6e\u7b49\u56fa\u5b9a\u533a\u5757\u3002</li> <li>\u5728\u8868\u683c\u89c6\u56fe\u4e2d\u4fee\u6539\u5e76\u4fdd\u5b58\u65f6\uff0c\u540e\u7aef\u4f1a\u5408\u5e76\u5199\u56de\uff0c\u56e0\u6b64\u6587\u4ef6\u4e2d\u5df2\u6709\u7684 <code>plugins</code> \u6216\u5176\u4ed6\u9876\u5c42\u8282\u70b9\u4e0d\u4f1a\u4e22\u5931\u3002  </li> <li>\u63d2\u4ef6\u914d\u7f6e\u53ef\u5728\u914d\u7f6e\u9875\u5e95\u90e8\u7684\u300c\u63d2\u4ef6/\u6269\u5c55\u914d\u7f6e\u300d\u4e2d\u4ee5 JSON \u5f62\u5f0f\u7f16\u8f91 <code>config.plugins</code>\uff1b\u5c1a\u672a\u5728\u8868\u683c\u4e2d\u5355\u72ec\u5217\u51fa\u7684\u9876\u5c42 key \u9700\u4f7f\u7528\u6587\u672c\u89c6\u56fe\u7f16\u8f91\u3002</li> </ul> <p>\u82e5\u4f60\u65b0\u589e\u4e86\u4e0e\u73b0\u6709\u533a\u5757\u540c\u7ea7\u7684\u914d\u7f6e\uff08\u4f8b\u5982\u65b0\u7684\u9876\u5c42\u8282\u70b9\uff09\uff0c\u5e76\u5e0c\u671b\u5728\u8868\u683c\u4e2d\u7f16\u8f91\uff0c\u9700\u5728 Web \u524d\u7aef\u589e\u52a0\u5bf9\u5e94\u5361\u7247\u53ca <code>loadSectionConfig</code> / <code>collectSectionConfig</code> / <code>collectConfig</code> \u7684\u5904\u7406\uff08\u53ef\u53c2\u8003\u672c\u6587\u6863\u4e2d\u5df2\u96c6\u6210\u7684 <code>freenom</code>/<code>weather</code>/<code>kuake</code>/<code>kjwj</code> \u7b49\u5b9e\u73b0\u65b9\u5f0f\uff09\u3002</p>"},{"location":"SECONDARY_DEVELOPMENT/#qlpy","title":"\u5341\u4e00\u3001\u9752\u9f99\u9762\u677f\u5355\u4efb\u52a1\u811a\u672c\uff08ql/*.py\uff09","text":"<p>\u9752\u9f99\u73af\u5883\u4e0b\uff0c\u4e3b\u7a0b\u5e8f\u4e0d\u8fd0\u884c\uff0c\u800c\u662f\u7531\u9752\u9f99\u6309 Cron \u8c03\u7528 <code>ql/*.py</code> \u5355\u4efb\u52a1\u811a\u672c\u3002\u8fd9\u4e9b\u811a\u672c\uff1a</p> <ul> <li>\u901a\u8fc7 <code>ql/_runner.py</code> \u4f5c\u4e3a\u7edf\u4e00\u5165\u53e3\uff0c\u6839\u636e\u811a\u672c\u540d\u6216\u547d\u4ee4\u884c\u53c2\u6570\u8c03\u7528\u5bf9\u5e94\u4efb\u52a1\u903b\u8f91</li> <li>\u914d\u7f6e\u6765\u81ea\u73af\u5883\u53d8\u91cf\uff08<code>WEBMONITER_*</code> \u524d\u7f00\uff09\uff0c\u7531 <code>src/ql_compat.py</code> \u7684 <code>load_config_from_env()</code> \u89e3\u6790</li> <li>\u63a8\u9001\u901a\u8fc7 qlapi \u901a\u9053\uff0c\u8c03\u7528\u9752\u9f99\u5185\u7f6e\u7684 <code>QLAPI.systemNotify</code></li> <li>\u4e0e <code>tasks/*</code>\u3001<code>monitors/*</code> \u4e3b\u6d41\u7a0b\u89e3\u8026\uff0c\u5171\u7528\u540c\u4e00\u5957\u4e1a\u52a1\u903b\u8f91\uff08\u5982\u7b7e\u5230\u3001\u76d1\u63a7 API \u8c03\u7528\uff09</li> </ul> <p>\u65b0\u589e\u9752\u9f99\u811a\u672c\uff1a\u590d\u5236 <code>ql/ikuuu_checkin.py</code> \u7b49\u793a\u4f8b\uff0c\u6309\u9700\u4fee\u6539\u4efb\u52a1\u540d\u3001\u73af\u5883\u53d8\u91cf\u540d\uff0c\u5e76\u5728 <code>ql/_runner.py</code> \u4e2d\u6ce8\u518c\u3002\u8be6\u89c1 \u9752\u9f99\u9762\u677f\u517c\u5bb9\u6307\u5357\u3002</p>"},{"location":"faq/","title":"\u5e38\u89c1\u95ee\u9898","text":"\u5982\u4f55\u66f4\u65b0 Cookie\uff1f <p>\u76f4\u63a5\u4fee\u6539 <code>config.yml</code> \u4e2d\u7684 Cookie \u503c\uff0c\u65e0\u9700\u91cd\u542f\u5bb9\u5668\u6216\u7a0b\u5e8f\u3002\u7cfb\u7edf\u652f\u6301\u914d\u7f6e\u70ed\u91cd\u8f7d\uff0c\u4f1a\u5728\u7ea6 5 \u79d2\u5185\u81ea\u52a8\u68c0\u6d4b\u5e76\u5e94\u7528\u65b0\u914d\u7f6e\u3002</p> \u76d1\u63a7\u4efb\u52a1\u6ca1\u6709\u6267\u884c\u600e\u4e48\u529e\uff1f <ol> <li>\u67e5\u770b\u65e5\u5fd7\uff1a<code>logs/main_*.log</code>\uff08\u603b\u65e5\u5fd7\uff09\u6216 <code>logs/task_{job_id}_*.log</code>\uff08\u4efb\u52a1\u4e13\u5c5e\u65e5\u5fd7\uff09\uff0c\u4e5f\u53ef\u5728 Web \u65e5\u5fd7\u9875\u9762\u5207\u6362\u67e5\u770b</li> <li>\u786e\u8ba4 <code>config.yml</code> \u683c\u5f0f\u6b63\u786e\uff08YAML \u8bed\u6cd5\uff09</li> <li>\u68c0\u67e5\u7f51\u7edc\u4e0e Cookie \u662f\u5426\u6709\u6548</li> <li>\u786e\u8ba4\u76d1\u63a7\u4efb\u52a1\u5df2\u542f\u7528\uff08\u5982 <code>enable: true</code>\uff0c\u6216\u5bf9\u5e94\u76d1\u63a7\u5757\u5df2\u914d\u7f6e\uff09</li> </ol> \u5982\u4f55\u8c03\u6574\u76d1\u63a7\u9891\u7387\uff1f <p>\u5728 <code>config.yml</code> \u4e2d\u4fee\u6539\u5bf9\u5e94\u95f4\u9694\uff08\u79d2\uff09\u5373\u53ef\uff0c\u65e0\u9700\u91cd\u542f\uff1a - \u5fae\u535a\uff1a<code>weibo.monitor_interval_seconds</code>\uff08\u9ed8\u8ba4 300\uff09 - \u864e\u7259\uff1a<code>huya.monitor_interval_seconds</code>\uff08\u9ed8\u8ba4 65\uff09 - \u54d4\u54e9\u54d4\u54e9\uff1a<code>bilibili.monitor_interval_seconds</code>\uff08\u9ed8\u8ba4 60\uff09 - \u6296\u97f3\uff1a<code>douyin.monitor_interval_seconds</code>\uff08\u9ed8\u8ba4 30\uff09 - \u6597\u9c7c\uff1a<code>douyu.monitor_interval_seconds</code>\uff08\u9ed8\u8ba4 300\uff09 - \u5c0f\u7ea2\u4e66\uff1a<code>xhs.monitor_interval_seconds</code>\uff08\u9ed8\u8ba4 300\uff09</p> \u6570\u636e\u5e93\u548c\u65e5\u5fd7\u6587\u4ef6\u5728\u54ea\u91cc\uff1f \u90e8\u7f72\u65b9\u5f0f \u6570\u636e\u5e93\u4f4d\u7f6e \u65e5\u5fd7\u4f4d\u7f6e Docker \u90e8\u7f72 <code>./data/</code> \u76ee\u5f55 <code>./logs/</code> \u76ee\u5f55 \u672c\u5730\u90e8\u7f72 <code>./data/</code> \u76ee\u5f55 <code>./logs/</code> \u76ee\u5f55 <p>\u65e5\u5fd7\u76ee\u5f55\u5185\u542b\uff1a - <code>main_YYYYMMDD.log</code>\uff1a\u5f53\u65e5\u603b\u65e5\u5fd7 - <code>task_{\u4efb\u52a1ID}_YYYYMMDD.log</code>\uff1a\u5404\u4efb\u52a1\u4e13\u5c5e\u65e5\u5fd7</p> Web \u754c\u9762\u65e0\u6cd5\u8bbf\u95ee\u600e\u4e48\u529e\uff1f <ol> <li>\u786e\u8ba4\u7a0b\u5e8f\u5df2\u6b63\u5e38\u542f\u52a8\uff08\u770b\u63a7\u5236\u53f0\u6216\u65e5\u5fd7\uff09</li> <li>\u786e\u8ba4\u7aef\u53e3 8866 \u672a\u88ab\u5360\u7528</li> <li>Docker \u90e8\u7f72\u65f6\u786e\u8ba4\u7aef\u53e3\u6620\u5c04\u4e3a <code>8866:8866</code></li> <li>\u68c0\u67e5\u9632\u706b\u5899\u662f\u5426\u653e\u884c 8866</li> </ol> \u514d\u6253\u6270\u65f6\u6bb5\u5185\u4f1a\u9057\u6f0f\u6d88\u606f\u5417\uff1f <p>\u514d\u6253\u6270\u65f6\u6bb5\u5185\uff0c\u76d1\u63a7\u4efb\u52a1\u4f1a\u7167\u5e38\u6267\u884c\u5e76\u66f4\u65b0\u6570\u636e\u5e93\uff0c\u4f46\u4e0d\u4f1a\u63a8\u9001\u901a\u77e5\u3002\u82e5\u62c5\u5fc3\u9057\u6f0f\uff0c\u53ef\u67e5\u770b\u65e5\u5fd7\u6216\u6570\u636e\u8bb0\u5f55\uff0c\u6216\u5173\u95ed\u514d\u6253\u6270\u914d\u7f6e\u3002</p> \u9752\u9f99\u9762\u677f\u5982\u4f55\u90e8\u7f72\uff1f <p>\u5728\u9752\u9f99\u300c\u73af\u5883\u53d8\u91cf\u300d\u4e2d\u6dfb\u52a0 <code>WEBMONITER_*</code> \u524d\u7f00\u7684\u53d8\u91cf\uff08\u5982 <code>WEBMONITER_CHECKIN_ENABLE</code>\u3001<code>WEBMONITER_CHECKIN_EMAIL</code>\uff09\uff0c\u62c9\u53d6\u6216\u514b\u9686\u9879\u76ee\u540e\uff0c\u5728\u300c\u5b9a\u65f6\u4efb\u52a1\u300d\u4e2d\u6dfb\u52a0 <code>task ql/ikuuu_checkin.py</code> \u7b49\u811a\u672c\u3002\u63a8\u9001\u81ea\u52a8\u8d70\u9752\u9f99\u5185\u7f6e\u901a\u77e5\uff08QLAPI\uff09\u3002\u8be6\u89c1 \u9752\u9f99\u9762\u677f\u517c\u5bb9\u6307\u5357\u3002</p> \u5982\u4f55\u542f\u7528 AI \u52a9\u624b\uff1f <ol> <li>\u6267\u884c <code>uv sync</code> \u5b89\u88c5\u4f9d\u8d56\uff08\u5df2\u5305\u542b AI \u76f8\u5173\u5305\uff09</li> <li>\u5728 <code>config.yml</code> \u4e2d\u914d\u7f6e <code>ai_assistant</code> \u8282\u70b9\uff0c\u8bbe\u7f6e <code>enable: true</code> \u4ee5\u53ca <code>provider</code>\u3001<code>api_key</code>\u3001<code>model</code> \u7b49</li> <li>\u91cd\u542f\u6216\u7b49\u5f85\u70ed\u91cd\u8f7d\u540e\uff0c\u5728\u914d\u7f6e\u7ba1\u7406\u3001\u4efb\u52a1\u7ba1\u7406\u3001\u6570\u636e\u5c55\u793a\u9875\u9762\u5e95\u90e8\u5373\u53ef\u770b\u5230\u300c\u95ee AI\u300d\u5165\u53e3</li> </ol> <p>\u652f\u6301 OpenAI\u3001DeepSeek\u3001\u901a\u4e49\u5343\u95ee\u3001\u667a\u8c31\u3001Moonshot\u3001Ollama \u7b49 OpenAI \u517c\u5bb9 API\u3002\u8be6\u89c1 AI \u52a9\u624b\u4f7f\u7528\u6307\u5357\u3002</p> Docker \u90e8\u7f72\u4e0b\u96e8\u4e91\u7b7e\u5230\u5982\u4f55\u542f\u7528\uff1f <p>Docker \u955c\u50cf\u5df2\u5185\u7f6e Chromium\u3002\u5728 <code>config.yml</code> \u4e2d\u8bbe\u7f6e <code>rainyun.enable: true</code> \u5e76\u914d\u7f6e <code>rainyun.accounts</code>\uff08\u6bcf\u9879\u542b <code>username</code>\u3001<code>password</code>\uff0c<code>api_key</code> \u53ef\u9009\u7528\u4e8e\u7eed\u8d39\uff09\u5373\u53ef\u3002\u5bb9\u5668\u542f\u52a8\u65f6\u81ea\u52a8\u4f7f\u7528 <code>/usr/bin/chromium</code> \u548c <code>/usr/bin/chromedriver</code>\u3002\u82e5\u4f7f\u7528\u81ea\u5efa\u955c\u50cf\u4e14 Chromium \u8def\u5f84\u4e0d\u540c\uff0c\u53ef\u914d\u7f6e <code>rainyun.chrome_bin</code> \u4e0e <code>rainyun.chromedriver_path</code>\uff0c\u6216\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf <code>CHROME_BIN</code>\u3001<code>CHROMEDRIVER_PATH</code>\u3002</p> \u5b9a\u65f6\u4efb\u52a1\u4e3a\u4ec0\u4e48\u663e\u793a\u300c\u5f53\u5929\u5df2\u7ecf\u8fd0\u884c\u8fc7\u4e86\uff0c\u8df3\u8fc7\u8be5\u4efb\u52a1\u300d\uff1f <p>\u5b9a\u65f6\u4efb\u52a1\u9ed8\u8ba4\u4f1a\u68c0\u67e5\u5f53\u5929\u662f\u5426\u5df2\u8fd0\u884c\u8fc7\uff08\u901a\u8fc7 <code>task_run_history</code> \u8868\u8bb0\u5f55\uff09\uff0c\u82e5\u5df2\u8fd0\u884c\u5219\u8df3\u8fc7\uff0c\u907f\u514d\u91cd\u590d\u6267\u884c\u3002\u7a0b\u5e8f\u91cd\u542f\u6216\u5b9a\u65f6\u89e6\u53d1\u65f6\u90fd\u4f1a\u8fdb\u884c\u6b64\u68c0\u67e5\u3002\u82e5\u9700\u7acb\u5373\u518d\u6267\u884c\u4e00\u6b21\uff0c\u53ef\u901a\u8fc7 Web \u7ba1\u7406\u754c\u9762\u300c\u4efb\u52a1\u7ba1\u7406\u300d\u9875\u9762\u7684\u300c\u7acb\u5373\u8fd0\u884c\u300d\u624b\u52a8\u89e6\u53d1\uff0c\u4f1a\u7ed5\u8fc7\u8be5\u68c0\u67e5\u5e76\u5f3a\u5236\u6267\u884c\u3002</p> Docker \u4e0b RAG \u5411\u91cf\u5e93\u66f4\u65b0\u5931\u8d25\u6216\u62a5\u300cdatabase is locked / no such table: tenants\u300d\uff1f <p>\u955c\u50cf\u5df2\u901a\u8fc7 docker-entrypoint.sh \u5728\u542f\u52a8\u524d\u4e3a\u6302\u8f7d\u7684 <code>data/</code>\u3001<code>logs/</code> \u53ca\u5176\u5b50\u76ee\u5f55\u8d4b\u4e88\u8bfb\u5199\u6743\u9650\uff0c\u907f\u514d bind mount \u5bfc\u81f4 SQLite / Chroma \u53ea\u8bfb\u3002\u82e5\u4ecd\u62a5\u9519\uff1a</p> <ol> <li>\u786e\u8ba4\u4f7f\u7528\u542b\u5165\u53e3\u811a\u672c\u7684\u955c\u50cf\uff1a\u91cd\u65b0\u6784\u5efa\u6216\u62c9\u53d6\u6700\u65b0\u955c\u50cf\u540e\u6267\u884c <code>docker compose up -d</code></li> <li>Chroma schema \u4e0d\u517c\u5bb9\uff1a\u82e5\u66fe\u5347\u7ea7 Chroma \u7248\u672c\uff0c\u53ef\u5220\u9664\u5bbf\u4e3b\u673a\u4e0a\u7684 <code>./data/ai_assistant_chroma</code> \u76ee\u5f55\u540e\u91cd\u542f\u5bb9\u5668\uff0c\u7531\u542f\u52a8\u65f6\u81ea\u52a8\u91cd\u5efa\u5411\u91cf\u5e93</li> <li>\u5bbf\u4e3b\u673a\u6743\u9650\uff1a\u5728 Linux \u5bbf\u4e3b\u673a\u4e0a\u53ef\u6267\u884c <code>chmod -R 777 ./data ./logs</code> \u540e\u518d\u542f\u52a8\u5bb9\u5668</li> </ol>"},{"location":"installation/","title":"\u5b89\u88c5\u4e0e\u8fd0\u884c","text":"<p>\u652f\u6301 Docker\uff08\u63a8\u8350\uff09\u3001Windows \u4e00\u952e\u5305 \u548c \u672c\u5730 Python \u4e09\u79cd\u65b9\u5f0f\u3002\u90e8\u7f72\u5b8c\u6210\u540e\u8bbf\u95ee <code>http://localhost:8866</code>\uff0c\u9ed8\u8ba4\u8d26\u53f7 <code>admin</code> / <code>123</code>\u3002</p>"},{"location":"installation/#_2","title":"\u90e8\u7f72\u5b8c\u6210\u540e\u6548\u679c","text":"<p>\u542f\u52a8\u6210\u529f\u540e\uff0c\u5728\u6d4f\u89c8\u5668\u8bbf\u95ee <code>http://localhost:8866</code>\uff0c\u4f7f\u7528\u9ed8\u8ba4\u8d26\u53f7 <code>admin</code> / <code>123</code> \u767b\u5f55\uff0c\u5373\u53ef\u770b\u5230 Web \u7ba1\u7406\u754c\u9762\uff1a</p> \u914d\u7f6e\u7ba1\u7406\uff08\u767b\u5f55\u540e\u9ed8\u8ba4\u9996\u9875\uff09 \u4efb\u52a1\u7ba1\u7406 \u5de6\u4fa7\u5bfc\u822a + \u53f3\u4fa7\u7f16\u8f91\u533a\uff0c\u4fee\u6539\u540e\u81ea\u52a8\u70ed\u91cd\u8f7d \u4fa7\u8fb9\u680f\u53ef\u5207\u6362\uff1a\u914d\u7f6e\u7ba1\u7406\u3001\u4efb\u52a1\u7ba1\u7406\u3001\u6570\u636e\u5c55\u793a\u3001\u65e5\u5fd7\u67e5\u770b <p>\u4e0b\u4e00\u6b65</p> <p>\u767b\u5f55\u540e\u5efa\u8bae\uff1a\u2460 \u5728\u300c\u5bc6\u7801\u4fee\u6539\u300d\u4e2d\u4fee\u6539\u9ed8\u8ba4\u5bc6\u7801\uff1b\u2461 \u5728\u300c\u914d\u7f6e\u7ba1\u7406\u300d\u4e2d\u914d\u7f6e\u81f3\u5c11\u4e00\u4e2a\u63a8\u9001\u901a\u9053\u548c\u8981\u4f7f\u7528\u7684\u4efb\u52a1\u3002</p>"},{"location":"installation/#docker","title":"Docker \u90e8\u7f72\uff08\u63a8\u8350\uff09","text":"<p>\u8981\u6c42: Docker &gt;= 20.10\u3001Docker Compose &gt;= 2.0\uff0c\u652f\u6301 amd64 / arm64\u3002</p> <pre><code># 1. \u514b\u9686\u9879\u76ee\ngit clone https://github.com/666fy666/WebMoniter.git\ncd WebMoniter\n\n# 2. \u590d\u5236\u5e76\u7f16\u8f91\u914d\u7f6e\u6587\u4ef6\ncp config.yml.sample config.yml\n# \u7f16\u8f91 config.yml\uff0c\u914d\u7f6e\u76d1\u63a7\u4efb\u52a1\u548c\u63a8\u9001\u901a\u9053\n\n# 3. \u542f\u52a8\u670d\u52a1\ndocker compose up -d\n</code></pre> <p>\u63d0\u793a</p> <ul> <li><code>config.yml</code> \u652f\u6301\u70ed\u91cd\u8f7d\uff08\u7ea6 5 \u79d2\u751f\u6548\uff09\uff0c\u65e0\u9700\u91cd\u542f</li> <li>\u6570\u636e\u6301\u4e45\u5316\uff1a<code>config.yml</code>\u3001<code>data/</code>\u3001<code>logs/</code> \u5df2\u6302\u8f7d\uff0c<code>docker compose down</code> \u4e0d\u4f1a\u4e22\u5931</li> <li>\u5bb9\u5668\u542f\u52a8\u65f6\u4f1a\u901a\u8fc7 docker-entrypoint.sh \u81ea\u52a8\u4e3a <code>data/</code>\u3001<code>logs/</code> \u53ca\u5176\u5b50\u76ee\u5f55\u8d4b\u4e88\u8bfb\u5199\u6743\u9650\uff0c\u907f\u514d bind mount \u5bfc\u81f4 SQLite \u4e0e RAG \u5411\u91cf\u5e93\uff08Chroma\uff09\u53ea\u8bfb\u65e0\u6cd5\u5199\u5165</li> <li>\u9ed8\u8ba4\u7aef\u53e3 8866\uff0c\u5982\u9700\u4fee\u6539\u53ef\u5728 <code>environment</code> \u4e2d\u589e\u52a0 <code>PORT=8080</code> \u7b49\uff0c\u5e76\u5728 <code>ports</code> \u4e2d\u6620\u5c04\u5bf9\u5e94\u7aef\u53e3</li> </ul>"},{"location":"installation/#windows","title":"Windows \u90e8\u7f72","text":"<p>\u65e0\u9700\u5b89\u88c5 Python \u73af\u5883\uff0c\u4e0b\u8f7d\u5373\u7528\u3002</p> <ol> <li>\u524d\u5f80 GitHub Releases \u4e0b\u8f7d\u6700\u65b0\u7684 <code>WebMoniter-vX.X.X-windows-x64.zip</code></li> <li>\u89e3\u538b\u5230\u4efb\u610f\u76ee\u5f55</li> <li>\u5c06 <code>config.yml.sample</code> \u590d\u5236\u4e3a <code>config.yml</code>\uff0c\u5e76\u6309\u9700\u7f16\u8f91\u914d\u7f6e</li> <li>\u53cc\u51fb <code>WebMoniter.exe</code> \u542f\u52a8\uff08\u4f1a\u5f39\u51fa\u63a7\u5236\u53f0\u7a97\u53e3\u663e\u793a\u65e5\u5fd7\uff09</li> </ol> <p>\u63d0\u793a</p> <ul> <li>\u9996\u6b21\u8fd0\u884c Windows \u9632\u706b\u5899\u53ef\u80fd\u63d0\u793a\u7f51\u7edc\u8bbf\u95ee\u6743\u9650\uff0c\u8bf7\u5141\u8bb8</li> <li>\u5173\u95ed\u63a7\u5236\u53f0\u7a97\u53e3\u5373\u53ef\u505c\u6b62\u7a0b\u5e8f</li> <li><code>config.yml</code> \u652f\u6301\u70ed\u91cd\u8f7d\uff0c\u4fee\u6539\u914d\u7f6e\u65e0\u9700\u91cd\u542f</li> </ul>"},{"location":"installation/#_3","title":"\u9752\u9f99\u9762\u677f\u90e8\u7f72","text":"<p>\u9002\u7528\uff1a\u5df2\u5b89\u88c5 \u9752\u9f99\u9762\u677f \u7684\u7528\u6237\u3002\u901a\u8fc7\u73af\u5883\u53d8\u91cf\u914d\u7f6e\u53c2\u6570\uff0c\u63a8\u9001\u81ea\u52a8\u8d70\u9752\u9f99\u5185\u7f6e\u901a\u77e5\uff08QLAPI\uff09\uff0c\u4e0e\u4e3b\u9879\u76ee\u903b\u8f91\u5b8c\u5168\u517c\u5bb9\u3002</p> <p>\u5feb\u901f\u6b65\u9aa4\uff1a</p> <ol> <li>\u6dfb\u52a0\u73af\u5883\u53d8\u91cf\uff08\u9752\u9f99 \u2192 \u73af\u5883\u53d8\u91cf\uff09\uff1a\u5982 <code>WEBMONITER_CHECKIN_ENABLE=true</code>\u3001<code>WEBMONITER_CHECKIN_EMAIL</code>\u3001<code>WEBMONITER_CHECKIN_PASSWORD</code></li> <li>\u62c9\u53d6\u811a\u672c\uff1a\u8ba2\u9605 <code>https://github.com/666fy666/WebMoniter</code>\uff0c\u767d\u540d\u5355 <code>ql/*.py</code>\uff1b\u6216\u4f7f\u7528 <code>ql raw</code> \u62c9\u53d6\u5355\u4e2a\u811a\u672c</li> <li>\u6dfb\u52a0\u5b9a\u65f6\u4efb\u52a1\uff1a\u547d\u4ee4 <code>task WebMoniter/ql/ikuuu_checkin.py</code>\uff0c\u5b9a\u65f6\u89c4\u5219 <code>0 8 * * *</code>\uff08\u793a\u4f8b\uff09</li> </ol> <p>\u63a8\u9001\u901a\u77e5</p> <p>\u9752\u9f99\u73af\u5883\u4e0b\u81ea\u52a8\u4f7f\u7528\u9752\u9f99\u7cfb\u7edf\u901a\u77e5\uff0c\u5728\u9752\u9f99\u300c\u7cfb\u7edf\u8bbe\u7f6e \u2192 \u901a\u77e5\u8bbe\u7f6e\u300d\u4e2d\u914d\u7f6e\u63a8\u9001\u65b9\u5f0f\u5373\u53ef\uff0c\u65e0\u9700\u989d\u5916\u914d\u7f6e\u3002</p> <p>\u5b8c\u6574\u64cd\u4f5c\u6307\u5357\uff08\u73af\u5883\u53d8\u91cf\u4e00\u89c8\u3001\u591a\u8d26\u53f7\u914d\u7f6e\u3001\u5e38\u89c1\u95ee\u9898\uff09\uff1a\u9752\u9f99\u9762\u677f\u517c\u5bb9\u6307\u5357</p>"},{"location":"installation/#_4","title":"\u672c\u5730\u5b89\u88c5","text":"<p>\u8981\u6c42: Python &gt;= 3.10\u3001uv</p> <pre><code># 1. \u514b\u9686\u9879\u76ee\ngit clone https://github.com/666fy666/WebMoniter.git\ncd WebMoniter\n\n# 2. \u5b89\u88c5\u4f9d\u8d56\nuv sync --locked\n\n# 3. \u590d\u5236\u914d\u7f6e\u6587\u4ef6\ncp config.yml.sample config.yml\n\n# 4. \u542f\u52a8\u7a0b\u5e8f\uff08\u9ed8\u8ba4\u7aef\u53e3 8866\uff0c\u53ef\u901a\u8fc7\u73af\u5883\u53d8\u91cf PORT \u8986\u76d6\uff0c\u5982 PORT=8080 uv run python main.py\uff09\nuv run python main.py\n\n# \u540e\u53f0\u542f\u52a8\uff08\u63a8\u8350\u7528\u4e8e\u957f\u671f\u8fd0\u884c\uff09\nuv run python main.py &amp;\n\n# \u53ef\u9009\uff1a\u5c06\u65e5\u5fd7\u8f93\u51fa\u91cd\u5b9a\u5411\u5230\u6587\u4ef6\n# uv run python main.py &gt; webmoniter.log 2&gt;&amp;1 &amp;\n\n# \u53ef\u9009\uff1a\u542f\u7528 AI \u52a9\u624b\uff08\u914d\u7f6e\u751f\u6210\u3001\u65e5\u5fd7\u8bca\u65ad\u3001\u6570\u636e\u6d1e\u5bdf\u7b49\uff09\n# \u5728 config.yml \u4e2d\u914d\u7f6e ai_assistant \u8282\u70b9\uff08enable: true\uff0cprovider\u3001api_key\u3001model \u7b49\uff09\uff0cuv sync \u5df2\u5305\u542b AI \u4f9d\u8d56\n</code></pre>"},{"location":"installation/#_5","title":"\u66f4\u65b0","text":"\u90e8\u7f72\u65b9\u5f0f \u66f4\u65b0\u65b9\u5f0f Docker <code>docker compose pull &amp;&amp; docker compose up -d</code> Windows \u4e0b\u8f7d\u6700\u65b0 Release \u7684 ZIP\uff0c\u89e3\u538b\u8986\u76d6\uff08\u4fdd\u7559 <code>config.yml</code>\uff09 \u672c\u5730 <code>git pull</code> \u2192 <code>uv sync --locked</code> \u2192 \u91cd\u542f\u5e94\u7528 <p>\u63d0\u793a</p> <p>\u914d\u7f6e\u652f\u6301\u70ed\u91cd\u8f7d\uff0c\u591a\u6570\u66f4\u65b0\u65e0\u9700\u91cd\u542f\u3002\u66f4\u65b0\u524d\u5efa\u8bae\u5907\u4efd <code>config.yml</code>\u3001<code>data/</code>\u3002</p> <p>\u7248\u672c\u66f4\u65b0\u63d0\u9192\uff1a\u767b\u5f55 Web \u7ba1\u7406\u754c\u9762\u540e\uff0c\u4fa7\u8fb9\u680f\u5e95\u90e8\u663e\u793a\u5f53\u524d\u7248\u672c\u53f7\uff1b\u82e5\u68c0\u6d4b\u5230\u65b0\u7248\u672c\uff0c\u9875\u9762\u9876\u90e8\u4f1a\u663e\u793a\u66f4\u65b0\u63d0\u793a\u6a2a\u5e45\uff0c\u53ef\u8df3\u8f6c\u81f3 GitHub Releases \u67e5\u770b\u3002</p>"},{"location":"assets/screenshots/","title":"\u622a\u56fe\u76ee\u5f55","text":"<p>\u6784\u5efa\u6587\u6863\u7ad9\u65f6\uff0c<code>.github/workflows/docs.yml</code> \u4f1a\u5c06 <code>web/static/*.png</code>\u3001<code>web/static/*.jpg</code> \u540c\u6b65\u5230\u6b64\u76ee\u5f55\u3002</p> <p>\u82e5\u672c\u5730\u9884\u89c8\u65f6\u56fe\u7247\u7f3a\u5931\uff0c\u53ef\u5c06\u622a\u56fe\u653e\u5165 <code>web/static/</code> \u76ee\u5f55\uff08\u5982 <code>\u914d\u7f6e\u7ba1\u7406.png</code>\u3001<code>AI\u52a9\u624b\u529f\u80fd\u4ecb\u7ecd.png</code>\u3001<code>\u4f01\u4e1a\u5fae\u4fe1\u67e5\u8be2\u6570\u636e1.jpg</code> \u7b49\uff09\uff0c\u6216\u76f4\u63a5\u653e\u5165\u672c\u76ee\u5f55\u540e\u6267\u884c <code>uv run mkdocs serve</code> \u9884\u89c8\u3002</p>"},{"location":"guides/ai-assistant/","title":"AI \u52a9\u624b","text":"<p>AI \u52a9\u624b\u901a\u8fc7 RAG\uff08\u68c0\u7d22\u589e\u5f3a\u751f\u6210\uff09+ LLM \u4e3a WebMoniter \u63d0\u4f9b\u667a\u80fd\u5bf9\u8bdd\u80fd\u529b\uff0c\u652f\u6301\u914d\u7f6e\u751f\u6210\u3001\u65e5\u5fd7\u8bca\u65ad\u3001\u6570\u636e\u6d1e\u5bdf\u4e0e\u5f53\u524d\u72b6\u6001\u67e5\u8be2\u3002</p>"},{"location":"guides/ai-assistant/#_1","title":"\u5165\u53e3","text":"<ul> <li>Web \u754c\u9762\uff1a\u5728\u914d\u7f6e\u7ba1\u7406\u3001\u4efb\u52a1\u7ba1\u7406\u3001\u6570\u636e\u5c55\u793a\u9875\u9762\u5e95\u90e8\u6709\u60ac\u6d6e\u300c\u95ee AI\u300d\u6309\u94ae</li> <li>\u63a8\u9001\u5e73\u53f0\uff1a\u652f\u6301\u5728\u4f01\u4e1a\u5fae\u4fe1\u3001Telegram \u7b49\u5177\u5907\u4ea4\u4e92\u80fd\u529b\u7684\u63a8\u9001\u6e20\u9053\u4e2d\u4e0e AI \u5bf9\u8bdd</li> </ul>"},{"location":"guides/ai-assistant/#web","title":"Web \u754c\u9762\u793a\u610f","text":"\u529f\u80fd\u4ecb\u7ecd \u4fee\u6539\u914d\u7f6e \u6267\u884c\u4efb\u52a1 \u67e5\u8be2\u6570\u636e"},{"location":"guides/ai-assistant/#_2","title":"\u5e73\u53f0\u4ea4\u4e92\u63a5\u5165","text":"<p>\u4ee5\u4e0b\u63a8\u9001\u6e20\u9053\u652f\u6301\u63a5\u6536\u7528\u6237\u6d88\u606f\u5e76\u56de\u590d AI \u52a9\u624b\uff0c\u53ef\u5728\u5bf9\u5e94\u5e94\u7528\u4e2d\u76f4\u63a5\u5bf9\u8bdd\uff1a</p> \u5e73\u53f0 \u914d\u7f6e\u9879 Webhook URL \u8bf4\u660e \u4f01\u4e1a\u5fae\u4fe1\u81ea\u5efa\u5e94\u7528 <code>callback_token</code>\u3001<code>encoding_aes_key</code> <code>{base_url}/api/webhooks/wecom</code> \u5728\u4f01\u4e1a\u5fae\u4fe1\u540e\u53f0\u300c\u63a5\u6536\u6d88\u606f\u300d\u914d\u7f6e URL\uff1b\u53c2\u8003 \u4f01\u4e1a\u5fae\u4fe1\u6587\u6863 Telegram \u673a\u5668\u4eba <code>api_token</code> <code>{base_url}/api/webhooks/telegram/{\u901a\u9053\u540d}</code> \u8c03\u7528 <code>setWebhook</code> \u8bbe\u7f6e URL\uff1b\u53c2\u8003 Telegram \u6587\u6863 <p>\u4ec5\u652f\u6301\u63a8\u9001\u7684\u6e20\u9053\uff08\u9489\u9489\u7fa4\u673a\u5668\u4eba\u3001\u98de\u4e66\u7fa4\u673a\u5668\u4eba\u3001Bark\u3001WxPusher \u7b49\uff09\u65e0\u9700\u4fee\u6539\uff0c\u4fdd\u6301\u539f\u6709\u5355\u5411\u63a8\u9001\u5373\u53ef\u3002</p>"},{"location":"guides/ai-assistant/#_3","title":"\u4f01\u4e1a\u5fae\u4fe1\u5e94\u7528\u63a5\u5165\u6b65\u9aa4","text":"<ol> <li>\u5728 <code>config.yml</code> \u7684 <code>push_channel</code> \u4e2d\uff0c\u4e3a\u5bf9\u5e94\u4f01\u4e1a\u5fae\u4fe1\u5e94\u7528\u8865\u5145\uff1a</li> <li><code>callback_token</code>\uff1a\u4f01\u4e1a\u5fae\u4fe1\u540e\u53f0\u300c\u6211\u7684\u4f01\u4e1a\u300d\u2192\u300c\u63a5\u6536\u6d88\u606f\u300d\u4e2d\u914d\u7f6e\u7684 Token</li> <li><code>encoding_aes_key</code>\uff1a\u540c\u4e0a\uff0cEncodingAESKey\uff0843 \u5b57\u7b26\uff09</li> <li><code>corp_id</code>\u3001<code>corp_secret</code>\u3001<code>agent_id</code>\uff1a\u4e0e\u63a8\u9001\u914d\u7f6e\u76f8\u540c\uff0c\u7528\u4e8e\u5f02\u6b65\u56de\u590d\uff08\u88ab\u52a8\u56de\u590d 5 \u79d2\u8d85\u65f6\uff0cAI \u901a\u8fc7 API \u4e3b\u52a8\u63a8\u9001\uff09</li> <li>\u5728\u4f01\u4e1a\u5fae\u4fe1\u7ba1\u7406\u540e\u53f0\u300c\u5e94\u7528\u7ba1\u7406\u300d\u2192 \u9009\u62e9\u5e94\u7528 \u2192\u300c\u63a5\u6536\u6d88\u606f\u300d\u4e2d\uff1a</li> <li>URL \u586b\uff1a<code>https://\u4f60\u7684\u57df\u540d/api/webhooks/wecom</code></li> <li>Token\u3001EncodingAESKey \u4e0e config.yml \u4e2d\u4fdd\u6301\u4e00\u81f4</li> <li>\u4fdd\u5b58\u540e\uff0c\u6210\u5458\u5728\u4f01\u4e1a\u5fae\u4fe1\u4e2d\u5411\u8be5\u5e94\u7528\u53d1\u9001\u6587\u5b57\u5373\u53ef\u4e0e AI \u5bf9\u8bdd</li> </ol> <p>\u4f01\u4e1a\u5fae\u4fe1\u540e\u53f0\u4e0e\u4ea4\u4e92\u793a\u610f\uff1a</p> \u540e\u53f0\u914d\u7f6e \u67e5\u8be2\u6570\u636e\uff081\uff09 \u67e5\u8be2\u6570\u636e\uff082\uff09 \u67e5\u8be2\u6570\u636e\uff083\uff09"},{"location":"guides/ai-assistant/#telegram","title":"Telegram \u63a5\u5165\u6b65\u9aa4","text":"<ol> <li>\u5728 <code>config.yml</code> \u4e2d\u914d\u7f6e <code>telegram_bot</code> \u901a\u9053\u7684 <code>api_token</code>\u3001<code>chat_id</code></li> <li>\u8c03\u7528 Telegram API \u8bbe\u7f6e Webhook\uff08\u5c06 <code>\u901a\u9053\u540d</code> \u66ff\u6362\u4e3a config \u4e2d\u7684 name\uff0c\u5982\u300cTelegram\u673a\u5668\u4eba\u300d\u9700 URL \u7f16\u7801\uff09\uff1a    <pre><code>https://api.telegram.org/bot&lt;api_token&gt;/setWebhook?url=https://\u4f60\u7684\u57df\u540d/api/webhooks/telegram/\u901a\u9053\u540d\n</code></pre></li> <li>\u7528\u6237\u5411\u8be5\u673a\u5668\u4eba\u53d1\u9001\u6d88\u606f\u5373\u53ef\u4e0e AI \u5bf9\u8bdd</li> </ol>"},{"location":"guides/ai-assistant/#_4","title":"\u4f1a\u8bdd\u7ba1\u7406","text":"<ul> <li>\u65b0\u5efa\u5bf9\u8bdd\uff1a\u70b9\u51fb\u300c\u65b0\u5efa\u300d\u6309\u94ae\u521b\u5efa\u65b0\u4f1a\u8bdd</li> <li>\u5207\u6362\u4f1a\u8bdd\uff1a\u5728\u9876\u90e8\u4f1a\u8bdd\u5217\u8868\u4e2d\u70b9\u51fb\u4e0d\u540c\u4f1a\u8bdd\u5207\u6362</li> <li>\u5220\u9664\u4f1a\u8bdd\uff1a\u70b9\u51fb\u4f1a\u8bdd\u65c1\u7684 \u00d7 \u6309\u94ae\uff0c\u786e\u8ba4\u540e\u5373\u5220\u9664</li> </ul> <p>\u4f1a\u8bdd\u4e0e\u6d88\u606f\u4f1a\u6301\u4e45\u5316\u5230 <code>data/ai_assistant_conversations.json</code>\uff0c\u5237\u65b0\u6216\u91cd\u542f\u540e\u4ecd\u53ef\u7ee7\u7eed\u5bf9\u8bdd\u3002</p>"},{"location":"guides/ai-assistant/#_5","title":"\u652f\u6301\u7684\u95ee\u9898\u7c7b\u578b","text":"\u7c7b\u578b \u793a\u4f8b \u914d\u7f6e\u751f\u6210 \u300c\u6211\u60f3\u6bcf\u5929 8 \u70b9\u7b7e iKuuu\uff0c\u63a8\u9001\u5230\u4f01\u4e1a\u5fae\u4fe1\u300d \u65e5\u5fd7\u8bca\u65ad \u300c\u5fae\u535a\u76d1\u63a7\u6700\u8fd1\u62a5\u9519\u4e86\u5417\u300d\u300c\u6709\u4ec0\u4e48\u5931\u8d25\u300d \u6570\u636e\u6d1e\u5bdf \u300c\u6700\u8fd1\u8c01\u5f00\u64ad\u4e86\u300d\u300c\u672c\u5468\u8c01\u5f00\u64ad\u6700\u9891\u7e41\u300d\u300c\u6700\u8fd1\u8c01\u53d1\u535a\u6700\u591a\u300d \u5f53\u524d\u72b6\u6001 \u300c\u864e\u7259\u8c01\u5728\u76f4\u64ad\u300d\u300cB\u7ad9\u548c\u6296\u97f3\u6700\u65b0\u72b6\u6001\u300d\u300c\u8c01\u6b63\u5728\u76f4\u64ad\u300d \u53ef\u6267\u884c\u64cd\u4f5c \u300c\u5173\u95ed\u6296\u97f3\u76d1\u63a7\u300d\u300c\u5f00\u542f\u864e\u7259\u76d1\u63a7\u300d\u300c\u628a\u5fae\u535a\u5173\u6389\u300d\u2014 \u8bc6\u522b\u540e\u5f39\u51fa\u786e\u8ba4\u5f39\u7a97\uff0c\u786e\u8ba4\u5373\u53ef\u6267\u884c\uff08\u4fee\u6539 config \u5e76\u70ed\u91cd\u8f7d\uff09 \u914d\u7f6e\u5217\u8868\u589e\u5220 \u300c\u5220\u9664\u864e\u7259\u4e3b\u64ad100\u300d\u300c\u6dfb\u52a0\u864e\u7259\u623f\u95f4200\u300d\u300c\u79fb\u9664B\u7ad9\u7528\u6237xxx\u300d\u300c\u52a0\u5165\u6296\u97f3yyy\u300d\u2014 \u8bc6\u522b\u540e\u5f39\u51fa\u786e\u8ba4\u5f39\u7a97\uff0c\u786e\u8ba4\u5373\u53ef\u81ea\u52a8\u4fee\u6539 config.yml \u5e76\u70ed\u91cd\u8f7d"},{"location":"guides/ai-assistant/#_6","title":"\u914d\u7f6e\u8bf4\u660e","text":"<p>\u5728 <code>config.yml</code> \u4e2d\u589e\u52a0 <code>ai_assistant</code> \u8282\u70b9\uff1a</p> <pre><code>ai_assistant:\n  enable: true\n  provider: deepseek  # openai | deepseek | qwen | zhipu | moonshot | ollama | openai_compatible\n  api_base: \"\"        # \u7559\u7a7a\u4f7f\u7528 provider \u9ed8\u8ba4\uff1bollama \u4e3a http://localhost:11434/v1\uff1bopenai_compatible \u65f6\u5fc5\u586b\n  api_key: \"\"         # \u6216\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf AI_ASSISTANT_API_KEY\n  model: deepseek-chat\n  embedding_model: text-embedding-3-small\n  chroma_persist_dir: data/ai_assistant_chroma\n  rate_limit_per_minute: 10\n  max_history_rounds: 10\n</code></pre>"},{"location":"guides/ai-assistant/#api_base","title":"\u4e3b\u6d41\u5382\u5546 api_base \u793a\u4f8b","text":"\u5382\u5546 api_base OpenAI https://api.openai.com/v1 DeepSeek https://api.deepseek.com \u901a\u4e49\u5343\u95ee https://dashscope.aliyuncs.com/compatible-mode/v1 \u667a\u8c31 GLM https://open.bigmodel.cn/api/paas/v4 Moonshot https://api.moonshot.cn/v1 Ollama http://localhost:11434/v1"},{"location":"guides/ai-assistant/#_7","title":"\u5b89\u88c5\u4f9d\u8d56","text":"<pre><code>uv sync\n</code></pre> <p>\u9700\u5b89\u88c5 <code>openai</code>\u3001<code>httpx</code>\u3001<code>chromadb</code>\uff08\u53ef\u9009\uff0c\u7528\u4e8e\u5411\u91cf\u68c0\u7d22\uff09\u3002</p> <p>\u6570\u636e\u6765\u6e90\uff1aAI \u68c0\u7d22\u65f6\u4f7f\u7528 - \u6587\u6863\uff1a<code>docs/*.md</code> \u4e0e <code>README.md</code>\uff0c\u6309 Markdown \u6807\u9898\u7ed3\u6784\u5206\u5757\uff0c\u5b58\u5165 Chroma \u5411\u91cf\u5e93\uff0c\u91c7\u7528\u5411\u91cf + BM25 \u6df7\u5408\u68c0\u7d22\u4e0e RRF \u91cd\u6392\uff0c\u68c0\u7d22\u5230\u540c\u4e00\u6587\u6863\u7684\u591a\u4e2a\u5b50\u5757\u65f6\u4f1a\u667a\u80fd\u53bb\u91cd\u5e76\u5408\u5e76\u4e3a\u5b8c\u6574\u7236\u6587\u6863\uff1b\u9879\u76ee\u542f\u52a8\u65f6\u82e5 AI \u52a9\u624b\u5df2\u542f\u7528\u5219\u81ea\u52a8\u6784\u5efa\u5411\u91cf\u5e93 - \u914d\u7f6e\uff1a<code>config.yml.sample</code> \u6a21\u677f + \u5b9e\u9645 <code>config.yml</code>\uff08\u654f\u611f\u5b57\u6bb5\u5982 cookie\u3001api_key \u4f1a\u81ea\u52a8\u8131\u654f\uff09 - \u65e5\u5fd7\uff1a<code>logs/main_*.log</code> \u6700\u8fd1 500 \u884c\uff0c\u652f\u6301\u4e2d\u6587\u5173\u952e\u8bcd\uff08\u5f00\u64ad\u3001\u53d1\u535a\u7b49\uff09\u7684\u667a\u80fd\u5339\u914d</p> <p>\u67e5\u8be2\u8def\u7531\uff1a\u7cfb\u7edf\u4f1a\u6839\u636e\u7528\u6237\u95ee\u9898\u81ea\u52a8\u9009\u62e9\u68c0\u7d22\u4fa7\u91cd\u70b9\uff08\u914d\u7f6e\u7c7b\u591a\u68c0\u7d22 config\uff0c\u65e5\u5fd7\u7c7b\u591a\u68c0\u7d22 logs\uff0c\u4e00\u822c\u95ee\u9898\u68c0\u7d22\u6587\u6863\uff09\u3002</p>"},{"location":"guides/ai-assistant/#_8","title":"\u914d\u7f6e\u5efa\u8bae\u7684\u5e94\u7528","text":"<p>\u5f53 AI \u8fd4\u56de\u914d\u7f6e\u76f8\u5173\u7684 YAML \u7247\u6bb5\u65f6\uff0c\u4f1a\u663e\u793a\u300c\u590d\u5236\u914d\u7f6e\u300d\u6309\u94ae\u3002\u590d\u5236\u540e\u53ef\u5728\u914d\u7f6e\u7ba1\u7406\u7684 YAML \u89c6\u56fe\u4e2d\u7c98\u8d34\u5e76\u4fdd\u5b58\u3002</p>"},{"location":"guides/config/","title":"\u914d\u7f6e\u8bf4\u660e","text":"<p>\u6240\u6709\u8fd0\u884c\u914d\u7f6e\u5747\u901a\u8fc7 <code>config.yml</code> \u7ba1\u7406\u3002\u4fee\u6539\u540e\u65e0\u9700\u91cd\u542f\uff0c\u7cfb\u7edf\u652f\u6301\u914d\u7f6e\u70ed\u91cd\u8f7d\uff08\u7ea6 5 \u79d2\u5185\u751f\u6548\uff09\u3002</p>"},{"location":"guides/config/#_2","title":"\u914d\u7f6e\u7ba1\u7406\u754c\u9762\u9884\u89c8","text":"<p>\u90e8\u7f72\u540e\u53ef\u5728 Web \u7ba1\u7406\u754c\u9762\u7684\u300c\u914d\u7f6e\u7ba1\u7406\u300d\u4e2d\u53ef\u89c6\u5316\u7f16\u8f91 <code>config.yml</code>\uff1a\u5de6\u4fa7\u4e3a\u5bfc\u822a/\u8868\u683c\u89c6\u56fe\uff0c\u53f3\u4fa7\u53ef\u5207\u6362\u4e3a YAML \u6587\u672c\u7f16\u8f91\uff0c\u4fdd\u5b58\u540e\u7ea6 5 \u79d2\u5185\u81ea\u52a8\u751f\u6548\u3002</p> <p></p>"},{"location":"guides/config/#_3","title":"\u64cd\u4f5c\u6b65\u9aa4\uff08\u9996\u6b21\u4f7f\u7528\uff09","text":"<ol> <li> <p>\u590d\u5236\u914d\u7f6e\u6587\u4ef6    \u5728\u9879\u76ee\u6839\u76ee\u5f55\u6267\u884c\uff1a<code>cp config.yml.sample config.yml</code>\uff08Windows \u4e0b\u590d\u5236\u5e76\u91cd\u547d\u540d\u4e3a <code>config.yml</code>\uff09\u3002</p> </li> <li> <p>\u6309\u9700\u7f16\u8f91 <code>config.yml</code> </p> </li> <li>\u5148\u914d\u7f6e\u81f3\u5c11\u4e00\u4e2a \u63a8\u9001\u901a\u9053\uff08\u63a8\u9001\u901a\u9053\u914d\u7f6e\u8be6\u89e3\uff09\uff0c\u5426\u5219\u76d1\u63a7/\u7b7e\u5230\u7ed3\u679c\u65e0\u6cd5\u6536\u5230\u901a\u77e5\u3002  </li> <li>\u518d\u914d\u7f6e\u8981\u4f7f\u7528\u7684 \u76d1\u63a7\u4efb\u52a1\uff08\u76d1\u63a7\u4efb\u52a1\u8be6\u89e3\uff09\u6216 \u5b9a\u65f6/\u7b7e\u5230\u4efb\u52a1\uff08\u5b9a\u65f6\u4efb\u52a1\u8be6\u89e3\uff09\u3002  </li> <li> <p>\u5404\u914d\u7f6e\u5757\u5b57\u6bb5\u542b\u4e49\u89c1\u672c\u6587\u300c\u4e3b\u8981\u914d\u7f6e\u5757\u300d\u53ca\u4e0a\u8ff0\u8be6\u89e3\u9875\u3002</p> </li> <li> <p>\u4fdd\u5b58\u5e76\u7b49\u5f85\u751f\u6548    \u4fdd\u5b58 <code>config.yml</code> \u540e\u7ea6 5 \u79d2\u5185\u81ea\u52a8\u751f\u6548\uff0c\u65e0\u9700\u91cd\u542f\u7a0b\u5e8f\u6216\u5bb9\u5668\u3002</p> </li> <li> <p>\u53ef\u9009\uff1aWeb \u754c\u9762\u7f16\u8f91    \u90e8\u7f72\u5b8c\u6210\u540e\u8bbf\u95ee <code>http://localhost:8866</code>\uff0c\u53ef\u5728\u300c\u914d\u7f6e\u7ba1\u7406\u300d\u4e2d\u53ef\u89c6\u5316\u7f16\u8f91\u5e76\u4fdd\u5b58\uff0c\u540c\u6837\u652f\u6301\u70ed\u91cd\u8f7d\u3002</p> </li> </ol>"},{"location":"guides/config/#_4","title":"\u914d\u7f6e\u6587\u4ef6\u6765\u6e90","text":"\u914d\u7f6e\u7c7b\u578b \u8bf4\u660e \u5e94\u7528\u914d\u7f6e \u76d1\u63a7\u3001\u7b7e\u5230\u3001\u63a8\u9001\u3001\u514d\u6253\u6270\u7b49\u5747\u5728 <code>config.yml.sample</code> \u4e2d\u6709\u6ce8\u91ca\u8bf4\u660e\u3002\u4ee5\u8be5\u6587\u4ef6\u4e3a\u6a21\u677f\u590d\u5236\u4e3a <code>config.yml</code> \u540e\u6309\u9700\u4fee\u6539\u3002 Docker \u7f16\u6392 \u955c\u50cf\u3001\u7aef\u53e3\u3001\u5377\u6302\u8f7d\u7b49\u89c1 <code>docker-compose.yml</code>\uff1b\u5165\u53e3\u811a\u672c <code>docker-entrypoint.sh</code> \u4f1a\u5728\u542f\u52a8\u524d\u4e3a <code>data/</code>\u3001<code>logs/</code> \u53ca\u5176\u5b50\u76ee\u5f55\u8d4b\u4e88\u8bfb\u5199\u6743\u9650\u3002\u4fee\u6539\u540e\u6267\u884c <code>docker compose up -d</code> \u4f7f\u53d8\u66f4\u751f\u6548\u3002"},{"location":"guides/config/#_5","title":"\u4e3b\u8981\u914d\u7f6e\u5757\u6982\u89c8","text":"\u7c7b\u578b \u914d\u7f6e\u8282\u70b9\u793a\u4f8b \u8bf4\u660e \u5e94\u7528\u57fa\u7840 <code>app</code> \u5168\u5c40\u57fa\u7840\u914d\u7f6e\uff0c\u76ee\u524d\u5305\u62ec <code>base_url</code>\uff08\u7528\u4e8e\u62fc\u63a5\u5fae\u535a\u5c01\u9762\u56fe\u7b49\u8d44\u6e90\u7684\u5b8c\u6574 URL\uff09 \u5fae\u535a\u76d1\u63a7 <code>weibo</code> <code>enable</code>\u3001Cookie\u3001UID \u5217\u8868\u3001\u76d1\u63a7\u95f4\u9694\u3001\u63a8\u9001\u901a\u9053\u7b49\uff0c\u8be6\u89c1 \u76d1\u63a7\u4efb\u52a1\u8be6\u89e3 \u864e\u7259\u76d1\u63a7 <code>huya</code> <code>enable</code>\u3001\u623f\u95f4\u53f7\u5217\u8868\u3001\u76d1\u63a7\u95f4\u9694\u3001\u63a8\u9001\u901a\u9053\u7b49\uff0c\u8be6\u89c1 \u76d1\u63a7\u4efb\u52a1\u8be6\u89e3 \u54d4\u54e9\u54d4\u54e9 <code>bilibili</code> <code>enable</code>\u3001UID \u5217\u8868\u3001Cookie\uff08\u53ef\u9009\uff09\u3001\u52a8\u6001+\u5f00\u64ad/\u4e0b\u64ad\u68c0\u6d4b\uff0c\u8be6\u89c1 \u76d1\u63a7\u4efb\u52a1\u8be6\u89e3 \u6296\u97f3\u76f4\u64ad <code>douyin</code> <code>enable</code>\u3001\u6296\u97f3\u53f7\u5217\u8868\u3001\u5f00\u64ad/\u4e0b\u64ad\u68c0\u6d4b\uff0c\u8be6\u89c1 \u76d1\u63a7\u4efb\u52a1\u8be6\u89e3 \u6597\u9c7c\u76f4\u64ad <code>douyu</code> <code>enable</code>\u3001\u623f\u95f4\u53f7\u5217\u8868\u3001\u5f00\u64ad/\u4e0b\u64ad\u68c0\u6d4b\uff0c\u8be6\u89c1 \u76d1\u63a7\u4efb\u52a1\u8be6\u89e3 \u5c0f\u7ea2\u4e66 <code>xhs</code> <code>enable</code>\u3001Profile ID \u5217\u8868\u3001Cookie\uff08\u53ef\u9009\uff09\u3001\u52a8\u6001\u68c0\u6d4b\uff0c\u8be6\u89c1 \u76d1\u63a7\u4efb\u52a1\u8be6\u89e3 \u5404\u7b7e\u5230\u4efb\u52a1 <code>checkin</code>\u3001<code>tieba</code>\u3001<code>rainyun</code> \u7b49 \u6bcf\u7c7b\u4efb\u52a1\u6709\u72ec\u7acb\u8282\u70b9\uff0c\u542b <code>enable</code>\u3001\u8d26\u53f7/Cookie/Token\u3001<code>time</code>\u3001<code>push_channels</code>\uff0c\u8be6\u89c1 \u5b9a\u65f6\u4efb\u52a1\u8be6\u89e3 \u63a8\u9001\u901a\u9053 <code>push_channel</code> \u5217\u8868\u5f62\u5f0f\uff0c\u6bcf\u9879\u9700 <code>name</code>\u3001<code>type</code> \u53ca\u8be5\u7c7b\u578b\u6240\u9700\u53c2\u6570\uff0c\u8be6\u89c1 \u63a8\u9001\u901a\u9053\u914d\u7f6e\u8be6\u89e3 \u65e5\u5fd7\u6e05\u7406 <code>log_cleanup</code> \u6267\u884c\u65f6\u95f4\u3001\u65e5\u5fd7\u4fdd\u7559\u5929\u6570 \u514d\u6253\u6270\u65f6\u6bb5 <code>quiet_hours</code> \u542f\u7528\u540e\uff0c\u5728\u6307\u5b9a\u65f6\u95f4\u6bb5\u5185\u4e0d\u63a8\u9001\u901a\u77e5\uff08\u4efb\u52a1\u7167\u5e38\u6267\u884c\uff09 AI \u52a9\u624b <code>ai_assistant</code> \u53ef\u9009\uff0c\u914d\u7f6e\u540e\u53ef\u5728\u914d\u7f6e/\u4efb\u52a1/\u6570\u636e\u9875\u4f7f\u7528\u300c\u95ee AI\u300d\u529f\u80fd\uff0c\u8be6\u89c1 AI \u52a9\u624b \u63d2\u4ef6\u4efb\u52a1 <code>plugins.demo_task</code> \u7b49 \u4e8c\u6b21\u5f00\u53d1\u6269\u5c55\u4efb\u52a1\uff0c\u4e0d\u9700\u8981\u53ef\u5220\u9664\u5e76\u5728\u6ce8\u518c\u8868\u4e2d\u79fb\u9664"},{"location":"guides/config/#app","title":"\u5e94\u7528\u57fa\u7840\u914d\u7f6e <code>app</code>","text":"<p><code>app</code> \u8282\u70b9\u5305\u542b\u5168\u5c40\u57fa\u7840\u914d\u7f6e\uff1a</p> <pre><code>app:\n  # \u5bf9\u5916\u8bbf\u95ee\u7684\u57fa\u7840\u5730\u5740\uff0c\u7528\u4e8e\u6784\u9020\u56fe\u7247\u7b49\u8d44\u6e90\u7684\u5b8c\u6574 URL\uff08\u4f8b\u5982\u5fae\u535a\u5c01\u9762\u56fe\uff09\n  # \u5efa\u8bae\u586b\u5199\u4f60\u5b9e\u9645\u8bbf\u95ee Web \u7ba1\u7406\u754c\u9762\u7684\u5730\u5740\uff1a\n  # - \u672c\u673a\u8c03\u8bd5: \"http://localhost:8866\"\n  # - \u5c40\u57df\u7f51/\u516c\u7f51: \"http://your-domain.com:8866\"\n  # \u7559\u7a7a\u65f6\uff0c\u5fae\u535a\u76d1\u63a7\u4ecd\u4f1a\u63a8\u9001\uff0c\u4f46\u65e0\u6cd5\u4e3a\u5927\u90e8\u5206\u901a\u9053\u62fc\u63a5\u51fa\u53ef\u8bbf\u95ee\u7684\u5c01\u9762\u56fe URL\uff0c\u5c06\u9000\u56de\u4f7f\u7528\u5185\u7f6e\u793a\u4f8b\u56fe\u7247\u3002\n  base_url: \"http://localhost:8866\"\n\n  # \u63a8\u9001\u5185\u5bb9\u8d85\u8fc7\u5404\u6e20\u9053\u5b98\u65b9\u5b57\u6570\u9650\u5236\u65f6\uff0c\u662f\u5426\u4f7f\u7528 LLM \u538b\u7f29\u4e3a\u6458\u8981\u518d\u63a8\u9001\uff08\u9700\u914d\u7f6e ai_assistant\uff09\n  push_compress_with_llm: false\n\n  # \u63a8\u9001\u524d\u662f\u5426\u4f7f\u7528 LLM \u57fa\u4e8e\u4e8b\u4ef6\u7c7b\u578b\u548c\u6570\u636e\u751f\u6210\u4e2a\u6027\u5316\u6807\u9898\u4e0e\u5185\u5bb9\uff08\u9700\u914d\u7f6e ai_assistant.api_key\uff09\n  # \u5f00\u542f\u540e\uff0c\u63a8\u9001\u66f4\u81ea\u7136\u8d34\u5207\uff08\u5982\u5fae\u535a\u65b0\u52a8\u6001\u3001\u5f00\u64ad/\u4e0b\u64ad\u3001\u7b7e\u5230\u7ed3\u679c\u7b49\uff09\uff0c\u800c\u975e\u4ec5\u7528\u56fa\u5b9a\u6a21\u677f\n  push_personalize_with_llm: false\n</code></pre> <p>\u8bbe\u7f6e <code>base_url</code> \u540e\uff0c\u5fae\u535a\u76d1\u63a7\u4f1a\uff1a</p> <ul> <li>\u5c06\u88ab\u76d1\u63a7\u7528\u6237\u7684\u5934\u50cf\u4e0e\u624b\u673a\u5c01\u9762\u56fe\u7f13\u5b58\u5230 <code>data/weibo/&lt;\u7528\u6237\u540d&gt;/</code>\uff1b</li> <li>\u901a\u8fc7 <code>base_url + /weibo_img/&lt;\u7528\u6237\u540d&gt;/cover_image_phone.jpg</code> \u4e3a\u5927\u90e8\u5206\u63a8\u9001\u901a\u9053\u63d0\u4f9b\u53ef\u8bbf\u95ee\u7684\u5c01\u9762\u56fe URL\uff1b</li> <li>\u5bf9\u4e8e\u652f\u6301\u672c\u5730\u56fe\u7247\u4e0a\u4f20\u7684\u901a\u9053\uff08\u5982 <code>telegram_bot</code>\uff09\uff0c\u8fd8\u4f1a\u76f4\u63a5\u4e0a\u4f20\u672c\u5730\u5c01\u9762\u56fe\u3002</li> </ul>"},{"location":"guides/config/#_6","title":"\u4efb\u52a1\u7ea7\u63a8\u9001\u901a\u9053\u9009\u62e9","text":"<p>\u5728\u4efb\u610f\u76d1\u63a7\u6216\u7b7e\u5230\u4efb\u52a1\u7684\u914d\u7f6e\u4e2d\uff0c\u53ef\u8bbe\u7f6e <code>push_channels</code>\uff08\u901a\u9053\u540d\u79f0\u5217\u8868\uff0c\u4e0e <code>push_channel</code> \u4e2d\u67d0\u9879\u7684 <code>name</code> \u4e00\u81f4\uff09\uff1a</p> <ul> <li>\u4e3a\u7a7a\uff1a\u4f7f\u7528\u5168\u90e8\u5df2\u914d\u7f6e\u7684\u63a8\u9001\u901a\u9053\u3002  </li> <li>\u975e\u7a7a\uff1a\u4ec5\u4f7f\u7528\u5217\u51fa\u7684\u901a\u9053\uff0c\u4fbf\u4e8e\u4e0d\u540c\u4efb\u52a1\u63a8\u9001\u5230\u4e0d\u540c\u7fa4\u6216\u5e94\u7528\u3002</li> </ul>"},{"location":"guides/config/#id","title":"ID \u4e0e\u5217\u8868\u5b57\u6bb5\u7684\u4e66\u5199\u683c\u5f0f","text":"<p><code>uids</code>\u3001<code>rooms</code>\u3001<code>douyin_ids</code>\u3001<code>profile_ids</code> \u7b49\u5b57\u6bb5\u4e3a\u9017\u53f7\u5206\u9694\u7684 ID \u5217\u8868\uff0c\u5728 YAML \u4e2d\u5e26\u5355\u5f15\u53f7\u548c\u4e0d\u5e26\u5355\u5f15\u53f7\u5747\u53ef\uff1a</p> <pre><code># \u4ee5\u4e0b\u5199\u6cd5\u5747\u6709\u6548\nweibo:\n  uids: 3669102477,5479678683\nbilibili:\n  uids: '946974'           # \u5355\u5f15\u53f7\n  uids: 946974             # \u65e0\u5f15\u53f7\ndouyin:\n  douyin_ids: 'ASOULjiaran'\ndouyu:\n  rooms: 307876,123456\n</code></pre> <p>\u7cfb\u7edf\u5728\u52a0\u8f7d\u65f6\u4f1a\u7edf\u4e00\u8f6c\u4e3a\u5b57\u7b26\u4e32\u5904\u7406\uff0c\u65e0\u9700\u523b\u610f\u7edf\u4e00\u3002\u82e5\u5e0c\u671b\u98ce\u683c\u4e00\u81f4\uff0c\u53ef\u7edf\u4e00\u4f7f\u7528\u5355\u5f15\u53f7\uff08\u5982 <code>uids: '123,456'</code>\uff09\uff0c\u8bed\u4e49\u66f4\u660e\u786e\u3002</p>"},{"location":"guides/config/#_7","title":"\u9752\u9f99\u9762\u677f","text":"<p>\u82e5\u4f7f\u7528 \u9752\u9f99\u9762\u677f\uff0c\u53ef\u901a\u8fc7 <code>ql/</code> \u811a\u672c\u8fd0\u884c\u5b9a\u65f6\u4efb\u52a1\uff0c\u914d\u7f6e\u6539\u4e3a\u73af\u5883\u53d8\u91cf\uff08<code>WEBMONITER_*</code> \u524d\u7f00\uff09\uff0c\u63a8\u9001\u8d70\u9752\u9f99\u5185\u7f6e\u901a\u77e5\u3002\u8be6\u89c1 \u9752\u9f99\u9762\u677f\u517c\u5bb9\u6307\u5357\u3002</p>"},{"location":"guides/config/#_8","title":"\u76f8\u5173\u6587\u6863","text":"<ul> <li>\u76d1\u63a7\u4efb\u52a1\u8be6\u89e3 \u2014 \u5fae\u535a\u3001\u864e\u7259\u3001\u54d4\u54e9\u54d4\u54e9\u3001\u6296\u97f3\u3001\u6597\u9c7c\u3001\u5c0f\u7ea2\u4e66\u7684\u5b8c\u6574\u914d\u7f6e  </li> <li>\u5b9a\u65f6\u4efb\u52a1\u8be6\u89e3 \u2014 \u5404\u7b7e\u5230/\u5b9a\u65f6\u4efb\u52a1\u7684\u914d\u7f6e\u4e0e\u83b7\u53d6\u65b9\u5f0f  </li> <li>\u63a8\u9001\u901a\u9053\u914d\u7f6e\u8be6\u89e3 \u2014 \u5404\u63a8\u9001\u6e20\u9053\u7684\u914d\u7f6e\u4e0e\u5b98\u65b9\u6587\u6863  </li> <li>\u9752\u9f99\u9762\u677f\u517c\u5bb9\u6307\u5357 \u2014 \u9752\u9f99\u73af\u5883\u53d8\u91cf\u4e0e QLAPI \u63a8\u9001  </li> <li>\u67b6\u6784\u6982\u89c8 \u2014 \u914d\u7f6e\u70ed\u91cd\u8f7d\u4e0e\u6269\u5c55\u673a\u5236  </li> </ul>"},{"location":"guides/push-channels/","title":"\u63a8\u9001\u901a\u9053\u914d\u7f6e\u8be6\u89e3","text":"<p>\u76d1\u63a7\u4e0e\u7b7e\u5230\u7ed3\u679c\u901a\u8fc7 \u63a8\u9001\u901a\u9053 \u53d1\u9001\u3002\u5728 <code>config.yml</code> \u7684 <code>push_channel</code> \u4e2d\u914d\u7f6e\u4e00\u4e2a\u6216\u591a\u4e2a\u901a\u9053\uff08\u6bcf\u9879\u9700 <code>name</code>\u3001<code>type</code> \u53ca\u8be5 type \u6240\u9700\u53c2\u6570\uff09\uff1b\u5404\u4efb\u52a1\u901a\u8fc7 <code>push_channels</code> \u6307\u5b9a\u4f7f\u7528\u54ea\u4e9b\u901a\u9053\uff08\u6309 <code>name</code> \u5339\u914d\uff09\uff0c\u4e3a\u7a7a\u65f6\u4f7f\u7528\u5168\u90e8\u5df2\u914d\u7f6e\u901a\u9053\u3002</p> <p>\u9752\u9f99\u9762\u677f\u7528\u6237</p> <p>\u5728 \u9752\u9f99\u9762\u677f \u4e2d\u8fd0\u884c <code>ql/*.py</code> \u811a\u672c\u65f6\uff0c\u63a8\u9001\u81ea\u52a8\u4f7f\u7528\u9752\u9f99\u5185\u7f6e\u901a\u77e5\uff08QLAPI\uff09\uff0c\u4e0e\u9752\u9f99\u300c\u7cfb\u7edf\u8bbe\u7f6e \u2192 \u901a\u77e5\u8bbe\u7f6e\u300d\u4e00\u81f4\uff0c\u65e0\u9700\u5728 <code>config.yml</code> \u4e2d\u914d\u7f6e\u63a8\u9001\u901a\u9053\u3002\u8be6\u89c1 \u9752\u9f99\u9762\u677f\u517c\u5bb9\u6307\u5357\u3002</p>"},{"location":"guides/push-channels/#_2","title":"\u901a\u9053\u4e00\u89c8","text":"\u901a\u9053 type \u652f\u6301\u56fe\u7247 \u63a8\u8350\u5ea6 \u8bf4\u660e \u4f01\u4e1a\u5fae\u4fe1\u7fa4\u804a\u673a\u5668\u4eba wecom_bot \u2705 \u63a8\u8350 \u7fa4\u5185\u6dfb\u52a0\u81ea\u5b9a\u4e49\u673a\u5668\u4eba\uff0c\u914d\u7f6e\u7b80\u5355 \u9489\u9489\u7fa4\u804a\u673a\u5668\u4eba dingtalk_bot \u2705 \u63a8\u8350 \u7fa4\u5185\u6dfb\u52a0\u81ea\u5b9a\u4e49\u673a\u5668\u4eba\uff0c\u5173\u952e\u8bcd\u5efa\u8bae\u7528\u300c\u3010\u300d \u98de\u4e66\u7fa4\u804a\u673a\u5668\u4eba feishu_bot \u274c \u63a8\u8350 \u7fa4\u5185\u6dfb\u52a0\u81ea\u5b9a\u4e49\u673a\u5668\u4eba WxPusher wxpusher \u2705 \u63a8\u8350 \u5fae\u4fe1\u6d88\u606f\u63a8\u9001\uff0c\u9700\u5728\u5b98\u7f51\u521b\u5efa\u5e94\u7528 \u4f01\u4e1a\u5fae\u4fe1\u81ea\u5efa\u5e94\u7528 wecom_apps \u2705 \u53ef\u9009 \u9700\u4f01\u4e1a\u5fae\u4fe1\u540e\u53f0\u521b\u5efa\u5e94\u7528\uff0c\u65b0\u5e94\u7528\u9700\u914d\u7f6e\u53ef\u4fe1 IP \u98de\u4e66\u81ea\u5efa\u5e94\u7528 feishu_apps \u2705 \u53ef\u9009 \u53ef\u521b\u5efa\u4e2a\u4eba\u7248\u5e94\u7528 \u901a\u9053 type \u652f\u6301\u56fe\u7247 \u8bf4\u660e Telegram \u673a\u5668\u4eba telegram_bot \u2705 \u9700\u81ea\u5907\u7f51\u7edc\u73af\u5883 NapCatQQ napcat_qq \u2705 \u9700\u81ea\u5efa NapCatQQ \u670d\u52a1 Bark bark \u274c \u82f9\u679c\u8bbe\u5907\uff0c\u8f7b\u91cf Server\u9171 Turbo serverChan_turbo \u2705 \u514d\u8d39 5 \u6b21/\u5929 Server\u9171 3 serverChan_3 \u2705 \u9700\u5b89\u88c5 app PushPlus pushplus \u2705 \u652f\u6301\u5fae\u4fe1/\u90ae\u4ef6/Webhook \u7b49 Webhook webhook \u2705 \u901a\u7528 HTTP \u56de\u8c03 Gotify gotify \u274c \u81ea\u5efa\u63a8\u9001\u670d\u52a1 \u7535\u5b50\u90ae\u4ef6 email \u2705 SMTP \u53d1\u9001\u90ae\u4ef6 QQ \u9891\u9053\u673a\u5668\u4eba qq_bot \u2705 \u9700\u521b\u5efa QQ \u673a\u5668\u4eba\u5e76\u5f00\u901a\u9891\u9053\u53d1\u8a00 \u9752\u9f99 QLAPI qlapi \u274c \u9752\u9f99\u73af\u5883\u4e0b\u81ea\u52a8\u4f7f\u7528 systemNotify\uff0c\u65e0\u9700\u914d\u7f6e"},{"location":"guides/push-channels/#_3","title":"\u4f01\u4e1a\u5fae\u4fe1\u7fa4\u804a\u673a\u5668\u4eba","text":"<p>\u901a\u8fc7\u4f01\u4e1a\u5fae\u4fe1\u7fa4\u5185\u300c\u6dfb\u52a0\u7fa4\u673a\u5668\u4eba\u300d\u83b7\u5f97 Webhook\uff0c\u5411\u7fa4\u5185\u63a8\u9001\u6d88\u606f\u3002\u652f\u6301\u56fe\u7247\u3002</p>"},{"location":"guides/push-channels/#_4","title":"\u5b98\u65b9\u6587\u6863","text":"<ul> <li>\u4f01\u4e1a\u5fae\u4fe1 - \u7fa4\u673a\u5668\u4eba\u914d\u7f6e\u8bf4\u660e</li> </ul>"},{"location":"guides/push-channels/#_5","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>name</code> \u5b57\u7b26\u4e32 \u2705 \u901a\u9053\u540d\u79f0\uff0c\u552f\u4e00\uff0c\u4f9b\u4efb\u52a1 <code>push_channels</code> \u5f15\u7528 <code>type</code> \u5b57\u7b26\u4e32 \u2705 \u56fa\u5b9a\u4e3a <code>wecom_bot</code> <code>key</code> \u5b57\u7b26\u4e32 \u2705 \u673a\u5668\u4eba Webhook \u7684 key \u53c2\u6570\uff08\u521b\u5efa\u673a\u5668\u4eba\u65f6\u83b7\u5f97\uff09"},{"location":"guides/push-channels/#key","title":"\u5982\u4f55\u83b7\u53d6 key","text":"<ol> <li>\u5728\u4f01\u4e1a\u5fae\u4fe1\u4e2d\u521b\u5efa\u7fa4\u804a\uff08\u6216\u4f7f\u7528\u5df2\u6709\u7fa4\uff09\u3002  </li> <li>\u7fa4\u8bbe\u7f6e \u2192 \u7fa4\u673a\u5668\u4eba \u2192 \u6dfb\u52a0\u7fa4\u673a\u5668\u4eba\uff0c\u8bbe\u7f6e\u540d\u79f0\u540e\u521b\u5efa\u3002  </li> <li>\u590d\u5236\u673a\u5668\u4eba Webhook \u5730\u5740\uff0c\u5f62\u5982\uff1a<code>https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=xxxxxxxx</code>\uff0c\u5176\u4e2d key= \u540e\u9762\u7684\u90e8\u5206\u5373\u4e3a <code>key</code>\u3002</li> </ol>"},{"location":"guides/push-channels/#_6","title":"\u914d\u7f6e\u793a\u4f8b","text":"<pre><code>push_channel:\n  - name: \u4f01\u4e1a\u5fae\u4fe1\u673a\u5668\u4eba\n    type: wecom_bot\n    key: \"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\"\n</code></pre>"},{"location":"guides/push-channels/#_7","title":"\u9489\u9489\u7fa4\u804a\u673a\u5668\u4eba","text":"<p>\u901a\u8fc7\u9489\u9489\u7fa4\u5185\u300c\u6dfb\u52a0\u81ea\u5b9a\u4e49\u673a\u5668\u4eba\u300d\u83b7\u5f97 Webhook\u3002\u652f\u6301\u56fe\u7247\u3002\u81ea\u5b9a\u4e49\u5173\u952e\u8bcd\u5efa\u8bae\u4f7f\u7528\u300c\u3010\u300d\u4ee5\u517c\u5bb9\u7cfb\u7edf\u6d88\u606f\u683c\u5f0f\u3002</p>"},{"location":"guides/push-channels/#_8","title":"\u5b98\u65b9\u6587\u6863","text":"<ul> <li>\u9489\u9489 - \u81ea\u5b9a\u4e49\u673a\u5668\u4eba\u63a5\u5165</li> </ul>"},{"location":"guides/push-channels/#_9","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>name</code> \u5b57\u7b26\u4e32 \u2705 \u901a\u9053\u540d\u79f0\uff0c\u552f\u4e00 <code>type</code> \u5b57\u7b26\u4e32 \u2705 \u56fa\u5b9a\u4e3a <code>dingtalk_bot</code> <code>access_token</code> \u5b57\u7b26\u4e32 \u2705 \u673a\u5668\u4eba Webhook \u4e2d\u7684 access_token\uff08\u521b\u5efa\u673a\u5668\u4eba\u65f6\u83b7\u5f97\uff09 <code>secret</code> \u5b57\u7b26\u4e32 \u5426 \u52a0\u7b7e\u5bc6\u94a5\uff08SEC \u5f00\u5934\u7684\u5b57\u7b26\u4e32\uff09\uff1b\u82e5\u914d\u7f6e\u5219\u4f7f\u7528\u52a0\u7b7e\u65b9\u5f0f\uff0c\u5426\u5219\u4f7f\u7528\u666e\u901a\u65b9\u5f0f"},{"location":"guides/push-channels/#access_token-secret","title":"\u5982\u4f55\u83b7\u53d6 access_token \u4e0e secret","text":"<ol> <li>\u9489\u9489\u7fa4 \u2192 \u7fa4\u8bbe\u7f6e \u2192 \u667a\u80fd\u7fa4\u52a9\u624b \u2192 \u6dfb\u52a0\u673a\u5668\u4eba \u2192 \u81ea\u5b9a\u4e49\u3002  </li> <li>\u8bbe\u7f6e\u673a\u5668\u4eba\u540d\u79f0\u3001\u5b89\u5168\u8bbe\u7f6e\uff08\u53ef\u9009\u300c\u52a0\u7b7e\u300d\u5e76\u590d\u5236 secret\uff09\u3002  </li> <li>\u5b8c\u6210\u540e\u7684 Webhook \u5730\u5740\u5f62\u5982\uff1a<code>https://oapi.dingtalk.com/robot/send?access_token=xxxx</code>\uff0c\u5176\u4e2d access_token= \u540e\u9762\u7684\u90e8\u5206\u5373\u4e3a <code>access_token</code>\u3002</li> </ol>"},{"location":"guides/push-channels/#_10","title":"\u914d\u7f6e\u793a\u4f8b","text":"<pre><code>push_channel:\n  - name: \u9489\u9489\u673a\u5668\u4eba\n    type: dingtalk_bot\n    access_token: \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\"\n    secret: \"SECxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\"  # \u53ef\u9009\uff0c\u52a0\u7b7e\u65f6\u5fc5\u586b\n</code></pre>"},{"location":"guides/push-channels/#_11","title":"\u98de\u4e66\u7fa4\u804a\u673a\u5668\u4eba","text":"<p>\u901a\u8fc7\u98de\u4e66\u7fa4\u5185\u300c\u6dfb\u52a0\u673a\u5668\u4eba\u300d\u2192\u300c\u81ea\u5b9a\u4e49\u673a\u5668\u4eba\u300d\u83b7\u5f97 Webhook\u3002\u6682\u4e0d\u652f\u6301\u56fe\u7247\u3002\u81ea\u5b9a\u4e49\u5173\u952e\u8bcd\u5efa\u8bae\u4f7f\u7528\u300c\u3010\u300d\u3002</p>"},{"location":"guides/push-channels/#_12","title":"\u5b98\u65b9\u6587\u6863","text":"<ul> <li>\u98de\u4e66 - \u81ea\u5b9a\u4e49\u673a\u5668\u4eba</li> </ul>"},{"location":"guides/push-channels/#_13","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>name</code> \u5b57\u7b26\u4e32 \u2705 \u901a\u9053\u540d\u79f0\uff0c\u552f\u4e00 <code>type</code> \u5b57\u7b26\u4e32 \u2705 \u56fa\u5b9a\u4e3a <code>feishu_bot</code> <code>webhook_key</code> \u5b57\u7b26\u4e32 \u2705 \u673a\u5668\u4eba Webhook URL \u4e2d\u7684\u5173\u952e\u90e8\u5206\uff08\u521b\u5efa\u65f6\u83b7\u5f97\uff09 <code>sign_secret</code> \u5b57\u7b26\u4e32 \u5426 \u7b7e\u540d\u5bc6\u94a5\uff1b\u82e5\u914d\u7f6e\u5219\u4f7f\u7528\u7b7e\u540d\u6821\u9a8c\u65b9\u5f0f"},{"location":"guides/push-channels/#webhook_key","title":"\u5982\u4f55\u83b7\u53d6 webhook_key","text":"<ol> <li>\u98de\u4e66\u7fa4\u804a \u2192 \u8bbe\u7f6e \u2192 \u7fa4\u673a\u5668\u4eba \u2192 \u6dfb\u52a0\u673a\u5668\u4eba \u2192 \u81ea\u5b9a\u4e49\u673a\u5668\u4eba\u3002  </li> <li>\u590d\u5236\u751f\u6210\u7684 Webhook \u5730\u5740\uff0c\u4ece\u4e2d\u63d0\u53d6 webhook \u7684 key \u90e8\u5206\u586b\u5165 <code>webhook_key</code>\u3002</li> </ol>"},{"location":"guides/push-channels/#_14","title":"\u914d\u7f6e\u793a\u4f8b","text":"<pre><code>push_channel:\n  - name: \u98de\u4e66\u673a\u5668\u4eba\n    type: feishu_bot\n    webhook_key: \"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\"\n    # sign_secret: \"xxx\"  # \u53ef\u9009\n</code></pre>"},{"location":"guides/push-channels/#_15","title":"\u98de\u4e66\u81ea\u5efa\u5e94\u7528","text":"<p>\u4f7f\u7528\u98de\u4e66\u5f00\u653e\u5e73\u53f0\u521b\u5efa\u7684\u300c\u81ea\u5efa\u5e94\u7528\u300d\u53d1\u9001\u6d88\u606f\uff0c\u53ef\u53d1\u5230\u7fa4\u3001\u7528\u6237\u7b49\u3002\u652f\u6301\u56fe\u7247\u3002\u53ef\u4f7f\u7528\u4e2a\u4eba\u7248\u98de\u4e66\u521b\u5efa\u5e94\u7528\u3002</p>"},{"location":"guides/push-channels/#_16","title":"\u5b98\u65b9\u6587\u6863","text":"<ul> <li>\u98de\u4e66\u5f00\u653e\u5e73\u53f0 - \u521b\u5efa\u5e94\u7528 </li> <li>\u98de\u4e66 - \u53d1\u9001\u6d88\u606f</li> </ul>"},{"location":"guides/push-channels/#_17","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>name</code> \u5b57\u7b26\u4e32 \u2705 \u901a\u9053\u540d\u79f0\uff0c\u552f\u4e00 <code>type</code> \u5b57\u7b26\u4e32 \u2705 \u56fa\u5b9a\u4e3a <code>feishu_apps</code> <code>app_id</code> \u5b57\u7b26\u4e32 \u2705 \u5e94\u7528 App ID <code>app_secret</code> \u5b57\u7b26\u4e32 \u2705 \u5e94\u7528 App Secret <code>receive_id_type</code> \u5b57\u7b26\u4e32 \u2705 \u63a5\u6536\u8005 ID \u7c7b\u578b\uff0c\u5982 <code>chat_id</code>\uff08\u7fa4\uff09\u3001<code>user_id</code>\uff08\u7528\u6237\uff09\u7b49 <code>receive_id</code> \u5b57\u7b26\u4e32 \u2705 \u63a5\u6536\u8005 ID\uff08\u7fa4\u804a ID \u6216\u7528\u6237 open_id\uff09"},{"location":"guides/push-channels/#_18","title":"\u5982\u4f55\u83b7\u53d6","text":"<ol> <li>\u767b\u5f55 \u98de\u4e66\u5f00\u653e\u5e73\u53f0\uff0c\u521b\u5efa\u4f01\u4e1a\u81ea\u5efa\u5e94\u7528\uff08\u6216\u4e2a\u4eba\u5e94\u7528\uff09\u3002  </li> <li>\u5728\u5e94\u7528\u51ed\u8bc1\u4e2d\u83b7\u53d6 App ID\u3001App Secret\u3002  </li> <li>\u4e3a\u5e94\u7528\u5f00\u901a\u300c\u83b7\u53d6\u7fa4\u4fe1\u606f\u300d\u300c\u53d1\u9001\u6d88\u606f\u300d\u7b49\u6743\u9650\uff1b\u83b7\u53d6\u7fa4\u804a\u7684 chat_id \u6216\u7528\u6237\u7684 open_id\uff0c\u586b\u5165 <code>receive_id</code>\uff0c<code>receive_id_type</code> \u586b <code>chat_id</code> \u6216 <code>user_id</code>\u3002</li> </ol>"},{"location":"guides/push-channels/#_19","title":"\u914d\u7f6e\u793a\u4f8b","text":"<pre><code>push_channel:\n  - name: \u98de\u4e66\u81ea\u5efa\u5e94\u7528\n    type: feishu_apps\n    app_id: \"cli_xxxxxxxx\"\n    app_secret: \"xxxxxxxxxxxxxxxx\"\n    receive_id_type: \"chat_id\"\n    receive_id: \"oc_xxxxxxxxxxxxxxxx\"\n</code></pre>"},{"location":"guides/push-channels/#_20","title":"\u4f01\u4e1a\u5fae\u4fe1\u81ea\u5efa\u5e94\u7528","text":"<p>\u4f7f\u7528\u4f01\u4e1a\u5fae\u4fe1\u300c\u81ea\u5efa\u5e94\u7528\u300d\u53d1\u9001\u6d88\u606f\u3002\u652f\u6301\u56fe\u7247\u30022022\u5e746\u670820\u65e5\u540e\u65b0\u521b\u5efa\u7684\u5e94\u7528\u9700\u914d\u7f6e\u53ef\u4fe1 IP\u3002</p>"},{"location":"guides/push-channels/#_21","title":"\u5b98\u65b9\u6587\u6863","text":"<ul> <li>\u4f01\u4e1a\u5fae\u4fe1 - \u5e94\u7528\u7ba1\u7406 </li> <li>\u4f01\u4e1a\u5fae\u4fe1 - \u53d1\u9001\u5e94\u7528\u6d88\u606f</li> </ul>"},{"location":"guides/push-channels/#_22","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>name</code> \u5b57\u7b26\u4e32 \u2705 \u901a\u9053\u540d\u79f0\uff0c\u552f\u4e00 <code>type</code> \u5b57\u7b26\u4e32 \u2705 \u56fa\u5b9a\u4e3a <code>wecom_apps</code> <code>corp_id</code> \u5b57\u7b26\u4e32 \u2705 \u4f01\u4e1a ID <code>agent_id</code> \u5b57\u7b26\u4e32 \u2705 \u5e94\u7528 AgentId <code>corp_secret</code> \u5b57\u7b26\u4e32 \u2705 \u5e94\u7528 Secret <code>touser</code> \u5b57\u7b26\u4e32 \u5426 \u63a5\u6536\u6210\u5458 ID\uff0c\u591a\u4e2a\u7528 <code>|</code> \u5206\u9694\uff0c<code>@all</code> \u8868\u793a\u6240\u6709\u4eba\uff0c\u9ed8\u8ba4 <code>@all</code>"},{"location":"guides/push-channels/#_23","title":"\u5982\u4f55\u83b7\u53d6","text":"<ol> <li>\u4f01\u4e1a\u5fae\u4fe1\u7ba1\u7406\u540e\u53f0 \u2192 \u5e94\u7528\u7ba1\u7406 \u2192 \u81ea\u5efa \u2192 \u521b\u5efa\u5e94\u7528\u3002  </li> <li>\u5728\u300c\u6211\u7684\u4f01\u4e1a\u300d\u4e2d\u83b7\u53d6 \u4f01\u4e1a ID\uff08corp_id\uff09\u3002  </li> <li>\u5728\u5e94\u7528\u8be6\u60c5\u4e2d\u83b7\u53d6 AgentId\u3001Secret\u3002  </li> <li>\u65b0\u5e94\u7528\u9700\u5728\u5e94\u7528\u8be6\u60c5\u4e2d\u914d\u7f6e \u53ef\u4fe1 IP\uff08\u670d\u52a1\u5668\u51fa\u53e3 IP\uff09\u3002</li> </ol>"},{"location":"guides/push-channels/#_24","title":"\u914d\u7f6e\u793a\u4f8b","text":"<pre><code>push_channel:\n  - name: \u4f01\u4e1a\u5fae\u4fe1\u5e94\u7528\n    type: wecom_apps\n    corp_id: \"wwxxxxxxxx\"\n    agent_id: \"1000002\"\n    corp_secret: \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\"\n    touser: \"@all\"\n</code></pre>"},{"location":"guides/push-channels/#telegram","title":"Telegram \u673a\u5668\u4eba","text":"<p>\u901a\u8fc7 Telegram Bot API \u53d1\u9001\u6d88\u606f\u5230\u6307\u5b9a\u4f1a\u8bdd\uff08\u7fa4\u7ec4\u6216\u79c1\u804a\uff09\u3002\u652f\u6301\u56fe\u7247\u3002\u9700\u670d\u52a1\u5668\u80fd\u8bbf\u95ee Telegram API\uff08\u81ea\u5907\u7f51\u7edc\u73af\u5883\uff09\u3002</p>"},{"location":"guides/push-channels/#_25","title":"\u5b98\u65b9\u6587\u6863","text":"<ul> <li>Telegram Bot API </li> <li>\u521b\u5efa Bot</li> </ul>"},{"location":"guides/push-channels/#_26","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>name</code> \u5b57\u7b26\u4e32 \u2705 \u901a\u9053\u540d\u79f0\uff0c\u552f\u4e00 <code>type</code> \u5b57\u7b26\u4e32 \u2705 \u56fa\u5b9a\u4e3a <code>telegram_bot</code> <code>api_token</code> \u5b57\u7b26\u4e32 \u2705 Bot \u7684 API Token\uff08\u7531 @BotFather \u53d1\u653e\uff09 <code>chat_id</code> \u5b57\u7b26\u4e32 \u2705 \u63a5\u6536\u6d88\u606f\u7684\u804a\u5929 ID\uff08\u7fa4\u7ec4\u6216\u7528\u6237\uff09"},{"location":"guides/push-channels/#api_token","title":"\u5982\u4f55\u83b7\u53d6 api_token","text":"<ol> <li>\u5728 Telegram \u4e2d\u641c\u7d22 @BotFather\uff0c\u53d1\u9001 <code>/newbot</code> \u6309\u63d0\u793a\u521b\u5efa\u673a\u5668\u4eba\u3002  </li> <li>\u521b\u5efa\u5b8c\u6210\u540e BotFather \u4f1a\u8fd4\u56de API Token\uff0c\u5f62\u5982 <code>123456789:ABCdefGHI...</code>\u3002</li> </ol>"},{"location":"guides/push-channels/#chat_id","title":"\u5982\u4f55\u83b7\u53d6 chat_id","text":"<ul> <li>\u7528\u6237\uff1a\u53ef\u5148\u7ed9\u673a\u5668\u4eba\u53d1\u4e00\u6761\u6d88\u606f\uff0c\u8bbf\u95ee <code>https://api.telegram.org/bot&lt;api_token&gt;/getUpdates</code> \u67e5\u770b\u8fd4\u56de\u4e2d\u7684 <code>chat.id</code>\u3002  </li> <li>\u7fa4\u7ec4\uff1a\u5c06\u673a\u5668\u4eba\u62c9\u5165\u7fa4\uff0c\u5728\u7fa4\u5185\u53d1\u4e00\u6761\u6d88\u606f\uff0c\u540c\u6837\u901a\u8fc7 getUpdates \u67e5\u770b\u8be5\u7fa4\u7684 <code>chat.id</code>\uff08\u901a\u5e38\u4e3a\u8d1f\u6570\uff09\u3002</li> </ul>"},{"location":"guides/push-channels/#_27","title":"\u914d\u7f6e\u793a\u4f8b","text":"<pre><code>push_channel:\n  - name: Telegram\u673a\u5668\u4eba\n    type: telegram_bot\n    api_token: \"123456789:ABCdefGHIxxxxxxxxxxxxxxxx\"\n    chat_id: \"-1001234567890\"\n</code></pre>"},{"location":"guides/push-channels/#qq","title":"QQ \u9891\u9053\u673a\u5668\u4eba","text":"<p>\u901a\u8fc7 QQ \u5f00\u653e\u5e73\u53f0\u521b\u5efa\u7684\u673a\u5668\u4eba\u5411\u6307\u5b9a\u9891\u9053\u53d1\u9001\u6d88\u606f\u3002\u652f\u6301\u56fe\u7247\u3002\u9700\u521b\u5efa\u673a\u5668\u4eba\u5e76\u5f00\u901a\u5728\u9891\u9053\u5185\u53d1\u8a00\u7684\u6743\u9650\u3002\u4e0d\u63a8\u8350\u4f18\u5148\u4f7f\u7528\uff0c\u9700\u4f7f\u7528 app_secret \u83b7\u53d6 AccessToken\u3002</p>"},{"location":"guides/push-channels/#_28","title":"\u5b98\u65b9\u6587\u6863","text":"<ul> <li>QQ \u5f00\u653e\u5e73\u53f0 - \u521b\u5efa\u673a\u5668\u4eba </li> <li>QQ \u673a\u5668\u4eba\u6587\u6863</li> </ul>"},{"location":"guides/push-channels/#_29","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>name</code> \u5b57\u7b26\u4e32 \u2705 \u901a\u9053\u540d\u79f0\uff0c\u552f\u4e00 <code>type</code> \u5b57\u7b26\u4e32 \u2705 \u56fa\u5b9a\u4e3a <code>qq_bot</code> <code>base_url</code> \u5b57\u7b26\u4e32 \u5426 \u9ed8\u8ba4 <code>https://api.sgroup.qq.com</code> <code>app_id</code> \u5b57\u7b26\u4e32 \u2705 \u673a\u5668\u4eba\u5e94\u7528 App ID <code>app_secret</code> \u5b57\u7b26\u4e32 \u2705 \u673a\u5668\u4eba\u5e94\u7528 App Secret\uff08\u7528\u4e8e\u83b7\u53d6 AccessToken\uff09 <code>push_target_list</code> \u5217\u8868 \u2705 \u63a8\u9001\u76ee\u6807\uff1a<code>guild_name</code>\uff08\u9891\u9053\u540d\uff09\u3001<code>channel_name_list</code>\uff08\u5b50\u9891\u9053\u540d\u5217\u8868\uff09"},{"location":"guides/push-channels/#_30","title":"\u5982\u4f55\u83b7\u53d6","text":"<ol> <li>\u6253\u5f00 QQ \u673a\u5668\u4eba\u5f00\u653e\u5e73\u53f0 \u521b\u5efa\u5e94\u7528/\u673a\u5668\u4eba\u3002  </li> <li>\u5728\u5e94\u7528\u7ba1\u7406\u4e2d\u83b7\u53d6 App ID\u3001App Secret\u3002  </li> <li>\u5c06\u673a\u5668\u4eba\u5728\u76ee\u6807\u9891\u9053/\u5b50\u9891\u9053\u5f00\u901a\u53d1\u8a00\u6743\u9650\uff0c\u586b\u5199\u5bf9\u5e94\u7684 \u9891\u9053\u540d\u79f0\u3001\u5b50\u9891\u9053\u540d\u79f0 \u5230 <code>push_target_list</code>\u3002</li> </ol>"},{"location":"guides/push-channels/#_31","title":"\u914d\u7f6e\u793a\u4f8b","text":"<pre><code>push_channel:\n  - name: QQ\u673a\u5668\u4eba\n    type: qq_bot\n    base_url: https://api.sgroup.qq.com\n    app_id: \"123456789\"\n    app_secret: \"xxxxxxxxxxxxxxxx\"\n    push_target_list:\n      - guild_name: \"\u6211\u7684\u9891\u9053\"\n        channel_name_list:\n          - \"\u901a\u77e5\"\n          - \"\u65e5\u5fd7\"\n</code></pre>"},{"location":"guides/push-channels/#napcatqq","title":"NapCatQQ","text":"<p>\u901a\u8fc7\u81ea\u5efa\u7684 NapCatQQ \u670d\u52a1\u63a8\u9001\u81f3 QQ \u7fa4/\u597d\u53cb\u3002\u652f\u6301\u56fe\u7247\u3002\u9700\u81ea\u884c\u90e8\u7f72 NapCatQQ\u3002</p>"},{"location":"guides/push-channels/#_32","title":"\u5b98\u65b9\u6587\u6863","text":"<ul> <li>NapCatQQ \u9879\u76ee</li> </ul>"},{"location":"guides/push-channels/#_33","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>name</code> \u5b57\u7b26\u4e32 \u2705 \u901a\u9053\u540d\u79f0\uff0c\u552f\u4e00 <code>type</code> \u5b57\u7b26\u4e32 \u2705 \u56fa\u5b9a\u4e3a <code>napcat_qq</code> <code>api_url</code> \u5b57\u7b26\u4e32 \u5426 NapCat \u670d\u52a1\u5730\u5740\uff0c\u9ed8\u8ba4 <code>http://localhost:3000</code> <code>token</code> \u5b57\u7b26\u4e32 \u2705 NapCat \u9274\u6743 token <code>user_id</code> \u5b57\u7b26\u4e32 \u4e0e group_id \u4e8c\u9009\u4e00 \u63a8\u9001\u76ee\u6807 QQ \u53f7\uff08\u79c1\u804a\uff09 <code>group_id</code> \u5b57\u7b26\u4e32 \u4e0e user_id \u4e8c\u9009\u4e00 \u63a8\u9001\u76ee\u6807\u7fa4\u53f7 <code>at_qq</code> \u5b57\u7b26\u4e32 \u5426 \u7fa4\u5185 @ \u7684 QQ\uff0c\u5982 <code>all</code> \u8868\u793a @\u5168\u4f53"},{"location":"guides/push-channels/#_34","title":"\u914d\u7f6e\u793a\u4f8b","text":"<pre><code>push_channel:\n  - name: NapCatQQ\n    type: napcat_qq\n    api_url: http://localhost:3000\n    token: \"your_napcat_token\"\n    group_id: \"123456789\"\n    at_qq: \"all\"\n</code></pre>"},{"location":"guides/push-channels/#bark","title":"Bark","text":"<p>\u5411\u82f9\u679c\u8bbe\u5907\u4e0a\u7684 Bark App \u63a8\u9001\u3002\u4e0d\u652f\u6301\u56fe\u7247\u3002\u8f7b\u91cf\u3001\u9002\u5408\u4e2a\u4eba\u4f7f\u7528\u3002</p>"},{"location":"guides/push-channels/#_35","title":"\u5b98\u65b9\u6587\u6863 / \u5e94\u7528","text":"<ul> <li>Bark App Store </li> <li>\u81ea\u5efa\u6216\u4f7f\u7528\u516c\u5171\u670d\u52a1\u5668\uff0c\u5982 <code>https://api.day.app</code></li> </ul>"},{"location":"guides/push-channels/#_36","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>name</code> \u5b57\u7b26\u4e32 \u2705 \u901a\u9053\u540d\u79f0\uff0c\u552f\u4e00 <code>type</code> \u5b57\u7b26\u4e32 \u2705 \u56fa\u5b9a\u4e3a <code>bark</code> <code>server_url</code> \u5b57\u7b26\u4e32 \u5426 Bark \u670d\u52a1\u5668\u5730\u5740\uff0c\u9ed8\u8ba4 <code>https://api.day.app</code> <code>key</code> \u5b57\u7b26\u4e32 \u2705 Bark \u8bbe\u5907 Key\uff08App \u5185\u83b7\u53d6\uff09"},{"location":"guides/push-channels/#key_1","title":"\u5982\u4f55\u83b7\u53d6 key","text":"<p>\u5728 iPhone \u4e0a\u5b89\u88c5 Bark\uff0c\u6253\u5f00 App \u5373\u53ef\u770b\u5230\u8bbe\u5907 Key\uff08\u6216\u626b\u7801/URL \u4e2d\u7684 key \u53c2\u6570\uff09\u3002</p>"},{"location":"guides/push-channels/#_37","title":"\u914d\u7f6e\u793a\u4f8b","text":"<pre><code>push_channel:\n  - name: Bark\n    type: bark\n    server_url: https://api.day.app\n    key: \"xxxxxxxxxxxxxxxxxxxxxxxx\"\n</code></pre>"},{"location":"guides/push-channels/#wxpusher","title":"WxPusher","text":"<p>\u901a\u8fc7 WxPusher \u5411\u5fae\u4fe1\u63a8\u9001\u6d88\u606f\u3002\u652f\u6301\u56fe\u7247\u3002\u9700\u5728 WxPusher \u540e\u53f0\u521b\u5efa\u5e94\u7528\u5e76\u7ed1\u5b9a\u5fae\u4fe1\u3002</p>"},{"location":"guides/push-channels/#_38","title":"\u5b98\u65b9\u6587\u6863","text":"<ul> <li>WxPusher \u5b98\u7f51 </li> <li>WxPusher \u6587\u6863</li> </ul>"},{"location":"guides/push-channels/#_39","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>name</code> \u5b57\u7b26\u4e32 \u2705 \u901a\u9053\u540d\u79f0\uff0c\u552f\u4e00 <code>type</code> \u5b57\u7b26\u4e32 \u2705 \u56fa\u5b9a\u4e3a <code>wxpusher</code> <code>app_token</code> \u5b57\u7b26\u4e32 \u2705 \u5e94\u7528 Token\uff08\u540e\u53f0\u521b\u5efa\u5e94\u7528\u540e\u83b7\u5f97\uff09 <code>uids</code> \u5b57\u7b26\u4e32 \u4e0e topic_ids \u4e8c\u9009\u4e00 \u7528\u6237 UID \u5217\u8868\uff0c\u9017\u53f7\u5206\u9694 <code>topic_ids</code> \u5b57\u7b26\u4e32 \u4e0e uids \u4e8c\u9009\u4e00 \u4e3b\u9898 ID \u5217\u8868\uff0c\u9017\u53f7\u5206\u9694 <code>content_type</code> \u6574\u6570 \u5426 1-\u6587\u672c\uff0c2-html\uff0c3-markdown\uff0c\u9ed8\u8ba4 1"},{"location":"guides/push-channels/#_40","title":"\u5982\u4f55\u83b7\u53d6","text":"<ol> <li>\u767b\u5f55 WxPusher\uff0c\u521b\u5efa\u5e94\u7528\uff0c\u83b7\u53d6 AppToken\u3002  </li> <li>\u7528\u6237\u626b\u7801\u5173\u6ce8\u540e\u53ef\u5728\u540e\u53f0\u770b\u5230 UID\uff1b\u6216\u521b\u5efa\u4e3b\u9898\uff0c\u7528\u6237\u8ba2\u9605\u4e3b\u9898\u540e\u4f7f\u7528 Topic ID\u3002</li> </ol>"},{"location":"guides/push-channels/#_41","title":"\u914d\u7f6e\u793a\u4f8b","text":"<pre><code>push_channel:\n  - name: WxPusher\n    type: wxpusher\n    app_token: \"AT_xxxxxxxxxxxxxxxx\"\n    uids: \"UID_xxx,UID_yyy\"\n    # topic_ids: \"123,456\"\n    content_type: 1\n</code></pre>"},{"location":"guides/push-channels/#server-turbosctftqqcom","title":"Server\u9171 Turbo\uff08sct.ftqq.com\uff09","text":"<p>\u901a\u8fc7 Server\u9171 Turbo \u63a8\u9001\uff0c\u514d\u8d39\u7248 5 \u6b21/\u5929\u3002\u652f\u6301\u56fe\u7247\u3002</p>"},{"location":"guides/push-channels/#_42","title":"\u5b98\u65b9\u6587\u6863","text":"<ul> <li>Server\u9171 Turbo \u5b98\u7f51</li> </ul>"},{"location":"guides/push-channels/#_43","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>name</code> \u5b57\u7b26\u4e32 \u2705 \u901a\u9053\u540d\u79f0\uff0c\u552f\u4e00 <code>type</code> \u5b57\u7b26\u4e32 \u2705 \u56fa\u5b9a\u4e3a <code>serverChan_turbo</code> <code>send_key</code> \u5b57\u7b26\u4e32 \u2705 \u5728 sct.ftqq.com \u540e\u53f0\u83b7\u53d6\u7684 SendKey"},{"location":"guides/push-channels/#_44","title":"\u914d\u7f6e\u793a\u4f8b","text":"<pre><code>push_channel:\n  - name: Server\u9171_Turbo\n    type: serverChan_turbo\n    send_key: \"SCTxxxxxxxxxxxxxxxx\"\n</code></pre>"},{"location":"guides/push-channels/#server-3sc3ft07com","title":"Server\u9171 3\uff08sc3.ft07.com\uff09","text":"<p>\u9700\u5b89\u88c5\u5b98\u65b9 App \u63a5\u6536\u63a8\u9001\u3002\u652f\u6301\u56fe\u7247\u3002</p>"},{"location":"guides/push-channels/#_45","title":"\u5b98\u65b9\u6587\u6863","text":"<ul> <li>Server\u9171 3 \u5b98\u7f51</li> </ul>"},{"location":"guides/push-channels/#_46","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>name</code> \u5b57\u7b26\u4e32 \u2705 \u901a\u9053\u540d\u79f0\uff0c\u552f\u4e00 <code>type</code> \u5b57\u7b26\u4e32 \u2705 \u56fa\u5b9a\u4e3a <code>serverChan_3</code> <code>send_key</code> \u5b57\u7b26\u4e32 \u2705 \u540e\u53f0 SendKey <code>uid</code> \u5b57\u7b26\u4e32 \u5426 \u7528\u6237 UID <code>tags</code> \u5b57\u7b26\u4e32 \u5426 \u6807\u7b7e\u7b49"},{"location":"guides/push-channels/#_47","title":"\u914d\u7f6e\u793a\u4f8b","text":"<pre><code>push_channel:\n  - name: Server\u9171_3\n    type: serverChan_3\n    send_key: \"xxx\"\n    uid: \"\"\n    tags: \"\"\n</code></pre>"},{"location":"guides/push-channels/#pushplus","title":"PushPlus","text":"<p>\u652f\u6301\u5fae\u4fe1\u3001\u90ae\u4ef6\u3001Webhook\u3001\u4f01\u4e1a\u5fae\u4fe1\u3001\u77ed\u4fe1\u7b49\u591a\u79cd\u6e20\u9053\u3002\u652f\u6301\u56fe\u7247\u3002</p>"},{"location":"guides/push-channels/#_48","title":"\u5b98\u65b9\u6587\u6863","text":"<ul> <li>PushPlus \u5b98\u7f51</li> </ul>"},{"location":"guides/push-channels/#_49","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>name</code> \u5b57\u7b26\u4e32 \u2705 \u901a\u9053\u540d\u79f0\uff0c\u552f\u4e00 <code>type</code> \u5b57\u7b26\u4e32 \u2705 \u56fa\u5b9a\u4e3a <code>pushplus</code> <code>token</code> \u5b57\u7b26\u4e32 \u2705 \u5728 pushplus \u540e\u53f0\u83b7\u53d6\u7684 token <code>channel</code> \u5b57\u7b26\u4e32 \u5426 \u63a8\u9001\u6e20\u9053\uff1awechat\u3001mail\u3001webhook\u3001cp\u3001sms \u7b49\uff0c\u9ed8\u8ba4 wechat <code>topic</code> \u5b57\u7b26\u4e32 \u5426 \u7fa4\u7ec4\u4ee3\u7801\uff0c\u7fa4\u7ec4\u63a8\u9001\u65f6\u4f7f\u7528 <code>template</code> \u5b57\u7b26\u4e32 \u5426 html\u3001txt\u3001json\u3001markdown \u7b49\uff0c\u9ed8\u8ba4 html <code>to</code> \u5b57\u7b26\u4e32 \u5426 \u597d\u53cb\u6d88\u606f\u7684\u63a5\u6536\u8005\u6807\u8bc6"},{"location":"guides/push-channels/#_50","title":"\u914d\u7f6e\u793a\u4f8b","text":"<pre><code>push_channel:\n  - name: PushPlus\n    type: pushplus\n    token: \"xxxxxxxxxxxxxxxx\"\n    channel: wechat\n    template: html\n</code></pre>"},{"location":"guides/push-channels/#webhook","title":"Webhook","text":"<p>\u5411\u4efb\u610f URL \u53d1\u9001 HTTP \u8bf7\u6c42\uff0c\u53ef\u5e26 <code>title</code>\u3001<code>content</code> \u7b49\u53c2\u6570\u6216 Body\u3002\u652f\u6301\u56fe\u7247\uff08\u5982 POST \u5e26\u56fe\u7247 URL\uff09\u3002\u901a\u7528\u96c6\u6210\u65b9\u5f0f\u3002</p>"},{"location":"guides/push-channels/#_51","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>name</code> \u5b57\u7b26\u4e32 \u2705 \u901a\u9053\u540d\u79f0\uff0c\u552f\u4e00 <code>type</code> \u5b57\u7b26\u4e32 \u2705 \u56fa\u5b9a\u4e3a <code>webhook</code> <code>webhook_url</code> \u5b57\u7b26\u4e32 \u2705 \u8bf7\u6c42 URL\uff0c\u652f\u6301\u5360\u4f4d\u7b26\u5982 <code>{{title}}</code>\u3001<code>{{content}}</code> <code>request_method</code> \u5b57\u7b26\u4e32 \u5426 GET \u6216 POST\uff0c\u9ed8\u8ba4 GET"},{"location":"guides/push-channels/#_52","title":"\u914d\u7f6e\u793a\u4f8b","text":"<pre><code>push_channel:\n  - name: Webhook\n    type: webhook\n    webhook_url: \"https://your-server.com/notify?title={{title}}&amp;content={{content}}\"\n    request_method: GET\n</code></pre>"},{"location":"guides/push-channels/#gotify","title":"Gotify","text":"<p>\u81ea\u5efa Gotify \u670d\u52a1\u5668\u63a5\u6536\u63a8\u9001\u3002\u4e0d\u652f\u6301\u56fe\u7247\u3002\u9002\u5408\u81ea\u5efa\u73af\u5883\u3002</p>"},{"location":"guides/push-channels/#_53","title":"\u5b98\u65b9\u6587\u6863","text":"<ul> <li>Gotify \u5b98\u7f51</li> </ul>"},{"location":"guides/push-channels/#_54","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>name</code> \u5b57\u7b26\u4e32 \u2705 \u901a\u9053\u540d\u79f0\uff0c\u552f\u4e00 <code>type</code> \u5b57\u7b26\u4e32 \u2705 \u56fa\u5b9a\u4e3a <code>gotify</code> <code>web_server_url</code> \u5b57\u7b26\u4e32 \u2705 Gotify \u63a8\u9001\u5730\u5740\uff1b\u82e5\u670d\u52a1\u7aef\u8981\u6c42 token\uff0c\u8bf7\u5c06 token \u5199\u5728 URL \u4e2d\uff0c\u5982 <code>https://gotify.example.com/message?token=xxx</code>"},{"location":"guides/push-channels/#_55","title":"\u5982\u4f55\u83b7\u53d6","text":"<p>\u81ea\u5efa Gotify \u670d\u52a1\u540e\uff0c\u5728\u5e94\u7528/\u5ba2\u6237\u7aef\u4e2d\u521b\u5efa Application\uff0c\u83b7\u53d6\u63a8\u9001 URL\uff08\u542b token\uff09\uff0c\u5b8c\u6574\u586b\u5165 <code>web_server_url</code>\u3002</p>"},{"location":"guides/push-channels/#_56","title":"\u914d\u7f6e\u793a\u4f8b","text":"<pre><code>push_channel:\n  - name: Gotify\n    type: gotify\n    web_server_url: \"https://gotify.example.com/message?token=your_app_token\"\n</code></pre>"},{"location":"guides/push-channels/#_57","title":"\u7535\u5b50\u90ae\u4ef6","text":"<p>\u901a\u8fc7 SMTP \u53d1\u9001\u90ae\u4ef6\u3002\u652f\u6301\u56fe\u7247\uff08\u5982\u4ee5\u9644\u4ef6\u6216\u5185\u5d4c\u5f62\u5f0f\uff09\u3002</p>"},{"location":"guides/push-channels/#_58","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>name</code> \u5b57\u7b26\u4e32 \u2705 \u901a\u9053\u540d\u79f0\uff0c\u552f\u4e00 <code>type</code> \u5b57\u7b26\u4e32 \u2705 \u56fa\u5b9a\u4e3a <code>email</code> <code>smtp_host</code> \u5b57\u7b26\u4e32 \u2705 SMTP \u670d\u52a1\u5668\u5730\u5740\uff0c\u5982 <code>smtp.qq.com</code> <code>smtp_port</code> \u6574\u6570 \u2705 SMTP \u7aef\u53e3\uff0c\u5982 465\u3001587 <code>smtp_ssl</code> \u5e03\u5c14 \u5426 \u662f\u5426\u4f7f\u7528 SSL\uff0c\u9ed8\u8ba4 true <code>smtp_tls</code> \u5e03\u5c14 \u5426 \u662f\u5426\u4f7f\u7528 STARTTLS\uff0c\u9ed8\u8ba4 false <code>sender_email</code> \u5b57\u7b26\u4e32 \u2705 \u53d1\u4ef6\u4eba\u90ae\u7bb1 <code>sender_password</code> \u5b57\u7b26\u4e32 \u2705 \u53d1\u4ef6\u4eba\u5bc6\u7801\u6216\u6388\u6743\u7801 <code>receiver_email</code> \u5b57\u7b26\u4e32 \u2705 \u6536\u4ef6\u4eba\u90ae\u7bb1"},{"location":"guides/push-channels/#qq_1","title":"\u914d\u7f6e\u793a\u4f8b\uff08QQ \u90ae\u7bb1\uff09","text":"<p>QQ \u90ae\u7bb1\u9700\u5728\u300c\u8bbe\u7f6e \u2192 \u8d26\u6237\u300d\u4e2d\u5f00\u542f SMTP \u5e76\u751f\u6210\u6388\u6743\u7801\uff0c\u7528\u6388\u6743\u7801\u4f5c\u4e3a <code>sender_password</code>\u3002</p> <pre><code>push_channel:\n  - name: Email\n    type: email\n    smtp_host: smtp.qq.com\n    smtp_port: 465\n    smtp_ssl: true\n    smtp_tls: false\n    sender_email: \"your@qq.com\"\n    sender_password: \"\u6388\u6743\u7801\"\n    receiver_email: \"receiver@example.com\"\n</code></pre>"},{"location":"guides/push-channels/#qlapiqlapi","title":"\u9752\u9f99 QLAPI\uff08qlapi\uff09","text":"<p>\u5728 \u9752\u9f99\u9762\u677f \u4e2d\u8fd0\u884c <code>ql/*.py</code> \u811a\u672c\u65f6\uff0c\u7cfb\u7edf\u4f1a\u81ea\u52a8\u4f7f\u7528 <code>qlapi</code> \u7c7b\u578b\u901a\u9053\uff0c\u8c03\u7528 <code>QLAPI.systemNotify</code> \u53d1\u9001\u63a8\u9001\u3002\u8be5\u901a\u9053\u7531\u9752\u9f99\u73af\u5883\u81ea\u52a8\u6ce8\u5165\uff0c\u7528\u6237\u65e0\u9700\u5728 <code>config.yml</code> \u4e2d\u914d\u7f6e\uff1b\u63a8\u9001\u65b9\u5f0f\u5728\u9752\u9f99\u300c\u7cfb\u7edf\u8bbe\u7f6e \u2192 \u901a\u77e5\u8bbe\u7f6e\u300d\u4e2d\u7edf\u4e00\u914d\u7f6e\u3002\u975e\u9752\u9f99\u73af\u5883\u4e0b <code>qlapi</code> \u4e0d\u53ef\u7528\uff0c\u4f1a\u9759\u9ed8\u8df3\u8fc7\u3002</p>"},{"location":"guides/push-channels/#_59","title":"\u4efb\u52a1\u7ea7\u901a\u9053\u9009\u62e9","text":"<p>\u5728\u4efb\u610f\u76d1\u63a7\u6216\u7b7e\u5230\u4efb\u52a1\u7684\u914d\u7f6e\u4e2d\uff0c\u53ef\u8bbe\u7f6e <code>push_channels</code>\uff08\u5217\u8868\uff0c\u5143\u7d20\u4e3a\u4e0a\u8ff0\u67d0\u901a\u9053\u7684 <code>name</code>\uff09\uff1a</p> <ul> <li>\u4e3a\u7a7a\uff1a\u4f7f\u7528\u5168\u90e8\u5df2\u914d\u7f6e\u7684\u63a8\u9001\u901a\u9053\u3002  </li> <li>\u975e\u7a7a\uff1a\u4ec5\u4f7f\u7528\u5217\u51fa\u7684\u901a\u9053\uff0c\u4fbf\u4e8e\u4e0d\u540c\u4efb\u52a1\u63a8\u9001\u5230\u4e0d\u540c\u7fa4\u6216\u5e94\u7528\u3002</li> </ul> <p>\u793a\u4f8b\uff1a\u4ec5\u5fae\u535a\u76d1\u63a7\u4f7f\u7528\u300c\u9489\u9489\u673a\u5668\u4eba\u300d\uff0c\u7b7e\u5230\u4f7f\u7528\u300c\u4f01\u4e1a\u5fae\u4fe1\u673a\u5668\u4eba\u300d\uff1a</p> <pre><code>weibo:\n  push_channels: [\u9489\u9489\u673a\u5668\u4eba]\ntieba:\n  push_channels: [\u4f01\u4e1a\u5fae\u4fe1\u673a\u5668\u4eba]\n</code></pre>"},{"location":"guides/tasks/","title":"\u76d1\u63a7\u4e0e\u5b9a\u65f6\u4efb\u52a1","text":"<p>\u7cfb\u7edf\u5305\u542b\u4e24\u7c7b\u4efb\u52a1\uff1a</p> <ul> <li>\u76d1\u63a7\u4efb\u52a1\uff1a\u6309\u56fa\u5b9a\u95f4\u9694\u8f6e\u8be2\uff0c\u68c0\u6d4b\u5230\u53d8\u5316\uff08\u5982\u5fae\u535a\u65b0\u52a8\u6001\u3001\u864e\u7259\u5f00\u64ad\uff09\u65f6\u63a8\u9001\u3002  </li> <li>\u5b9a\u65f6\u4efb\u52a1\uff1a\u6309\u6bcf\u65e5\u5b9a\u70b9\u65f6\u95f4\uff08Cron\uff09\u6267\u884c\uff0c\u5982\u5404\u7c7b\u7b7e\u5230\u3001\u65e5\u5fd7\u6e05\u7406\u3001\u5929\u6c14\u63a8\u9001\u7b49\u3002</li> </ul> <p>\u901a\u7528\u884c\u4e3a\uff1a</p> <ul> <li>\u9879\u76ee\u542f\u52a8\u65f6\u4f1a\u6267\u884c\u4e00\u6b21\u6240\u6709\u5b9a\u65f6\u4efb\u52a1\uff08\u7b7e\u5230\u7c7b\u4ec5\u5728 <code>enable: true</code> \u4e14\u914d\u7f6e\u5b8c\u6574\u65f6\u771f\u6b63\u6267\u884c\uff09\u3002  </li> <li>\u5b9a\u65f6\u4efb\u52a1\u9ed8\u8ba4\u5f53\u5929\u5df2\u8fd0\u884c\u5219\u8df3\u8fc7\uff1b\u5728 Web\u300c\u4efb\u52a1\u7ba1\u7406\u300d\u4e2d\u624b\u52a8\u89e6\u53d1\u53ef\u5f3a\u5236\u6267\u884c\u3002  </li> <li>\u4fee\u6539 <code>config.yml</code> \u540e\u7ea6 5 \u79d2\u70ed\u91cd\u8f7d \u751f\u6548\uff0c\u65e0\u9700\u91cd\u542f\u3002</li> </ul>"},{"location":"guides/tasks/#_2","title":"\u4efb\u52a1\u7ba1\u7406\u754c\u9762","text":"<p>\u5728 Web \u7ba1\u7406\u754c\u9762\u7684\u300c\u4efb\u52a1\u7ba1\u7406\u300d\u4e2d\uff0c\u53ef\u67e5\u770b\u6240\u6709\u76d1\u63a7\u4efb\u52a1\u4e0e\u5b9a\u65f6\u4efb\u52a1\uff0c\u652f\u6301\u300c\u7acb\u5373\u8fd0\u884c\u300d\u624b\u52a8\u89e6\u53d1\u3001\u300c\u67e5\u770b\u65e5\u5fd7\u300d\u67e5\u770b\u8be5\u4efb\u52a1\u4eca\u65e5\u65e5\u5fd7\u3002</p> <p></p>"},{"location":"guides/tasks/#_3","title":"\u76d1\u63a7\u4efb\u52a1\u4e00\u89c8","text":"\u5e73\u53f0 \u529f\u80fd \u914d\u7f6e\u8282\u70b9 \u8be6\u7ec6\u8bf4\u660e \u5fae\u535a \u76d1\u63a7\u7528\u6237\u6700\u65b0\u52a8\u6001 <code>weibo</code> \u76d1\u63a7\u4efb\u52a1\u8be6\u89e3 \u864e\u7259 \u76d1\u63a7\u76f4\u64ad\u95f4\u5f00\u64ad/\u4e0b\u64ad <code>huya</code> \u76d1\u63a7\u4efb\u52a1\u8be6\u89e3 \u54d4\u54e9\u54d4\u54e9 \u52a8\u6001 + \u5f00\u64ad/\u4e0b\u64ad <code>bilibili</code> \u76d1\u63a7\u4efb\u52a1\u8be6\u89e3 \u6296\u97f3 \u76f4\u64ad\u5f00\u64ad/\u4e0b\u64ad <code>douyin</code> \u76d1\u63a7\u4efb\u52a1\u8be6\u89e3 \u6597\u9c7c \u76f4\u64ad\u5f00\u64ad/\u4e0b\u64ad <code>douyu</code> \u76d1\u63a7\u4efb\u52a1\u8be6\u89e3 \u5c0f\u7ea2\u4e66 \u7528\u6237\u6700\u65b0\u7b14\u8bb0 <code>xhs</code> \u76d1\u63a7\u4efb\u52a1\u8be6\u89e3 <p>\u5b8c\u6574\u914d\u7f6e\u9879\u3001Cookie/UID/\u623f\u95f4\u53f7\u83b7\u53d6\u65b9\u5f0f\u89c1 \u76d1\u63a7\u4efb\u52a1\u8be6\u89e3\u3002\u5404\u76d1\u63a7\u652f\u6301 <code>enable</code> \u914d\u7f6e\uff0c\u8bbe\u4e3a <code>false</code> \u53ef\u6682\u505c\uff0c\u70ed\u91cd\u8f7d\u751f\u6548\u3002</p>"},{"location":"guides/tasks/#_4","title":"\u5b9a\u65f6\u4efb\u52a1\u4e00\u89c8","text":"\u4efb\u52a1 \u914d\u7f6e\u8282\u70b9 \u9ed8\u8ba4\u65f6\u95f4 \u8ba4\u8bc1/\u8bf4\u660e \u8be6\u7ec6\u8bf4\u660e \u5fae\u535a\u8d85\u8bdd\u7b7e\u5230 <code>weibo_chaohua</code> 23:45 Cookie\uff08XSRF-TOKEN\uff09 \u5b9a\u65f6\u4efb\u52a1\u8be6\u89e3 iKuuu \u7b7e\u5230 <code>checkin</code> 08:00 \u90ae\u7bb1+\u5bc6\u7801 \u5b9a\u65f6\u4efb\u52a1\u8be6\u89e3 \u96e8\u4e91\u7b7e\u5230 <code>rainyun</code> 08:30 \u8d26\u53f7+\u5bc6\u7801\uff08api_key \u53ef\u9009\u7eed\u8d39\uff09 \u5b9a\u65f6\u4efb\u52a1\u8be6\u89e3 \u767e\u5ea6\u8d34\u5427\u7b7e\u5230 <code>tieba</code> 08:10 Cookie\uff08BDUSS\uff09 \u5b9a\u65f6\u4efb\u52a1\u8be6\u89e3 \u6069\u5c71\u8bba\u575b\u7b7e\u5230 <code>enshan</code> 02:00 Cookie \u5b9a\u65f6\u4efb\u52a1\u8be6\u89e3 \u5929\u7ffc\u4e91\u76d8\u7b7e\u5230 <code>tyyun</code> 04:30 \u624b\u673a\u53f7+\u5bc6\u7801 \u5b9a\u65f6\u4efb\u52a1\u8be6\u89e3 \u963f\u91cc\u4e91\u76d8\u7b7e\u5230 <code>aliyun</code> 05:30 refresh_token \u5b9a\u65f6\u4efb\u52a1\u8be6\u89e3 \u4ec0\u4e48\u503c\u5f97\u4e70\u7b7e\u5230 <code>smzdm</code> 00:30 Cookie \u5b9a\u65f6\u4efb\u52a1\u8be6\u89e3 \u503c\u5f97\u4e70\u6bcf\u65e5\u62bd\u5956 <code>zdm_draw</code> 07:30 Cookie \u5b9a\u65f6\u4efb\u52a1\u8be6\u89e3 \u5bcc\u8d35\u8bba\u575b\u7b7e\u5230 <code>fg</code> 00:01 Cookie \u5b9a\u65f6\u4efb\u52a1\u8be6\u89e3 \u5c0f\u7c73\u793e\u533a\u7b7e\u5230 <code>miui</code> 08:30 \u8d26\u53f7+\u5bc6\u7801 \u5b9a\u65f6\u4efb\u52a1\u8be6\u89e3 \u7231\u5947\u827a\u7b7e\u5230 <code>iqiyi</code> 06:00 Cookie \u5b9a\u65f6\u4efb\u52a1\u8be6\u89e3 \u8054\u60f3\u4e50\u8c46\u7b7e\u5230 <code>lenovo</code> 05:30 access_token \u5b9a\u65f6\u4efb\u52a1\u8be6\u89e3 \u4e3d\u5b9d\u4e50\u56ed\u7b7e\u5230 <code>lbly</code> 05:30 \u8bf7\u6c42\u4f53 JSON \u5b9a\u65f6\u4efb\u52a1\u8be6\u89e3 \u54c1\u8d5e\u4ee3\u7406\u7b7e\u5230 <code>pinzan</code> 08:00 \u8d26\u53f7+\u5bc6\u7801 \u5b9a\u65f6\u4efb\u52a1\u8be6\u89e3 \u8fbe\u7f8e\u4e50\u4efb\u52a1 <code>dml</code> 06:00 openid \u5b9a\u65f6\u4efb\u52a1\u8be6\u89e3 \u5c0f\u8305\u9884\u7ea6\uff08i\u8305\u53f0\uff09 <code>xiaomao</code> 09:00 token \u4e32 \u5b9a\u65f6\u4efb\u52a1\u8be6\u89e3 \u4e00\u70b9\u4e07\u8c61\u7b7e\u5230 <code>ydwx</code> 06:00 deviceParams+token \u5b9a\u65f6\u4efb\u52a1\u8be6\u89e3 \u661f\u7a7a\u4ee3\u7406\u7b7e\u5230 <code>xingkong</code> 07:30 \u7528\u6237\u540d+\u5bc6\u7801 \u5b9a\u65f6\u4efb\u52a1\u8be6\u89e3 Freenom \u7eed\u671f <code>freenom</code> 07:33 \u90ae\u7bb1+\u5bc6\u7801 \u5b9a\u65f6\u4efb\u52a1\u8be6\u89e3 \u5929\u6c14\u63a8\u9001 <code>weather</code> 07:30 \u57ce\u5e02\u4ee3\u7801 \u5b9a\u65f6\u4efb\u52a1\u8be6\u89e3 \u5343\u56fe\u7f51\u7b7e\u5230 <code>qtw</code> 01:30 Cookie \u5b9a\u65f6\u4efb\u52a1\u8be6\u89e3 \u5938\u514b\u7f51\u76d8\u7b7e\u5230 <code>kuake</code> 02:00 Cookie \u5b9a\u65f6\u4efb\u52a1\u8be6\u89e3 \u79d1\u6280\u73a9\u5bb6\u7b7e\u5230 <code>kjwj</code> 07:30 \u8d26\u53f7+\u5bc6\u7801 \u5b9a\u65f6\u4efb\u52a1\u8be6\u89e3 \u5e06\u8f6f\u793e\u533a\u7b7e\u5230 <code>fr</code> 06:30 Cookie \u5b9a\u65f6\u4efb\u52a1\u8be6\u89e3 999 \u5065\u5eb7\u4efb\u52a1 <code>nine_nine_nine</code> 15:15 Authorization \u5b9a\u65f6\u4efb\u52a1\u8be6\u89e3 \u798f\u5f69\u62bd\u5956 <code>zgfc</code> 08:00 Authorization \u5b9a\u65f6\u4efb\u52a1\u8be6\u89e3 \u53cc\u8272\u7403\u901a\u77e5 <code>ssq_500w</code> 21:30 \u65e0\u9700\u8d26\u53f7 \u5b9a\u65f6\u4efb\u52a1\u8be6\u89e3 \u65e5\u5fd7\u6e05\u7406 <code>log_cleanup</code> 02:10 \u65e0 \u5b9a\u65f6\u4efb\u52a1\u8be6\u89e3 Demo \u793a\u4f8b <code>plugins.demo_task</code> 08:30 \u65e0 \u5b9a\u65f6\u4efb\u52a1\u8be6\u89e3 <p>\u6bcf\u4e2a\u4efb\u52a1\u7684\u914d\u7f6e\u9879\u3001\u83b7\u53d6\u65b9\u5f0f\u3001\u793a\u4f8b\u89c1 \u5b9a\u65f6\u4efb\u52a1\uff08\u7b7e\u5230\uff09\u8be6\u89e3\u3002</p>"},{"location":"guides/tasks/#_5","title":"\u514d\u6253\u6270\u4e0e\u63d2\u4ef6","text":"<ul> <li>\u514d\u6253\u6270\u65f6\u6bb5\uff08<code>quiet_hours</code>\uff09\uff1a\u5728\u6307\u5b9a\u65f6\u95f4\u6bb5\u5185\u4e0d\u63a8\u9001\u901a\u77e5\uff0c\u4efb\u52a1\u7167\u5e38\u6267\u884c\u3002\u8be6\u89c1 \u5b9a\u65f6\u4efb\u52a1\u8be6\u89e3 - \u514d\u6253\u6270\u65f6\u6bb5\u3002  </li> <li>\u4e8c\u6b21\u5f00\u53d1\uff1a\u65b0\u589e\u76d1\u63a7/\u5b9a\u65f6\u4efb\u52a1\u89c1 \u4e8c\u6b21\u5f00\u53d1\u6307\u5357\u3002</li> </ul>"},{"location":"guides/tasks/#_6","title":"\u9752\u9f99\u9762\u677f\u90e8\u7f72","text":"<p>\u82e5\u5df2\u4f7f\u7528 \u9752\u9f99\u9762\u677f\uff0c\u53ef\u901a\u8fc7 <code>ql/</code> \u76ee\u5f55\u4e0b\u7684\u811a\u672c\u8fd0\u884c\u5b9a\u65f6\u4efb\u52a1\uff0c\u914d\u7f6e\u4f7f\u7528\u73af\u5883\u53d8\u91cf\uff0c\u63a8\u9001\u8d70\u9752\u9f99\u5185\u7f6e\u901a\u77e5\uff08QLAPI\uff09\u3002\u8be6\u89c1 \u9752\u9f99\u9762\u677f\u517c\u5bb9\u6307\u5357\u3002</p>"},{"location":"guides/web-ui/","title":"Web \u7ba1\u7406\u754c\u9762","text":"<p>\u90e8\u7f72\u5b8c\u6210\u540e\u8bbf\u95ee <code>http://localhost:8866</code>\uff0c\u9ed8\u8ba4\u8d26\u53f7 <code>admin</code> / <code>123</code>\u3002\u751f\u4ea7\u73af\u5883\u8bf7\u5728\u300c\u5bc6\u7801\u4fee\u6539\u300d\u4e2d\u4fee\u6539\u9ed8\u8ba4\u51ed\u636e\u3002</p>"},{"location":"guides/web-ui/#_1","title":"\u529f\u80fd\u6982\u89c8","text":"\u529f\u80fd \u8bf4\u660e \u914d\u7f6e\u7ba1\u7406 \u53ef\u89c6\u5316\u7f16\u8f91 <code>config.yml</code>\uff0c\u652f\u6301\u8868\u683c\u89c6\u56fe\u4e0e\u6587\u672c\u89c6\u56fe\uff0c\u4fdd\u5b58\u540e\u81ea\u52a8\u70ed\u91cd\u8f7d \u5bc6\u7801\u4fee\u6539 \u4fee\u6539 Web \u767b\u5f55\u5bc6\u7801\uff0c\u751f\u4ea7\u73af\u5883\u52a1\u5fc5\u4fee\u6539\u9ed8\u8ba4\u8d26\u53f7 \u4efb\u52a1\u7ba1\u7406 \u67e5\u770b\u6240\u6709\u76d1\u63a7\u4efb\u52a1\u4e0e\u5b9a\u65f6\u4efb\u52a1\uff0c\u652f\u6301\u624b\u52a8\u89e6\u53d1\u6267\u884c \u6570\u636e\u5c55\u793a \u67e5\u770b\u5fae\u535a\u3001\u864e\u7259\u3001\u54d4\u54e9\u54d4\u54e9\u3001\u6296\u97f3\u3001\u6597\u9c7c\u3001\u5c0f\u7ea2\u4e66\u7b49\u5e73\u53f0\u7684\u76d1\u63a7\u4e0e\u5386\u53f2\u6570\u636e \u65e5\u5fd7\u67e5\u770b \u5b9e\u65f6\u67e5\u770b\u5f53\u5929\u603b\u65e5\u5fd7\u6216\u5404\u4efb\u52a1\u4e13\u5c5e\u65e5\u5fd7 AI \u52a9\u624b \u914d\u7f6e\u7ba1\u7406\u3001\u4efb\u52a1\u7ba1\u7406\u3001\u6570\u636e\u5c55\u793a\u9875\u9762\u5e95\u90e8\u7684\u300c\u95ee AI\u300d\u5165\u53e3\uff0c\u652f\u6301\u667a\u80fd\u95ee\u7b54\u3001\u914d\u7f6e\u751f\u6210\u3001\u65e5\u5fd7\u8bca\u65ad\u3001\u6570\u636e\u6d1e\u5bdf\u3001\u53ef\u6267\u884c\u64cd\u4f5c"},{"location":"guides/web-ui/#_2","title":"\u914d\u7f6e\u7ba1\u7406","text":"<p>\u5de6\u4fa7\u4e3a\u5bfc\u822a/\u8868\u683c\u89c6\u56fe\uff0c\u53ef\u6309\u6a21\u5757\uff08\u5fae\u535a\u3001\u864e\u7259\u3001\u63a8\u9001\u901a\u9053\u7b49\uff09\u5feb\u901f\u5b9a\u4f4d\uff1b\u53f3\u4fa7\u53ef\u5207\u6362\u4e3a YAML \u6587\u672c\u7f16\u8f91 \u76f4\u63a5\u4fee\u6539\u539f\u59cb\u914d\u7f6e\u3002\u4fee\u6539\u540e\u70b9\u51fb\u4fdd\u5b58\uff0c\u7ea6 5 \u79d2\u5185\u81ea\u52a8\u751f\u6548\uff0c\u65e0\u9700\u91cd\u542f\u7a0b\u5e8f\u6216\u5bb9\u5668\u3002</p> <p></p> <p>\u64cd\u4f5c\u63d0\u793a\uff1a\u9996\u6b21\u914d\u7f6e\u65f6\uff0c\u5efa\u8bae\u5148\u914d\u7f6e\u81f3\u5c11\u4e00\u4e2a\u63a8\u9001\u901a\u9053\uff0c\u518d\u914d\u7f6e\u76d1\u63a7/\u7b7e\u5230\u4efb\u52a1\uff0c\u5426\u5219\u65e0\u6cd5\u6536\u5230\u63a8\u9001\u901a\u77e5\u3002</p>"},{"location":"guides/web-ui/#_3","title":"\u5bc6\u7801\u4fee\u6539","text":"<p>\u751f\u4ea7\u73af\u5883\u52a1\u5fc5\u4fee\u6539\u9ed8\u8ba4\u8d26\u53f7\u5bc6\u7801\u3002\u5728\u4fa7\u8fb9\u680f\u5e95\u90e8\u6216\u9876\u90e8\u8fdb\u5165\u300c\u5bc6\u7801\u4fee\u6539\u300d\u9875\u9762\uff0c\u8f93\u5165\u5f53\u524d\u5bc6\u7801\u548c\u65b0\u5bc6\u7801\u5373\u53ef\u3002</p> <p></p> <p>\u5b89\u5168\u63d0\u9192</p> <p>\u9ed8\u8ba4\u8d26\u53f7 <code>admin</code> / <code>123</code> \u4ec5\u7528\u4e8e\u6d4b\u8bd5\uff0c\u90e8\u7f72\u5230\u516c\u7f51\u6216\u5c40\u57df\u7f51\u524d\u8bf7\u52a1\u5fc5\u4fee\u6539\uff0c\u907f\u514d\u88ab\u672a\u6388\u6743\u8bbf\u95ee\u3002</p>"},{"location":"guides/web-ui/#_4","title":"\u4efb\u52a1\u7ba1\u7406","text":"<p>\u5217\u8868\u5c55\u793a\u6bcf\u4e2a\u4efb\u52a1\u7684\u7c7b\u578b\uff08\u76d1\u63a7/\u5b9a\u65f6\uff09\u3001\u89e6\u53d1\u65b9\u5f0f\u3001\u63cf\u8ff0\u7b49\u3002\u53ef\u5bf9\u5355\u4e2a\u4efb\u52a1\u6267\u884c\u300c\u7acb\u5373\u8fd0\u884c\u300d\u5f3a\u5236\u6267\u884c\uff0c\u6216\u70b9\u51fb\u300c\u67e5\u770b\u65e5\u5fd7\u300d\u5f39\u51fa\u8be5\u4efb\u52a1\u4eca\u65e5\u4e13\u5c5e\u65e5\u5fd7\u3002</p> <p></p> <p>\u5173\u4e8e\u300c\u5f53\u5929\u5df2\u8fd0\u884c\u5219\u8df3\u8fc7\u300d\uff1a\u5b9a\u65f6\u4efb\u52a1\u9ed8\u8ba4\u4f1a\u68c0\u67e5\u5f53\u5929\u662f\u5426\u5df2\u6267\u884c\uff0c\u82e5\u5df2\u6267\u884c\u5219\u8df3\u8fc7\u3002\u5728\u300c\u4efb\u52a1\u7ba1\u7406\u300d\u4e2d\u624b\u52a8\u89e6\u53d1\u53ef\u7ed5\u8fc7\u8be5\u68c0\u67e5\uff0c\u5f3a\u5236\u6267\u884c\u4e00\u6b21\u3002</p>"},{"location":"guides/web-ui/#_5","title":"\u6570\u636e\u5c55\u793a","text":"<p>\u6309\u5e73\u53f0\uff08\u5fae\u535a\u3001\u864e\u7259\u3001\u54d4\u54e9\u54d4\u54e9\u3001\u6296\u97f3\u3001\u6597\u9c7c\u3001\u5c0f\u7ea2\u4e66\uff09\u67e5\u770b\u76d1\u63a7\u8bb0\u5f55\uff0c\u652f\u6301\u5206\u9875\u4e0e\u7b5b\u9009\uff08\u5982\u6309 UID\u3001\u623f\u95f4\u53f7\u3001\u65f6\u95f4\u8303\u56f4\uff09\u3002</p> <p></p>"},{"location":"guides/web-ui/#_6","title":"\u65e5\u5fd7\u67e5\u770b","text":"<p>\u6309\u65e5\u671f\u67e5\u770b\u5e94\u7528\u65e5\u5fd7\uff0c\u4fbf\u4e8e\u6392\u67e5\u4efb\u52a1\u6267\u884c\u3001\u63a8\u9001\u5931\u8d25\u7b49\u95ee\u9898\u3002\u652f\u6301\u5207\u6362\u300c\u4eca\u65e5\u603b\u65e5\u5fd7\u300d\u6216\u6307\u5b9a\u4efb\u52a1\u7684\u4eca\u65e5\u4e13\u5c5e\u65e5\u5fd7\u3002\u4efb\u52a1\u7ba1\u7406\u9875\u6bcf\u4e2a\u4efb\u52a1\u65c1\u6709\u300c\u67e5\u770b\u65e5\u5fd7\u300d\u6309\u94ae\uff0c\u53ef\u5feb\u901f\u5f39\u51fa\u8be5\u4efb\u52a1\u7684\u4eca\u65e5\u65e5\u5fd7\u3002</p> <p></p>"},{"location":"guides/web-ui/#ai","title":"AI \u52a9\u624b","text":"<p>\u5728\u914d\u7f6e\u7ba1\u7406\u3001\u4efb\u52a1\u7ba1\u7406\u3001\u6570\u636e\u5c55\u793a\u9875\u9762\u5e95\u90e8\u6709\u60ac\u6d6e\u300c\u95ee AI\u300d\u6309\u94ae\uff0c\u70b9\u51fb\u540e\u5f39\u51fa\u5bf9\u8bdd\u7a97\u53e3\u3002AI \u52a9\u624b\u57fa\u4e8e RAG + LLM\uff0c\u652f\u6301\uff1a</p> <ul> <li>\u914d\u7f6e\u751f\u6210\uff1a\u63cf\u8ff0\u9700\u6c42\uff0c\u5982\u300c\u6bcf\u5929 8 \u70b9\u7b7e iKuuu\uff0c\u63a8\u9001\u5230\u4f01\u4e1a\u5fae\u4fe1\u300d</li> <li>\u65e5\u5fd7\u8bca\u65ad\uff1a\u8be2\u95ee\u300c\u5fae\u535a\u76d1\u63a7\u6700\u8fd1\u62a5\u9519\u4e86\u5417\u300d\u300c\u6709\u4ec0\u4e48\u5931\u8d25\u300d</li> <li>\u6570\u636e\u6d1e\u5bdf\uff1a\u8be2\u95ee\u300c\u6700\u8fd1\u8c01\u5f00\u64ad\u4e86\u300d\u300c\u672c\u5468\u8c01\u5f00\u64ad\u6700\u9891\u7e41\u300d</li> <li>\u5f53\u524d\u72b6\u6001\uff1a\u8be2\u95ee\u300c\u864e\u7259\u8c01\u5728\u76f4\u64ad\u300d\u300cB \u7ad9\u548c\u6296\u97f3\u6700\u65b0\u72b6\u6001\u300d</li> <li>\u53ef\u6267\u884c\u64cd\u4f5c\uff1a\u5982\u300c\u5173\u95ed\u6296\u97f3\u76d1\u63a7\u300d\u300c\u6dfb\u52a0\u864e\u7259\u623f\u95f4 200\u300d\uff0c\u8bc6\u522b\u540e\u4f1a\u5f39\u51fa\u786e\u8ba4\u5f39\u7a97\uff0c\u786e\u8ba4\u5373\u53ef\u4fee\u6539\u914d\u7f6e\u5e76\u70ed\u91cd\u8f7d</li> </ul> <p>\u9700\u5728 <code>config.yml</code> \u4e2d\u542f\u7528 <code>ai_assistant.enable</code>\u3002\u8be6\u89c1 AI \u52a9\u624b\u4f7f\u7528\u6307\u5357\u3002</p>"},{"location":"guides/web-ui/#_7","title":"\u7248\u672c\u4e0e\u66f4\u65b0","text":"<ul> <li>\u4fa7\u8fb9\u680f\u5e95\u90e8\u663e\u793a\u5f53\u524d\u7248\u672c\u53f7</li> <li>\u82e5\u68c0\u6d4b\u5230\u65b0\u7248\u672c\uff0c\u9875\u9762\u9876\u90e8\u4f1a\u663e\u793a\u66f4\u65b0\u63d0\u793a\u6a2a\u5e45\uff0c\u70b9\u51fb\u53ef\u8df3\u8f6c\u81f3 GitHub Releases</li> </ul>"},{"location":"guides/web-ui/#_8","title":"\u76f8\u5173\u6587\u6863","text":"<ul> <li>\u90e8\u7f72\u4e0e\u8bbf\u95ee\uff1a\u5b89\u88c5\u4e0e\u8fd0\u884c</li> <li>\u914d\u7f6e\u9879\u8bf4\u660e\uff1a\u914d\u7f6e\u8bf4\u660e</li> <li>\u63a5\u53e3\u4e0e\u96c6\u6210\uff1aAPI \u53c2\u8003</li> </ul>"},{"location":"guides/tasks/checkin/","title":"\u5b9a\u65f6\u4efb\u52a1\uff08\u7b7e\u5230\uff09\u8be6\u89e3","text":"<p>\u4ee5\u4e0b\u4e3a\u6240\u6709\u5185\u7f6e\u5b9a\u65f6\u4efb\u52a1\u7684\u914d\u7f6e\u8bf4\u660e\u3002\u6bcf\u4e2a\u4efb\u52a1\u5728 <code>config.yml</code> \u4e2d\u6709\u72ec\u7acb\u914d\u7f6e\u8282\u70b9\uff0c\u5fc5\u586b\u9879\u672a\u914d\u7f6e\u6216 <code>enable: false</code> \u65f6\u4e0d\u4f1a\u6267\u884c\u3002 \u9ed8\u8ba4\u884c\u4e3a\uff1a\u9879\u76ee\u542f\u52a8\u65f6\u4f1a\u6267\u884c\u4e00\u6b21\uff1b\u4e4b\u540e\u6309 <code>time</code> \u6bcf\u65e5\u5b9a\u70b9\u6267\u884c\uff1b\u82e5\u5f53\u5929\u5df2\u8fd0\u884c\u8fc7\u5219\u8df3\u8fc7\uff08Web\u300c\u4efb\u52a1\u7ba1\u7406\u300d\u4e2d\u624b\u52a8\u89e6\u53d1\u53ef\u5f3a\u5236\u6267\u884c\uff09\u3002</p>"},{"location":"guides/tasks/checkin/#_2","title":"\u901a\u7528\u914d\u7f6e\u9879","text":"<p>\u591a\u6570\u7b7e\u5230\u4efb\u52a1\u652f\u6301\u4ee5\u4e0b\u5b57\u6bb5\uff08\u5177\u4f53\u4ee5\u5404\u4efb\u52a1\u4e3a\u51c6\uff09\uff1a</p> \u914d\u7f6e\u9879 \u8bf4\u660e <code>enable</code> \u662f\u5426\u542f\u7528\uff0c<code>true</code> \u65f6\u4e14\u5176\u4ed6\u5fc5\u586b\u9879\u9f50\u5168\u624d\u4f1a\u6267\u884c <code>time</code> \u6bcf\u65e5\u6267\u884c\u65f6\u95f4\uff0c24 \u5c0f\u65f6\u5236 <code>HH:MM</code>\uff0c\u5982 <code>\"08:00\"</code> <code>push_channels</code> \u63a8\u9001\u901a\u9053\u540d\u79f0\u5217\u8868\uff0c\u4e3a\u7a7a\u65f6\u4f7f\u7528\u5168\u90e8\u5df2\u914d\u7f6e\u901a\u9053"},{"location":"guides/tasks/checkin/#_3","title":"\u5fae\u535a\u8d85\u8bdd\u7b7e\u5230","text":"<p>\u914d\u7f6e\u8282\u70b9\uff1a<code>weibo_chaohua</code> \u9ed8\u8ba4\u65f6\u95f4\uff1a23:45 \u8ba4\u8bc1\u65b9\u5f0f\uff1aCookie\uff08\u987b\u5305\u542b XSRF-TOKEN\uff09\uff0c\u652f\u6301\u591a Cookie\u3002</p>"},{"location":"guides/tasks/checkin/#_4","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>enable</code> \u5e03\u5c14 \u2705 \u662f\u5426\u542f\u7528 <code>cookie</code> \u5b57\u7b26\u4e32 \u5355\u8d26\u53f7\u5fc5\u586b \u5355\u8d26\u53f7\u65f6\u586b\u5199\u5b8c\u6574 Cookie <code>cookies</code> \u5217\u8868 \u591a\u8d26\u53f7\u65f6\u4f7f\u7528 \u591a\u8d26\u53f7\u65f6\u6bcf\u9879\u4e3a\u5b8c\u6574 Cookie \u5b57\u7b26\u4e32\uff0c\u4f18\u5148\u4e8e <code>cookie</code> <code>time</code> \u5b57\u7b26\u4e32 \u5426 \u7b7e\u5230\u65f6\u95f4\uff0c\u9ed8\u8ba4 <code>\"23:45\"</code> <code>push_channels</code> \u5217\u8868 \u5426 \u63a8\u9001\u901a\u9053"},{"location":"guides/tasks/checkin/#cookie","title":"\u5982\u4f55\u83b7\u53d6 Cookie","text":"<ol> <li>\u6d4f\u89c8\u5668\u6253\u5f00 \u5fae\u535a \u5e76\u767b\u5f55\u3002  </li> <li>\u6309 <code>F12</code> \u2192 Console\uff08\u63a7\u5236\u53f0\uff09\uff0c\u8f93\u5165 <code>document.cookie</code> \u56de\u8f66\uff0c\u590d\u5236\u8f93\u51fa\u7684\u6574\u6bb5\u5b57\u7b26\u4e32\u3002  </li> <li>\u786e\u4fdd\u5176\u4e2d\u5305\u542b XSRF-TOKEN\uff0c\u586b\u5165 <code>cookie</code> \u6216 <code>cookies</code> \u5217\u8868\u4e2d\u7684\u4e00\u9879\u3002</li> </ol>"},{"location":"guides/tasks/checkin/#_5","title":"\u793a\u4f8b","text":"<pre><code>weibo_chaohua:\n  enable: true\n  cookie: \"SCF=xxx; XSRF-TOKEN=xxx; SUB=xxx; ...\"\n  # \u591a\u8d26\u53f7\u65f6\u4f7f\u7528 cookies:\n  # cookies:\n  #   - \"SCF=xxx; XSRF-TOKEN=xxx; ...\"\n  #   - \"SCF=yyy; XSRF-TOKEN=yyy; ...\"\n  time: \"23:45\"\n  push_channels: []\n</code></pre>"},{"location":"guides/tasks/checkin/#ikuuu","title":"iKuuu \u7b7e\u5230","text":"<p>\u914d\u7f6e\u8282\u70b9\uff1a<code>checkin</code> \u9ed8\u8ba4\u65f6\u95f4\uff1a08:00 \u8ba4\u8bc1\u65b9\u5f0f\uff1a\u90ae\u7bb1 + \u5bc6\u7801\u3002\u57df\u540d\u81ea\u52a8\u4ece ikuuu.club \u53d1\u73b0\uff0c\u65e0\u9700\u914d\u7f6e URL\u3002\u652f\u6301\u591a\u8d26\u53f7\u3002</p>"},{"location":"guides/tasks/checkin/#_6","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>enable</code> \u5e03\u5c14 \u2705 \u662f\u5426\u542f\u7528 <code>email</code> \u5b57\u7b26\u4e32 \u5355\u8d26\u53f7\u5fc5\u586b \u767b\u5f55\u90ae\u7bb1 <code>password</code> \u5b57\u7b26\u4e32 \u5355\u8d26\u53f7\u5fc5\u586b \u767b\u5f55\u5bc6\u7801 <code>accounts</code> \u5217\u8868 \u591a\u8d26\u53f7\u65f6\u4f7f\u7528 \u6bcf\u9879 <code>email</code>\u3001<code>password</code>\uff0c\u4f18\u5148\u4e8e\u5355\u8d26\u53f7 <code>time</code> \u5b57\u7b26\u4e32 \u5426 \u9ed8\u8ba4 <code>\"08:00\"</code> <code>push_channels</code> \u5217\u8868 \u5426 \u63a8\u9001\u901a\u9053"},{"location":"guides/tasks/checkin/#_7","title":"\u793a\u4f8b","text":"<pre><code>checkin:\n  enable: true\n  email: user@example.com\n  password: your_password\n  # \u591a\u8d26\u53f7\uff1a\n  # accounts:\n  #   - email: user1@example.com\n  #     password: pass1\n  #   - email: user2@example.com\n  #     password: pass2\n  time: \"08:00\"\n  push_channels: []\n</code></pre>"},{"location":"guides/tasks/checkin/#_8","title":"\u96e8\u4e91\u7b7e\u5230","text":"<p>\u914d\u7f6e\u8282\u70b9\uff1a<code>rainyun</code> \u9ed8\u8ba4\u65f6\u95f4\uff1a08:30 \u8ba4\u8bc1\u65b9\u5f0f\uff1a\u8d26\u53f7\u5bc6\u7801\uff08Selenium + ddddocr\uff0c\u53c2\u8003 Rainyun-Qiandao\uff09\u3002\u7b7e\u5230\u4f7f\u7528\u8d26\u53f7\u5bc6\u7801\u767b\u5f55\uff0c<code>api_key</code> \u4ec5\u7528\u4e8e\u670d\u52a1\u5668\u5230\u671f\u81ea\u52a8\u7eed\u8d39\uff08\u53ef\u9009\uff09\u3002\u9700\u5b89\u88c5 Chrome/Chromium \u53ca chromedriver\u3002 \u670d\u52a1\u5668\u81ea\u52a8\u7eed\u8d39\uff1a\u7b7e\u5230\u5b8c\u6210\u540e\u4f1a\u68c0\u67e5\u6e38\u620f\u4e91\u670d\u52a1\u5668\u5230\u671f\u60c5\u51b5\uff0c\u5269\u4f59\u5929\u6570\u5c0f\u4e8e\u9608\u503c\u4e14\u79ef\u5206\u5145\u8db3\u65f6\u81ea\u52a8\u7eed\u8d39 7 \u5929\u3002</p>"},{"location":"guides/tasks/checkin/#_9","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>enable</code> \u5e03\u5c14 \u2705 \u662f\u5426\u542f\u7528 <code>accounts</code> \u5217\u8868 \u2705 \u6bcf\u9879\u542b <code>username</code>\u3001<code>password</code>\uff0c<code>api_key</code> \u53ef\u9009\uff08\u7528\u4e8e\u7eed\u8d39\uff09 <code>time</code> \u5b57\u7b26\u4e32 \u5426 \u9ed8\u8ba4 <code>\"08:30\"</code> <code>push_channels</code> \u5217\u8868 \u5426 \u63a8\u9001\u901a\u9053 <code>auto_renew</code> \u5e03\u5c14 \u5426 \u662f\u5426\u542f\u7528\u670d\u52a1\u5668\u5230\u671f\u81ea\u52a8\u7eed\u8d39\uff0c\u9ed8\u8ba4 <code>true</code> <code>renew_threshold_days</code> \u6574\u6570 \u5426 \u5269\u4f59\u591a\u5c11\u5929\u5185\u89e6\u53d1\u7eed\u8d39\uff0c\u9ed8\u8ba4 <code>7</code> <code>renew_product_ids</code> \u5217\u8868 \u5426 \u7eed\u8d39\u767d\u540d\u5355\uff08\u4ea7\u54c1 ID\uff09\uff0c\u4e3a\u7a7a\u5219\u7eed\u8d39\u6240\u6709\u5373\u5c06\u5230\u671f\u7684\u670d\u52a1\u5668"},{"location":"guides/tasks/checkin/#api-key","title":"\u5982\u4f55\u83b7\u53d6 API Key\uff08\u7eed\u8d39\u7528\uff09","text":"<ol> <li>\u767b\u5f55 \u96e8\u4e91\u63a7\u5236\u53f0\u3002  </li> <li>\u8fdb\u5165 \u603b\u89c8 \u2192 \u7528\u6237 \u2192 \u8d26\u6237\u8bbe\u7f6e \u2192 API \u5bc6\u94a5\u3002  </li> <li>\u521b\u5efa\u6216\u590d\u5236 API \u5bc6\u94a5\uff0c\u586b\u5165 <code>accounts</code> \u4e2d\u5bf9\u5e94\u8d26\u53f7\u7684 <code>api_key</code>\uff08\u53ef\u9009\uff0c\u4ec5\u7eed\u8d39\u65f6\u9700\u8981\uff09\u3002</li> </ol>"},{"location":"guides/tasks/checkin/#_10","title":"\u793a\u4f8b","text":"<pre><code>rainyun:\n  enable: true\n  accounts:\n    - username: \u4f60\u7684\u96e8\u4e91\u8d26\u53f7\n      password: \u4f60\u7684\u96e8\u4e91\u5bc6\u7801\n      api_key:  # \u53ef\u9009\uff0c\u7528\u4e8e\u670d\u52a1\u5668\u7eed\u8d39\n    - username: \u7b2c\u4e8c\u4e2a\u8d26\u53f7\n      password: \u7b2c\u4e8c\u4e2a\u5bc6\u7801\n      api_key:  # \u53ef\u9009\n  time: \"08:30\"\n  push_channels: []\n  auto_renew: true      # \u670d\u52a1\u5668\u5230\u671f\u81ea\u52a8\u7eed\u8d39\n  renew_threshold_days: 7  # \u5269\u4f59 7 \u5929\u5185\u89e6\u53d1\u7eed\u8d39\n  # renew_product_ids: [44500, 44501]  # \u767d\u540d\u5355\uff0c\u7559\u7a7a\u7eed\u8d39\u5168\u90e8\n</code></pre>"},{"location":"guides/tasks/checkin/#_11","title":"\u53c2\u8003","text":"<ul> <li>\u96e8\u4e91\u5b98\u7f51\uff1ahttps://www.rainyun.com</li> <li>Rainyun-Qiandao\uff08\u4e09\u6539\u7248\uff09\uff1ahttps://github.com/Jielumoon/Rainyun-Qiandao</li> </ul>"},{"location":"guides/tasks/checkin/#_12","title":"\u767e\u5ea6\u8d34\u5427\u7b7e\u5230","text":"<p>\u914d\u7f6e\u8282\u70b9\uff1a<code>tieba</code> \u9ed8\u8ba4\u65f6\u95f4\uff1a08:10 \u8ba4\u8bc1\u65b9\u5f0f\uff1aCookie\uff08\u987b\u5305\u542b BDUSS\uff09\uff0c\u652f\u6301\u591a Cookie\u3002</p>"},{"location":"guides/tasks/checkin/#_13","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>enable</code> \u5e03\u5c14 \u2705 \u662f\u5426\u542f\u7528 <code>cookie</code> \u5b57\u7b26\u4e32 \u5355\u8d26\u53f7\u5fc5\u586b \u987b\u542b BDUSS <code>cookies</code> \u5217\u8868 \u591a\u8d26\u53f7\u65f6\u4f7f\u7528 \u6bcf\u9879\u5b8c\u6574 Cookie <code>time</code> \u5b57\u7b26\u4e32 \u5426 \u9ed8\u8ba4 <code>\"08:10\"</code> <code>push_channels</code> \u5217\u8868 \u5426 \u63a8\u9001\u901a\u9053"},{"location":"guides/tasks/checkin/#cookie_1","title":"\u5982\u4f55\u83b7\u53d6 Cookie","text":"<ol> <li>\u6d4f\u89c8\u5668\u767b\u5f55 \u767e\u5ea6\u8d34\u5427\u3002  </li> <li><code>F12</code> \u2192 Console\uff0c\u8f93\u5165 <code>document.cookie</code> \u56de\u8f66\uff0c\u590d\u5236\u6574\u6bb5\u3002  </li> <li>\u786e\u8ba4\u5176\u4e2d\u5305\u542b BDUSS\uff0c\u586b\u5165 <code>cookie</code> \u6216 <code>cookies</code> \u4e2d\u4e00\u9879\u3002</li> </ol>"},{"location":"guides/tasks/checkin/#_14","title":"\u793a\u4f8b","text":"<pre><code>tieba:\n  enable: true\n  cookie: \"BIDUPSID=xxx; BDUSS=xxx; ...\"\n  time: \"08:10\"\n  push_channels: []\n</code></pre>"},{"location":"guides/tasks/checkin/#_15","title":"\u6069\u5c71\u8bba\u575b\u7b7e\u5230","text":"<p>\u914d\u7f6e\u8282\u70b9\uff1a<code>enshan</code> \u9ed8\u8ba4\u65f6\u95f4\uff1a02:00 \u8ba4\u8bc1\u65b9\u5f0f\uff1aCookie\uff0c\u652f\u6301\u591a Cookie\u3002</p>"},{"location":"guides/tasks/checkin/#_16","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>enable</code> \u5e03\u5c14 \u2705 \u662f\u5426\u542f\u7528 <code>cookie</code> \u5b57\u7b26\u4e32 \u5355\u8d26\u53f7\u5fc5\u586b \u767b\u5f55\u540e Cookie <code>cookies</code> \u5217\u8868 \u591a\u8d26\u53f7\u65f6\u4f7f\u7528 \u6bcf\u9879\u5b8c\u6574 Cookie <code>time</code> \u5b57\u7b26\u4e32 \u5426 \u9ed8\u8ba4 <code>\"02:00\"</code> <code>push_channels</code> \u5217\u8868 \u5426 \u63a8\u9001\u901a\u9053"},{"location":"guides/tasks/checkin/#cookie_2","title":"\u5982\u4f55\u83b7\u53d6 Cookie","text":"<p>\u767b\u5f55 \u6069\u5c71\u8bba\u575b \u540e\uff0cF12 \u2192 Console \u2192 <code>document.cookie</code>\uff0c\u590d\u5236\u540e\u586b\u5165\u3002</p>"},{"location":"guides/tasks/checkin/#_17","title":"\u793a\u4f8b","text":"<pre><code>enshan:\n  enable: true\n  cookie: \"xxx\"\n  time: \"02:00\"\n  push_channels: []\n</code></pre>"},{"location":"guides/tasks/checkin/#_18","title":"\u5929\u7ffc\u4e91\u76d8\u7b7e\u5230","text":"<p>\u914d\u7f6e\u8282\u70b9\uff1a<code>tyyun</code> \u9ed8\u8ba4\u65f6\u95f4\uff1a04:30 \u8ba4\u8bc1\u65b9\u5f0f\uff1a\u624b\u673a\u53f7 + \u5bc6\u7801\uff0c\u652f\u6301\u591a\u8d26\u53f7\uff08\u9700 <code>rsa</code> \u5e93\uff09\u3002</p>"},{"location":"guides/tasks/checkin/#_19","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>enable</code> \u5e03\u5c14 \u2705 \u662f\u5426\u542f\u7528 <code>username</code> \u5b57\u7b26\u4e32 \u5355\u8d26\u53f7\u5fc5\u586b \u624b\u673a\u53f7 <code>password</code> \u5b57\u7b26\u4e32 \u5355\u8d26\u53f7\u5fc5\u586b \u5bc6\u7801 <code>accounts</code> \u5217\u8868 \u591a\u8d26\u53f7\u65f6\u4f7f\u7528 \u6bcf\u9879 <code>username</code>\u3001<code>password</code> <code>time</code> \u5b57\u7b26\u4e32 \u5426 \u9ed8\u8ba4 <code>\"04:30\"</code> <code>push_channels</code> \u5217\u8868 \u5426 \u63a8\u9001\u901a\u9053"},{"location":"guides/tasks/checkin/#_20","title":"\u793a\u4f8b","text":"<pre><code>tyyun:\n  enable: true\n  username: \"13800138000\"\n  password: \"xxx\"\n  time: \"04:30\"\n  push_channels: []\n</code></pre>"},{"location":"guides/tasks/checkin/#_21","title":"\u963f\u91cc\u4e91\u76d8\u7b7e\u5230","text":"<p>\u914d\u7f6e\u8282\u70b9\uff1a<code>aliyun</code> \u9ed8\u8ba4\u65f6\u95f4\uff1a05:30 \u8ba4\u8bc1\u65b9\u5f0f\uff1arefresh_token\uff0c\u652f\u6301\u591a token\u3002</p>"},{"location":"guides/tasks/checkin/#_22","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>enable</code> \u5e03\u5c14 \u2705 \u662f\u5426\u542f\u7528 <code>refresh_token</code> \u5b57\u7b26\u4e32 \u5355\u8d26\u53f7\u5fc5\u586b \u963f\u91cc\u4e91\u76d8 refresh_token <code>refresh_tokens</code> \u5217\u8868 \u591a\u8d26\u53f7\u65f6\u4f7f\u7528 \u591a\u4e2a token <code>time</code> \u5b57\u7b26\u4e32 \u5426 \u9ed8\u8ba4 <code>\"05:30\"</code> <code>push_channels</code> \u5217\u8868 \u5426 \u63a8\u9001\u901a\u9053"},{"location":"guides/tasks/checkin/#refresh_token","title":"\u5982\u4f55\u83b7\u53d6 refresh_token","text":"<p>\u53ef\u53c2\u8003\u793e\u533a\u811a\u672c/wiki \u83b7\u53d6\uff0c\u4f8b\u5982\uff1aCommon-scripts wiki - \u963f\u91cc\u4e91\u76d8 refresh_token\u3002</p>"},{"location":"guides/tasks/checkin/#_23","title":"\u793a\u4f8b","text":"<pre><code>aliyun:\n  enable: true\n  refresh_token: \"your_refresh_token\"\n  time: \"05:30\"\n  push_channels: []\n</code></pre>"},{"location":"guides/tasks/checkin/#_24","title":"\u4ec0\u4e48\u503c\u5f97\u4e70\u7b7e\u5230","text":"<p>\u914d\u7f6e\u8282\u70b9\uff1a<code>smzdm</code> \u9ed8\u8ba4\u65f6\u95f4\uff1a00:30 \u8ba4\u8bc1\u65b9\u5f0f\uff1aCookie\uff0c\u652f\u6301\u591a Cookie\u3002</p>"},{"location":"guides/tasks/checkin/#_25","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>enable</code> \u5e03\u5c14 \u2705 \u662f\u5426\u542f\u7528 <code>cookie</code> \u5b57\u7b26\u4e32 \u5355\u8d26\u53f7\u5fc5\u586b \u767b\u5f55 Cookie <code>cookies</code> \u5217\u8868 \u591a\u8d26\u53f7\u65f6\u4f7f\u7528 \u6bcf\u9879\u5b8c\u6574 Cookie <code>time</code> \u5b57\u7b26\u4e32 \u5426 \u9ed8\u8ba4 <code>\"00:30\"</code> <code>push_channels</code> \u5217\u8868 \u5426 \u63a8\u9001\u901a\u9053"},{"location":"guides/tasks/checkin/#cookie_3","title":"\u5982\u4f55\u83b7\u53d6 Cookie","text":"<p>\u767b\u5f55 \u4ec0\u4e48\u503c\u5f97\u4e70 \u540e\uff0cF12 \u2192 Console \u2192 <code>document.cookie</code>\uff0c\u590d\u5236\u586b\u5165\u3002</p>"},{"location":"guides/tasks/checkin/#_26","title":"\u793a\u4f8b","text":"<pre><code>smzdm:\n  enable: true\n  cookie: \"xxx\"\n  time: \"00:30\"\n  push_channels: []\n</code></pre>"},{"location":"guides/tasks/checkin/#_27","title":"\u503c\u5f97\u4e70\u6bcf\u65e5\u62bd\u5956","text":"<p>\u914d\u7f6e\u8282\u70b9\uff1a<code>zdm_draw</code> \u9ed8\u8ba4\u65f6\u95f4\uff1a07:30 \u8ba4\u8bc1\u65b9\u5f0f\uff1a\u4e0e smzdm \u5171\u7528 Cookie\uff0c\u652f\u6301\u591a Cookie\u3002</p>"},{"location":"guides/tasks/checkin/#_28","title":"\u914d\u7f6e\u9879","text":"<p>\u4e0e <code>smzdm</code> \u7c7b\u4f3c\uff1a<code>enable</code>\u3001<code>cookie</code>/<code>cookies</code>\u3001<code>time</code>\u3001<code>push_channels</code>\u3002Cookie \u83b7\u53d6\u65b9\u5f0f\u540c\u300c\u4ec0\u4e48\u503c\u5f97\u4e70\u7b7e\u5230\u300d\u3002</p>"},{"location":"guides/tasks/checkin/#_29","title":"\u793a\u4f8b","text":"<pre><code>zdm_draw:\n  enable: true\n  cookie: \"xxx\"\n  time: \"07:30\"\n  push_channels: []\n</code></pre>"},{"location":"guides/tasks/checkin/#_30","title":"\u5bcc\u8d35\u8bba\u575b\u7b7e\u5230","text":"<p>\u914d\u7f6e\u8282\u70b9\uff1a<code>fg</code> \u9ed8\u8ba4\u65f6\u95f4\uff1a00:01 \u8ba4\u8bc1\u65b9\u5f0f\uff1aCookie\uff0c\u652f\u6301\u591a Cookie\u3002</p>"},{"location":"guides/tasks/checkin/#_31","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>enable</code> \u5e03\u5c14 \u2705 \u662f\u5426\u542f\u7528 <code>cookie</code> \u5b57\u7b26\u4e32 \u5355\u8d26\u53f7\u5fc5\u586b \u767b\u5f55 Cookie <code>cookies</code> \u5217\u8868 \u591a\u8d26\u53f7\u65f6\u4f7f\u7528 \u6bcf\u9879\u5b8c\u6574 Cookie <code>time</code> \u5b57\u7b26\u4e32 \u5426 \u9ed8\u8ba4 <code>\"00:01\"</code> <code>push_channels</code> \u5217\u8868 \u5426 \u63a8\u9001\u901a\u9053"},{"location":"guides/tasks/checkin/#cookie_4","title":"\u5982\u4f55\u83b7\u53d6 Cookie","text":"<p>\u767b\u5f55\u5bcc\u8d35\u8bba\u575b\u540e\uff0cF12 \u2192 Console \u2192 <code>document.cookie</code>\uff0c\u590d\u5236\u586b\u5165\u3002</p>"},{"location":"guides/tasks/checkin/#_32","title":"\u793a\u4f8b","text":"<pre><code>fg:\n  enable: true\n  cookie: \"xxx\"\n  time: \"00:01\"\n  push_channels: []\n</code></pre>"},{"location":"guides/tasks/checkin/#_33","title":"\u5c0f\u7c73\u793e\u533a\u7b7e\u5230","text":"<p>\u914d\u7f6e\u8282\u70b9\uff1a<code>miui</code> \u9ed8\u8ba4\u65f6\u95f4\uff1a08:30 \u8ba4\u8bc1\u65b9\u5f0f\uff1a\u624b\u673a\u53f7/\u8d26\u53f7 + \u5bc6\u7801\uff0c\u652f\u6301\u591a\u8d26\u53f7\u3002\u9700 <code>pycryptodome</code>\uff0c\u5b58\u5728\u5c01\u53f7\u98ce\u9669\u3002</p>"},{"location":"guides/tasks/checkin/#_34","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>enable</code> \u5e03\u5c14 \u2705 \u662f\u5426\u542f\u7528 <code>account</code> \u5b57\u7b26\u4e32 \u5355\u8d26\u53f7\u5fc5\u586b \u624b\u673a\u53f7/\u8d26\u53f7 <code>password</code> \u5b57\u7b26\u4e32 \u5355\u8d26\u53f7\u5fc5\u586b \u5bc6\u7801 <code>accounts</code> \u5217\u8868 \u591a\u8d26\u53f7\u65f6\u4f7f\u7528 \u6bcf\u9879 <code>account</code>\u3001<code>password</code> <code>time</code> \u5b57\u7b26\u4e32 \u5426 \u9ed8\u8ba4 <code>\"08:30\"</code> <code>push_channels</code> \u5217\u8868 \u5426 \u63a8\u9001\u901a\u9053"},{"location":"guides/tasks/checkin/#_35","title":"\u793a\u4f8b","text":"<pre><code>miui:\n  enable: true\n  account: \"\u624b\u673a\u53f7\"\n  password: \"\u5bc6\u7801\"\n  time: \"08:30\"\n  push_channels: []\n</code></pre>"},{"location":"guides/tasks/checkin/#_36","title":"\u7231\u5947\u827a\u7b7e\u5230","text":"<p>\u914d\u7f6e\u8282\u70b9\uff1a<code>iqiyi</code> \u9ed8\u8ba4\u65f6\u95f4\uff1a06:00 \u8ba4\u8bc1\u65b9\u5f0f\uff1aCookie\uff08\u987b\u542b P00001\u3001P00003\u3001QC005\u3001__dfp \u7b49\uff09\uff0c\u652f\u6301\u591a Cookie\u3002</p>"},{"location":"guides/tasks/checkin/#_37","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>enable</code> \u5e03\u5c14 \u2705 \u662f\u5426\u542f\u7528 <code>cookie</code> \u5b57\u7b26\u4e32 \u5355\u8d26\u53f7\u5fc5\u586b \u987b\u542b P00001\u3001P00003\u3001QC005\u3001__dfp <code>cookies</code> \u5217\u8868 \u591a\u8d26\u53f7\u65f6\u4f7f\u7528 \u6bcf\u9879\u5b8c\u6574 Cookie <code>time</code> \u5b57\u7b26\u4e32 \u5426 \u9ed8\u8ba4 <code>\"06:00\"</code> <code>push_channels</code> \u5217\u8868 \u5426 \u63a8\u9001\u901a\u9053"},{"location":"guides/tasks/checkin/#cookie_5","title":"\u5982\u4f55\u83b7\u53d6 Cookie","text":"<p>\u767b\u5f55 \u7231\u5947\u827a \u7f51\u9875\u7248\uff0cF12 \u2192 Network \u2192 \u9009\u4efb\u610f\u8bf7\u6c42 \u2192 \u8bf7\u6c42\u5934\u4e2d\u590d\u5236 Cookie\uff0c\u786e\u4fdd\u5305\u542b\u4e0a\u8ff0\u5b57\u6bb5\u3002</p>"},{"location":"guides/tasks/checkin/#_38","title":"\u793a\u4f8b","text":"<pre><code>iqiyi:\n  enable: true\n  cookie: \"P00001=xxx; P00003=xxx; QC005=xxx; __dfp=xxx; ...\"\n  time: \"06:00\"\n  push_channels: []\n</code></pre>"},{"location":"guides/tasks/checkin/#_39","title":"\u8054\u60f3\u4e50\u8c46\u7b7e\u5230","text":"<p>\u914d\u7f6e\u8282\u70b9\uff1a<code>lenovo</code> \u9ed8\u8ba4\u65f6\u95f4\uff1a05:30 \u8ba4\u8bc1\u65b9\u5f0f\uff1aaccess_token\uff08\u8054\u60f3 App \u8bf7\u6c42\u5934\u4e2d accesstoken\uff09\uff0c\u652f\u6301\u591a token\u3002</p>"},{"location":"guides/tasks/checkin/#_40","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>enable</code> \u5e03\u5c14 \u2705 \u662f\u5426\u542f\u7528 <code>access_token</code> \u5b57\u7b26\u4e32 \u5355\u8d26\u53f7\u5fc5\u586b \u8054\u60f3 App Headers \u4e2d accesstoken <code>access_tokens</code> \u5217\u8868 \u591a\u8d26\u53f7\u65f6\u4f7f\u7528 \u591a\u4e2a token <code>time</code> \u5b57\u7b26\u4e32 \u5426 \u9ed8\u8ba4 <code>\"05:30\"</code> <code>push_channels</code> \u5217\u8868 \u5426 \u63a8\u9001\u901a\u9053"},{"location":"guides/tasks/checkin/#access_token","title":"\u5982\u4f55\u83b7\u53d6 access_token","text":"<p>\u5728\u8054\u60f3\u76f8\u5173 App \u5185\u6293\u5305\uff0c\u627e\u5230\u8bf7\u6c42\u5934\u4e2d\u7684 accesstoken \u5b57\u6bb5\uff0c\u590d\u5236\u5176\u503c\u586b\u5165\u3002</p>"},{"location":"guides/tasks/checkin/#_41","title":"\u793a\u4f8b","text":"<pre><code>lenovo:\n  enable: true\n  access_token: \"xxx\"\n  time: \"05:30\"\n  push_channels: []\n</code></pre>"},{"location":"guides/tasks/checkin/#_42","title":"\u4e3d\u5b9d\u4e50\u56ed\u7b7e\u5230","text":"<p>\u914d\u7f6e\u8282\u70b9\uff1a<code>lbly</code> \u9ed8\u8ba4\u65f6\u95f4\uff1a05:30 \u8ba4\u8bc1\u65b9\u5f0f\uff1a\u6293\u5305\u83b7\u53d6\u8bf7\u6c42\u4f53 JSON\uff08\u542b MallID\u3001Header.Token \u7b49\uff09\uff0c\u652f\u6301\u591a\u7ec4 request_bodies\u3002</p>"},{"location":"guides/tasks/checkin/#_43","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>enable</code> \u5e03\u5c14 \u2705 \u662f\u5426\u542f\u7528 <code>request_body</code> \u5b57\u7b26\u4e32 \u5355\u8d26\u53f7\u5fc5\u586b \u6293\u5305\u5f97\u5230\u7684\u5b8c\u6574\u8bf7\u6c42\u4f53 JSON <code>request_bodies</code> \u5217\u8868 \u591a\u8d26\u53f7\u65f6\u4f7f\u7528 \u591a\u4e2a\u8bf7\u6c42\u4f53 JSON \u5b57\u7b26\u4e32 <code>time</code> \u5b57\u7b26\u4e32 \u5426 \u9ed8\u8ba4 <code>\"05:30\"</code> <code>push_channels</code> \u5217\u8868 \u5426 \u63a8\u9001\u901a\u9053"},{"location":"guides/tasks/checkin/#_44","title":"\u5982\u4f55\u83b7\u53d6","text":"<p>\u6293\u5305\u63a5\u53e3\uff1a<code>https://m.mallcoo.cn/api/user/User/GetRewardList</code>\uff0c\u590d\u5236\u8bf7\u6c42\u4f53\uff08JSON\uff09\uff0c\u586b\u5165 <code>request_body</code> \u6216 <code>request_bodies</code>\u3002</p>"},{"location":"guides/tasks/checkin/#_45","title":"\u793a\u4f8b","text":"<pre><code>lbly:\n  enable: true\n  request_body: '{\"MallID\":11192,\"Header\":{\"Token\":\"xxx\"}}'\n  time: \"05:30\"\n  push_channels: []\n</code></pre>"},{"location":"guides/tasks/checkin/#_46","title":"\u54c1\u8d5e\u4ee3\u7406\u7b7e\u5230","text":"<p>\u914d\u7f6e\u8282\u70b9\uff1a<code>pinzan</code> \u9ed8\u8ba4\u65f6\u95f4\uff1a08:00 \u8ba4\u8bc1\u65b9\u5f0f\uff1a\u8d26\u53f7 + \u5bc6\u7801\uff0c\u652f\u6301\u591a\u8d26\u53f7\u3002</p>"},{"location":"guides/tasks/checkin/#_47","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>enable</code> \u5e03\u5c14 \u2705 \u662f\u5426\u542f\u7528 <code>account</code> \u5b57\u7b26\u4e32 \u5355\u8d26\u53f7\u5fc5\u586b \u8d26\u53f7\uff08\u5982\u624b\u673a\u53f7\uff09 <code>password</code> \u5b57\u7b26\u4e32 \u5355\u8d26\u53f7\u5fc5\u586b \u5bc6\u7801 <code>accounts</code> \u5217\u8868 \u591a\u8d26\u53f7\u65f6\u4f7f\u7528 \u6bcf\u9879 <code>account</code>\u3001<code>password</code> <code>time</code> \u5b57\u7b26\u4e32 \u5426 \u9ed8\u8ba4 <code>\"08:00\"</code> <code>push_channels</code> \u5217\u8868 \u5426 \u63a8\u9001\u901a\u9053"},{"location":"guides/tasks/checkin/#_48","title":"\u793a\u4f8b","text":"<pre><code>pinzan:\n  enable: true\n  account: \"\u624b\u673a\u53f7\"\n  password: \"\u5bc6\u7801\"\n  time: \"08:00\"\n  push_channels: []\n</code></pre>"},{"location":"guides/tasks/checkin/#_49","title":"\u8fbe\u7f8e\u4e50\u4efb\u52a1","text":"<p>\u914d\u7f6e\u8282\u70b9\uff1a<code>dml</code> \u9ed8\u8ba4\u65f6\u95f4\uff1a06:00 \u8ba4\u8bc1\u65b9\u5f0f\uff1a\u5c0f\u7a0b\u5e8f\u6293\u5305\u83b7\u53d6 openid\uff0c\u652f\u6301\u591a openid\u3002</p>"},{"location":"guides/tasks/checkin/#_50","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>enable</code> \u5e03\u5c14 \u2705 \u662f\u5426\u542f\u7528 <code>openid</code> \u5b57\u7b26\u4e32 \u5355\u8d26\u53f7\u5fc5\u586b \u6293\u5305\u5f97\u5230\u7684 openid <code>openids</code> \u5217\u8868 \u591a\u8d26\u53f7\u65f6\u4f7f\u7528 \u591a\u4e2a openid <code>time</code> \u5b57\u7b26\u4e32 \u5426 \u9ed8\u8ba4 <code>\"06:00\"</code> <code>push_channels</code> \u5217\u8868 \u5426 \u63a8\u9001\u901a\u9053"},{"location":"guides/tasks/checkin/#openid","title":"\u5982\u4f55\u83b7\u53d6 openid","text":"<p>\u8fbe\u7f8e\u4e50\u5c0f\u7a0b\u5e8f\u5185\u6293\u5305\uff0c\u4ece\u76f8\u5173\u8bf7\u6c42\u4e2d\u83b7\u53d6 openid \u53c2\u6570\uff0c\u586b\u5165\u914d\u7f6e\u3002</p>"},{"location":"guides/tasks/checkin/#_51","title":"\u793a\u4f8b","text":"<pre><code>dml:\n  enable: true\n  openid: \"xxx\"\n  time: \"06:00\"\n  push_channels: []\n</code></pre>"},{"location":"guides/tasks/checkin/#i","title":"\u5c0f\u8305\u9884\u7ea6\uff08i\u8305\u53f0\uff09","text":"<p>\u914d\u7f6e\u8282\u70b9\uff1a<code>xiaomao</code> \u9ed8\u8ba4\u65f6\u95f4\uff1a09:00 \u8ba4\u8bc1\u65b9\u5f0f\uff1a\u6bcf\u6761\u4e3a\u300c\u7701\u4efd,\u57ce\u5e02,\u7ecf\u5ea6,\u7eac\u5ea6,\u8bbe\u5907id,token,MT-Token-Wap\u300d\uff08\u5c0f\u8305\u8fd0\u9886\u5956\u52b1\u53ef\u4e0d\u586b MT-Token-Wap\uff09\u3002\u9700 <code>pycryptodome</code>\u3002\u652f\u6301\u591a\u8d26\u53f7 <code>tokens</code>\u3002</p>"},{"location":"guides/tasks/checkin/#_52","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>enable</code> \u5e03\u5c14 \u2705 \u662f\u5426\u542f\u7528 <code>token</code> \u5b57\u7b26\u4e32 \u5355\u8d26\u53f7\u5fc5\u586b \u683c\u5f0f\uff1a\u7701\u4efd,\u57ce\u5e02,\u7ecf\u5ea6,\u7eac\u5ea6,\u8bbe\u5907id,token,MT-Token-Wap <code>tokens</code> \u5217\u8868 \u591a\u8d26\u53f7\u65f6\u4f7f\u7528 \u591a\u6761\u4e0a\u8ff0\u683c\u5f0f\u5b57\u7b26\u4e32 <code>mt_version</code> \u5b57\u7b26\u4e32 \u5426 \u5982 1.3.6\uff0c\u4e0d\u586b\u5219\u5c1d\u8bd5\u4ece App Store \u9875\u83b7\u53d6 <code>time</code> \u5b57\u7b26\u4e32 \u5426 \u9ed8\u8ba4 <code>\"09:00\"</code> <code>push_channels</code> \u5217\u8868 \u5426 \u63a8\u9001\u901a\u9053"},{"location":"guides/tasks/checkin/#_53","title":"\u793a\u4f8b","text":"<pre><code>xiaomao:\n  enable: true\n  token: \"\u6d59\u6c5f\u7701,\u5b81\u6ce2\u5e02,121.16,30.05,\u8bbe\u5907id,token,MT-Token-Wap\"\n  time: \"09:00\"\n  push_channels: []\n</code></pre>"},{"location":"guides/tasks/checkin/#_54","title":"\u4e00\u70b9\u4e07\u8c61\u7b7e\u5230","text":"<p>\u914d\u7f6e\u8282\u70b9\uff1a<code>ydwx</code> \u9ed8\u8ba4\u65f6\u95f4\uff1a06:00 \u8ba4\u8bc1\u65b9\u5f0f\uff1adeviceParams + token\uff0c\u652f\u6301\u591a\u8d26\u53f7\uff08accounts \u4e2d\u6bcf\u9879 device_params\u3001token\uff09\u3002</p>"},{"location":"guides/tasks/checkin/#_55","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>enable</code> \u5e03\u5c14 \u2705 \u662f\u5426\u542f\u7528 <code>device_params</code> \u5b57\u7b26\u4e32 \u5355\u8d26\u53f7\u5fc5\u586b \u8bbe\u5907\u53c2\u6570 <code>token</code> \u5b57\u7b26\u4e32 \u5355\u8d26\u53f7\u5fc5\u586b \u4ee4\u724c <code>accounts</code> \u5217\u8868 \u591a\u8d26\u53f7\u65f6\u4f7f\u7528 \u6bcf\u9879 <code>device_params</code>\u3001<code>token</code> <code>time</code> \u5b57\u7b26\u4e32 \u5426 \u9ed8\u8ba4 <code>\"06:00\"</code> <code>push_channels</code> \u5217\u8868 \u5426 \u63a8\u9001\u901a\u9053"},{"location":"guides/tasks/checkin/#_56","title":"\u793a\u4f8b","text":"<pre><code>ydwx:\n  enable: true\n  device_params: \"xxx\"\n  token: \"xxx\"\n  time: \"06:00\"\n  push_channels: []\n</code></pre>"},{"location":"guides/tasks/checkin/#_57","title":"\u661f\u7a7a\u4ee3\u7406\u7b7e\u5230","text":"<p>\u914d\u7f6e\u8282\u70b9\uff1a<code>xingkong</code> \u9ed8\u8ba4\u65f6\u95f4\uff1a07:30 \u8ba4\u8bc1\u65b9\u5f0f\uff1a\u7528\u6237\u540d + \u5bc6\u7801\uff0c\u652f\u6301\u591a\u8d26\u53f7\u3002</p>"},{"location":"guides/tasks/checkin/#_58","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>enable</code> \u5e03\u5c14 \u2705 \u662f\u5426\u542f\u7528 <code>username</code> \u5b57\u7b26\u4e32 \u5355\u8d26\u53f7\u5fc5\u586b \u7528\u6237\u540d <code>password</code> \u5b57\u7b26\u4e32 \u5355\u8d26\u53f7\u5fc5\u586b \u5bc6\u7801 <code>accounts</code> \u5217\u8868 \u591a\u8d26\u53f7\u65f6\u4f7f\u7528 \u6bcf\u9879 <code>username</code>\u3001<code>password</code> <code>time</code> \u5b57\u7b26\u4e32 \u5426 \u9ed8\u8ba4 <code>\"07:30\"</code> <code>push_channels</code> \u5217\u8868 \u5426 \u63a8\u9001\u901a\u9053"},{"location":"guides/tasks/checkin/#_59","title":"\u793a\u4f8b","text":"<pre><code>xingkong:\n  enable: true\n  username: \"user\"\n  password: \"pass\"\n  time: \"07:30\"\n  push_channels: []\n</code></pre>"},{"location":"guides/tasks/checkin/#freenom","title":"Freenom \u514d\u8d39\u57df\u540d\u7eed\u671f","text":"<p>\u914d\u7f6e\u8282\u70b9\uff1a<code>freenom</code> \u9ed8\u8ba4\u65f6\u95f4\uff1a07:33 \u8ba4\u8bc1\u65b9\u5f0f\uff1a\u90ae\u7bb1 + \u5bc6\u7801\uff0c\u652f\u6301\u591a\u8d26\u53f7\u3002\u5bf9 14 \u5929\u5185\u5230\u671f\u7684\u57df\u540d\u81ea\u52a8\u7eed\u671f 12 \u4e2a\u6708\u3002</p>"},{"location":"guides/tasks/checkin/#_60","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>enable</code> \u5e03\u5c14 \u2705 \u662f\u5426\u542f\u7528 <code>accounts</code> \u5217\u8868 \u2705 \u6bcf\u9879 <code>email</code>\u3001<code>password</code>\uff08Freenom \u767b\u5f55\u90ae\u7bb1\u4e0e\u5bc6\u7801\uff09 <code>time</code> \u5b57\u7b26\u4e32 \u5426 \u9ed8\u8ba4 <code>\"07:33\"</code> <code>push_channels</code> \u5217\u8868 \u5426 \u63a8\u9001\u901a\u9053"},{"location":"guides/tasks/checkin/#_61","title":"\u53c2\u8003","text":"<ul> <li>Freenom \u7eed\u671f\u9875\uff1ahttps://my.freenom.com/domains.php?a=renewals</li> </ul>"},{"location":"guides/tasks/checkin/#_62","title":"\u793a\u4f8b","text":"<pre><code>freenom:\n  enable: true\n  accounts:\n    - email: \"user1@example.com\"\n      password: \"pass1\"\n    - email: \"user2@example.com\"\n      password: \"pass2\"\n  time: \"07:33\"\n  push_channels: []\n</code></pre>"},{"location":"guides/tasks/checkin/#_63","title":"\u5929\u6c14\u63a8\u9001","text":"<p>\u914d\u7f6e\u8282\u70b9\uff1a<code>weather</code> \u9ed8\u8ba4\u65f6\u95f4\uff1a07:30 \u8bf4\u660e\uff1a\u6309\u57ce\u5e02\u4ee3\u7801\u63a8\u9001\u4eca\u65e5\u5929\u6c14\u4e0e\u672a\u6765 7 \u65e5\u9884\u62a5\uff0c\u4ec5\u901a\u77e5\u4e0d\u5199\u5165\u6570\u636e\u5e93\u3002</p>"},{"location":"guides/tasks/checkin/#_64","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>enable</code> \u5e03\u5c14 \u2705 \u662f\u5426\u542f\u7528 <code>city_code</code> \u5b57\u7b26\u4e32 \u2705 \u57ce\u5e02\u4ee3\u7801\uff0c\u5982 101020100\uff08\u4e0a\u6d77\uff09 <code>time</code> \u5b57\u7b26\u4e32 \u5426 \u9ed8\u8ba4 <code>\"07:30\"</code> <code>push_channels</code> \u5217\u8868 \u5426 \u63a8\u9001\u901a\u9053"},{"location":"guides/tasks/checkin/#_65","title":"\u5982\u4f55\u83b7\u53d6\u57ce\u5e02\u4ee3\u7801","text":"<p>\u53ef\u53c2\u8003\uff1acity.json\uff08\u57ce\u5e02\u4ee3\u7801\u793a\u4f8b\uff09 \u63a5\u53e3\u8bf4\u660e\uff1a<code>http://t.weather.itboy.net/api/weather/city/{city_code}</code>\u3002</p>"},{"location":"guides/tasks/checkin/#_66","title":"\u793a\u4f8b","text":"<pre><code>weather:\n  enable: true\n  city_code: \"101020100\"\n  time: \"07:30\"\n  push_channels: []\n</code></pre>"},{"location":"guides/tasks/checkin/#_67","title":"\u5343\u56fe\u7f51\u7b7e\u5230","text":"<p>\u914d\u7f6e\u8282\u70b9\uff1a<code>qtw</code> \u9ed8\u8ba4\u65f6\u95f4\uff1a01:30 \u8ba4\u8bc1\u65b9\u5f0f\uff1aCookie\uff0c\u652f\u6301\u591a Cookie\u3002</p>"},{"location":"guides/tasks/checkin/#_68","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>enable</code> \u5e03\u5c14 \u2705 \u662f\u5426\u542f\u7528 <code>cookie</code> \u5b57\u7b26\u4e32 \u5355\u8d26\u53f7\u5fc5\u586b \u767b\u5f55 Cookie <code>cookies</code> \u5217\u8868 \u591a\u8d26\u53f7\u65f6\u4f7f\u7528 \u6bcf\u9879\u5b8c\u6574 Cookie <code>time</code> \u5b57\u7b26\u4e32 \u5426 \u9ed8\u8ba4 <code>\"01:30\"</code> <code>push_channels</code> \u5217\u8868 \u5426 \u63a8\u9001\u901a\u9053"},{"location":"guides/tasks/checkin/#_69","title":"\u793a\u4f8b","text":"<pre><code>qtw:\n  enable: true\n  cookie: \"xxx\"\n  time: \"01:30\"\n  push_channels: []\n</code></pre>"},{"location":"guides/tasks/checkin/#_70","title":"\u5938\u514b\u7f51\u76d8\u7b7e\u5230","text":"<p>\u914d\u7f6e\u8282\u70b9\uff1a<code>kuake</code> \u9ed8\u8ba4\u65f6\u95f4\uff1a02:00 \u8ba4\u8bc1\u65b9\u5f0f\uff1aCookie\uff08\u767b\u5f55 pan.quark.cn \u540e\u7684\u8bf7\u6c42\u5934 Cookie\uff09\uff0c\u652f\u6301\u591a Cookie\u3002</p>"},{"location":"guides/tasks/checkin/#_71","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>enable</code> \u5e03\u5c14 \u2705 \u662f\u5426\u542f\u7528 <code>cookie</code> \u5b57\u7b26\u4e32 \u5355\u8d26\u53f7\u5fc5\u586b \u5b8c\u6574 Cookie <code>cookies</code> \u5217\u8868 \u591a\u8d26\u53f7\u65f6\u4f7f\u7528 \u6bcf\u9879\u5b8c\u6574 Cookie <code>time</code> \u5b57\u7b26\u4e32 \u5426 \u9ed8\u8ba4 <code>\"02:00\"</code> <code>push_channels</code> \u5217\u8868 \u5426 \u63a8\u9001\u901a\u9053"},{"location":"guides/tasks/checkin/#cookie_6","title":"\u5982\u4f55\u83b7\u53d6 Cookie","text":"<p>\u6d4f\u89c8\u5668\u767b\u5f55 \u5938\u514b\u7f51\u76d8\uff0cF12 \u2192 Network \u2192 \u9009\u4efb\u610f\u8bf7\u6c42 \u2192 \u8bf7\u6c42\u5934\u590d\u5236 Cookie\u3002</p>"},{"location":"guides/tasks/checkin/#_72","title":"\u793a\u4f8b","text":"<pre><code>kuake:\n  enable: true\n  cookie: \"quark_xxx=...\"\n  time: \"02:00\"\n  push_channels: []\n</code></pre>"},{"location":"guides/tasks/checkin/#_73","title":"\u79d1\u6280\u73a9\u5bb6\u7b7e\u5230","text":"<p>\u914d\u7f6e\u8282\u70b9\uff1a<code>kjwj</code> \u9ed8\u8ba4\u65f6\u95f4\uff1a07:30 \u8ba4\u8bc1\u65b9\u5f0f\uff1a\u8d26\u53f7 + \u5bc6\u7801\uff0c\u652f\u6301\u591a\u8d26\u53f7\u3002</p>"},{"location":"guides/tasks/checkin/#_74","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>enable</code> \u5e03\u5c14 \u2705 \u662f\u5426\u542f\u7528 <code>accounts</code> \u5217\u8868 \u2705 \u6bcf\u9879 <code>username</code>\u3001<code>password</code> <code>time</code> \u5b57\u7b26\u4e32 \u5426 \u9ed8\u8ba4 <code>\"07:30\"</code> <code>push_channels</code> \u5217\u8868 \u5426 \u63a8\u9001\u901a\u9053"},{"location":"guides/tasks/checkin/#_75","title":"\u793a\u4f8b","text":"<pre><code>kjwj:\n  enable: true\n  accounts:\n    - username: \"user1@example.com\"\n      password: \"pass1\"\n  time: \"07:30\"\n  push_channels: []\n</code></pre>"},{"location":"guides/tasks/checkin/#_76","title":"\u5e06\u8f6f\u793e\u533a\u7b7e\u5230","text":"<p>\u914d\u7f6e\u8282\u70b9\uff1a<code>fr</code> \u9ed8\u8ba4\u65f6\u95f4\uff1a06:30 \u8ba4\u8bc1\u65b9\u5f0f\uff1aCookie\uff08\u793e\u533a\u7b7e\u5230 + \u6447\u6447\u4e50\uff09\u3002</p>"},{"location":"guides/tasks/checkin/#_77","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>enable</code> \u5e03\u5c14 \u2705 \u662f\u5426\u542f\u7528 <code>cookie</code> \u5b57\u7b26\u4e32 \u2705 \u767b\u5f55 Cookie <code>time</code> \u5b57\u7b26\u4e32 \u5426 \u9ed8\u8ba4 <code>\"06:30\"</code> <code>push_channels</code> \u5217\u8868 \u5426 \u63a8\u9001\u901a\u9053"},{"location":"guides/tasks/checkin/#_78","title":"\u793a\u4f8b","text":"<pre><code>fr:\n  enable: true\n  cookie: \"xxx\"\n  time: \"06:30\"\n  push_channels: []\n</code></pre>"},{"location":"guides/tasks/checkin/#999","title":"999 \u4f1a\u5458\u4e2d\u5fc3\u5065\u5eb7\u4efb\u52a1","text":"<p>\u914d\u7f6e\u8282\u70b9\uff1a<code>nine_nine_nine</code> \u9ed8\u8ba4\u65f6\u95f4\uff1a15:15 \u8ba4\u8bc1\u65b9\u5f0f\uff1a\u6293\u5305 mc.999.com.cn \u8bf7\u6c42\u5934\u4e2d\u7684 Authorization\uff0c\u652f\u6301\u591a token\u3002</p>"},{"location":"guides/tasks/checkin/#_79","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>enable</code> \u5e03\u5c14 \u2705 \u662f\u5426\u542f\u7528 <code>tokens</code> \u5217\u8868 \u2705 \u6bcf\u4e2a\u8d26\u53f7\u7684 Authorization \u503c <code>time</code> \u5b57\u7b26\u4e32 \u5426 \u9ed8\u8ba4 <code>\"15:15\"</code> <code>push_channels</code> \u5217\u8868 \u5426 \u63a8\u9001\u901a\u9053"},{"location":"guides/tasks/checkin/#_80","title":"\u793a\u4f8b","text":"<pre><code>nine_nine_nine:\n  enable: true\n  tokens:\n    - \"Bearer xxx\"\n  time: \"15:15\"\n  push_channels: []\n</code></pre>"},{"location":"guides/tasks/checkin/#_81","title":"\u4e2d\u56fd\u798f\u5f69\u62bd\u5956","text":"<p>\u914d\u7f6e\u8282\u70b9\uff1a<code>zgfc</code> \u9ed8\u8ba4\u65f6\u95f4\uff1a08:00 \u8ba4\u8bc1\u65b9\u5f0f\uff1a\u8bf7\u6c42\u5934 Authorization\uff0c\u652f\u6301\u591a token\u3002</p>"},{"location":"guides/tasks/checkin/#_82","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>enable</code> \u5e03\u5c14 \u2705 \u662f\u5426\u542f\u7528 <code>tokens</code> \u5217\u8868 \u2705 Authorization \u503c\u5217\u8868 <code>time</code> \u5b57\u7b26\u4e32 \u5426 \u9ed8\u8ba4 <code>\"08:00\"</code> <code>push_channels</code> \u5217\u8868 \u5426 \u63a8\u9001\u901a\u9053"},{"location":"guides/tasks/checkin/#_83","title":"\u793a\u4f8b","text":"<pre><code>zgfc:\n  enable: true\n  tokens:\n    - \"xxx\"\n  time: \"08:00\"\n  push_channels: []\n</code></pre>"},{"location":"guides/tasks/checkin/#_84","title":"\u53cc\u8272\u7403\u5f00\u5956\u901a\u77e5","text":"<p>\u914d\u7f6e\u8282\u70b9\uff1a<code>ssq_500w</code> \u9ed8\u8ba4\u65f6\u95f4\uff1a21:30 \u8bf4\u660e\uff1a\u83b7\u53d6\u6700\u65b0\u53cc\u8272\u7403\u5f00\u5956\u4fe1\u606f\u3001\u5b88\u53f7\u68c0\u6d4b\u3001\u51b7\u53f7\u673a\u9009\u7b49\uff08\u4ec5\u5a31\u4e50\u901a\u77e5\uff0c\u4e0d\u6d89\u53ca\u771f\u5b9e\u8d2d\u5f69\uff09\u3002\u65e0\u9700\u8d26\u53f7\uff0c\u53ea\u9700\u914d\u7f6e <code>enable</code>\u3001<code>time</code>\u3001<code>push_channels</code>\u3002</p>"},{"location":"guides/tasks/checkin/#_85","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>enable</code> \u5e03\u5c14 \u2705 \u662f\u5426\u542f\u7528 <code>time</code> \u5b57\u7b26\u4e32 \u5426 \u9ed8\u8ba4 <code>\"21:30\"</code> <code>push_channels</code> \u5217\u8868 \u5426 \u63a8\u9001\u901a\u9053"},{"location":"guides/tasks/checkin/#_86","title":"\u793a\u4f8b","text":"<pre><code>ssq_500w:\n  enable: true\n  time: \"21:30\"\n  push_channels: []\n</code></pre>"},{"location":"guides/tasks/checkin/#_87","title":"\u65e5\u5fd7\u6e05\u7406","text":"<p>\u914d\u7f6e\u8282\u70b9\uff1a<code>log_cleanup</code> \u9ed8\u8ba4\u65f6\u95f4\uff1a02:10 \u8bf4\u660e\uff1a\u6309\u4fdd\u7559\u5929\u6570\u6e05\u7406\u5386\u53f2\u65e5\u5fd7\u6587\u4ef6\uff0c\u975e\u7b7e\u5230\u7c7b\u4efb\u52a1\u3002</p>"},{"location":"guides/tasks/checkin/#_88","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>enable</code> \u5e03\u5c14 \u5426 \u662f\u5426\u542f\u7528\uff0c\u9ed8\u8ba4 true <code>time</code> \u5b57\u7b26\u4e32 \u5426 \u6267\u884c\u65f6\u95f4\uff0c\u9ed8\u8ba4 <code>\"02:10\"</code> <code>retention_days</code> \u6574\u6570 \u5426 \u65e5\u5fd7\u4fdd\u7559\u5929\u6570\uff0c\u9ed8\u8ba4 3"},{"location":"guides/tasks/checkin/#_89","title":"\u793a\u4f8b","text":"<pre><code>log_cleanup:\n  enable: true\n  time: \"02:10\"\n  retention_days: 3\n</code></pre>"},{"location":"guides/tasks/checkin/#_90","title":"\u514d\u6253\u6270\u65f6\u6bb5","text":"<p>\u914d\u7f6e\u8282\u70b9\uff1a<code>quiet_hours</code> \u8bf4\u660e\uff1a\u5728\u6307\u5b9a\u65f6\u95f4\u6bb5\u5185\uff0c\u76d1\u63a7\u4e0e\u7b7e\u5230\u4efb\u52a1\u7167\u5e38\u6267\u884c\u5e76\u66f4\u65b0\u6570\u636e\uff0c\u4f46\u4e0d\u63a8\u9001\u901a\u77e5\u3002\u652f\u6301\u8de8\u5929\uff08\u5982 22:00\uff5e08:00\uff09\u3002</p>"},{"location":"guides/tasks/checkin/#_91","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>enable</code> \u5e03\u5c14 \u2705 \u662f\u5426\u542f\u7528\u514d\u6253\u6270 <code>start</code> \u5b57\u7b26\u4e32 \u2705 \u5f00\u59cb\u65f6\u95f4 HH:MM\uff0c\u5982 <code>\"22:00\"</code> <code>end</code> \u5b57\u7b26\u4e32 \u2705 \u7ed3\u675f\u65f6\u95f4 HH:MM\uff0c\u5982 <code>\"08:00\"</code>"},{"location":"guides/tasks/checkin/#_92","title":"\u793a\u4f8b","text":"<pre><code>quiet_hours:\n  enable: true\n  start: \"22:00\"\n  end: \"08:00\"\n</code></pre> <p>\u6ce8\u610f</p> <p>\u514d\u6253\u6270\u65f6\u6bb5\u5185\u53ef\u80fd\u9057\u6f0f\u91cd\u8981\u6d88\u606f\uff0c\u8bf7\u6309\u9700\u4f7f\u7528\u3002</p>"},{"location":"guides/tasks/checkin/#demo","title":"\u63d2\u4ef6\u793a\u4f8b\u4efb\u52a1\uff08Demo\uff09","text":"<p>\u914d\u7f6e\u8282\u70b9\uff1a<code>plugins.demo_task</code> \u9ed8\u8ba4\u65f6\u95f4\uff1a08:30 \u8bf4\u660e\uff1a\u4e8c\u6b21\u5f00\u53d1\u793a\u4f8b\u4efb\u52a1\uff0c\u4e0d\u9700\u8981\u53ef\u5728 <code>src/job_registry.py</code> \u7684 <code>TASK_MODULES</code> \u4e2d\u79fb\u9664 <code>tasks.demo_task</code>\u3002</p>"},{"location":"guides/tasks/checkin/#_93","title":"\u914d\u7f6e\u9879","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>enable</code> \u5e03\u5c14 \u2705 \u662f\u5426\u542f\u7528 <code>time</code> \u5b57\u7b26\u4e32 \u5426 \u9ed8\u8ba4 <code>\"08:30\"</code> <code>message</code> \u5b57\u7b26\u4e32 \u5426 \u81ea\u5b9a\u4e49\u6d88\u606f\u5185\u5bb9"},{"location":"guides/tasks/checkin/#_94","title":"\u793a\u4f8b","text":"<pre><code>plugins:\n  demo_task:\n    enable: false\n    time: \"08:30\"\n    message: \"Demo \u5b9a\u65f6\u4efb\u52a1\u6267\u884c\u5b8c\u6210\"\n</code></pre> <p>\u90e8\u5206\u7b7e\u5230\u903b\u8f91\u53c2\u8003\u81ea only_for_happly\uff0c\u5df2\u63a5\u5165\u672c\u9879\u76ee\u7edf\u4e00\u63a8\u9001\u4e0e\u914d\u7f6e\uff1b\u4e3b\u5305\u672a\u5bf9\u5176\u5355\u72ec\u7ef4\u62a4\uff0c\u82e5\u67d0\u5e73\u53f0\u63a5\u53e3\u53d8\u66f4\u53ef\u80fd\u5bfc\u81f4\u4efb\u52a1\u5931\u6548\uff0c\u8bf7\u4ee5\u5b9e\u9645\u8fd0\u884c\u4e0e\u65e5\u5fd7\u4e3a\u51c6\u3002</p>"},{"location":"guides/tasks/monitors/","title":"\u76d1\u63a7\u4efb\u52a1\u8be6\u89e3","text":"<p>\u76d1\u63a7\u4efb\u52a1\u6309\u56fa\u5b9a\u95f4\u9694\u8f6e\u8be2\uff0c\u68c0\u6d4b\u5230\u53d8\u5316\uff08\u5982\u5fae\u535a\u65b0\u52a8\u6001\u3001\u864e\u7259\u5f00\u64ad/\u4e0b\u64ad\uff09\u65f6\u901a\u8fc7\u63a8\u9001\u901a\u9053\u53d1\u9001\u901a\u77e5\u3002\u914d\u7f6e\u8282\u70b9\u5728 <code>config.yml</code> \u4e2d\u4e3a <code>weibo</code>\u3001<code>huya</code>\u3001<code>bilibili</code>\u3001<code>douyin</code>\u3001<code>douyu</code>\u3001<code>xhs</code>\u3002</p>"},{"location":"guides/tasks/monitors/#_2","title":"\u5fae\u535a\u76d1\u63a7","text":"<p>\u76d1\u63a7\u6307\u5b9a\u5fae\u535a\u7528\u6237\u7684\u6700\u65b0\u52a8\u6001\uff0c\u6709\u65b0\u5fae\u535a\u65f6\u63a8\u9001\u901a\u77e5\uff08\u4e0d\u68c0\u6d4b\u5f00\u64ad\uff09\u3002</p>"},{"location":"guides/tasks/monitors/#_3","title":"\u914d\u7f6e\u9879\u8bf4\u660e","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>enable</code> \u5e03\u5c14 \u5426 \u662f\u5426\u542f\u7528\u8be5\u76d1\u63a7\uff0c\u9ed8\u8ba4 true\uff1b\u8bbe\u4e3a false \u65f6\u4efb\u52a1\u6682\u505c\uff0c\u70ed\u91cd\u8f7d\u751f\u6548 <code>cookie</code> \u5b57\u7b26\u4e32 \u2705 \u5fae\u535a\u7f51\u9875\u7248\u767b\u5f55\u540e\u7684 Cookie\uff0c\u7528\u4e8e\u8bf7\u6c42\u63a5\u53e3 <code>uids</code> \u5b57\u7b26\u4e32 \u2705 \u8981\u76d1\u63a7\u7684\u7528\u6237 UID\uff0c\u591a\u4e2a\u7528\u82f1\u6587\u9017\u53f7\u5206\u9694\uff0c\u5982 <code>1234567890,9876543210</code> <code>concurrency</code> \u6574\u6570 \u5426 \u5e76\u53d1\u6570\uff0c\u5efa\u8bae 2\uff5e5\uff0c\u907f\u514d\u89e6\u53d1\u9650\u6d41\uff0c\u9ed8\u8ba4 2 <code>monitor_interval_seconds</code> \u6574\u6570 \u5426 \u76d1\u63a7\u95f4\u9694\uff08\u79d2\uff09\uff0c\u9ed8\u8ba4 300\uff085 \u5206\u949f\uff09 <code>push_channels</code> \u5217\u8868 \u5426 \u63a8\u9001\u901a\u9053\u540d\u79f0\u5217\u8868\uff0c\u4e3a\u7a7a\u65f6\u4f7f\u7528\u5168\u90e8\u5df2\u914d\u7f6e\u901a\u9053"},{"location":"guides/tasks/monitors/#cookie","title":"\u5982\u4f55\u83b7\u53d6 Cookie","text":"<ol> <li>\u4f7f\u7528\u6d4f\u89c8\u5668\u767b\u5f55 \u5fae\u535a\u7f51\u9875\u7248\u3002  </li> <li>\u6309 <code>F12</code> \u6253\u5f00\u5f00\u53d1\u8005\u5de5\u5177\uff0c\u5207\u5230 Network\uff08\u7f51\u7edc\uff09\u3002  </li> <li>\u5237\u65b0\u9875\u9762\u6216\u968f\u4fbf\u70b9\u5f00\u4e00\u6761\u5fae\u535a\uff0c\u5728\u8bf7\u6c42\u5217\u8868\u4e2d\u9009\u4efb\u610f\u4e00\u4e2a\u8bf7\u6c42\uff0c\u5728\u8bf7\u6c42\u5934\u91cc\u627e\u5230 Cookie\uff0c\u5b8c\u6574\u590d\u5236\u3002  </li> <li>\u5c06\u590d\u5236\u7684\u5185\u5bb9\u586b\u5165 <code>config.yml</code> \u4e2d <code>weibo.cookie</code>\u3002  </li> </ol> <p>\u6ce8\u610f</p> <p>Cookie \u4f1a\u8fc7\u671f\uff0c\u82e5\u76d1\u63a7\u4e0d\u518d\u63a8\u9001\u53ef\u91cd\u65b0\u6309\u4e0a\u8ff0\u6b65\u9aa4\u83b7\u53d6\u5e76\u66f4\u65b0\uff0c\u4fdd\u5b58\u540e\u7ea6 5 \u79d2\u70ed\u91cd\u8f7d\u751f\u6548\uff0c\u65e0\u9700\u91cd\u542f\u3002</p>"},{"location":"guides/tasks/monitors/#uid","title":"\u5982\u4f55\u83b7\u53d6 UID","text":"<ul> <li>\u6253\u5f00\u8981\u76d1\u63a7\u7684\u7528\u6237\u7684\u5fae\u535a\u4e3b\u9875\uff0c\u770b\u6d4f\u89c8\u5668\u5730\u5740\u680f\u3002  </li> <li>\u5730\u5740\u5f62\u5982\uff1a<code>https://weibo.com/u/1234567890</code> \u6216 <code>https://weibo.com/1234567890</code>\uff0c\u5176\u4e2d \u6570\u5b57\u90e8\u5206\u5373\u4e3a UID\uff08\u5982 <code>1234567890</code>\uff09\u3002  </li> <li>\u591a\u4e2a\u7528\u6237\u7528\u82f1\u6587\u9017\u53f7\u62fc\u63a5\u5230 <code>uids</code>\uff0c\u5982\uff1a<code>uids: 1234567890,9876543210</code>\u3002</li> </ul>"},{"location":"guides/tasks/monitors/#_4","title":"\u914d\u7f6e\u793a\u4f8b","text":"<pre><code>weibo:\n  enable: true                                 # \u662f\u5426\u542f\u7528\u5fae\u535a\u76d1\u63a7\n  cookie: \"SUB=xxx; SUBP=xxx; ALF=xxx; ...\"   # \u4ece\u6d4f\u89c8\u5668\u5f00\u53d1\u8005\u5de5\u5177\u590d\u5236\u5b8c\u6574 Cookie\n  uids: 1234567890,9876543210                  # \u8981\u76d1\u63a7\u7684\u7528\u6237 UID\uff0c\u9017\u53f7\u5206\u9694\n  concurrency: 2\n  monitor_interval_seconds: 300\n  push_channels: []                            # \u4e3a\u7a7a\u5219\u4f7f\u7528\u5168\u90e8\u901a\u9053\n</code></pre>"},{"location":"guides/tasks/monitors/#_5","title":"\u5934\u50cf\u4e0e\u5c01\u9762\u56fe\u7f13\u5b58 &amp; \u63a8\u9001\u56fe\u7247","text":"<p>\u5fae\u535a\u76d1\u63a7\u5728\u62c9\u53d6\u7528\u6237\u4fe1\u606f\u65f6\uff0c\u4f1a\u81ea\u52a8\uff1a</p> <ul> <li>\u5c06\u5934\u50cf\u76f8\u5173\u56fe\u7247\u7f13\u5b58\u5230 <code>data/weibo/&lt;\u7528\u6237\u540d&gt;/</code> \u76ee\u5f55\u4e0b\uff0c\u5305\u542b\uff1a</li> <li><code>profile_image.jpg</code>\uff08<code>profile_image_url</code>\uff09</li> <li><code>avatar_large.jpg</code>\uff08<code>avatar_large</code>\uff09</li> <li><code>avatar_hd.jpg</code>\uff08<code>avatar_hd</code>\uff09</li> <li><code>cover_image_phone.jpg</code>\uff08<code>cover_image_phone</code>\uff0c\u624b\u673a\u7aef\u5c01\u9762\u56fe\uff09</li> <li>\u9996\u6b21\u4e0b\u8f7d\u6210\u529f\u540e\u4f1a\u590d\u7528\u672c\u5730\u6587\u4ef6\uff0c\u540e\u7eed\u76d1\u63a7\u53ea\u5728\u6587\u4ef6\u4e0d\u5b58\u5728\u65f6\u624d\u5c1d\u8bd5\u91cd\u65b0\u4e0b\u8f7d\u3002</li> </ul> <p>\u914d\u5408 <code>config.yml</code> \u4e2d\u7684 <code>app.base_url</code> \u4e0e Web \u670d\u52a1\u66b4\u9732\u7684\u9759\u6001\u76ee\u5f55\uff1a</p> <ul> <li>\u5f53 <code>app.base_url</code> \u914d\u7f6e\u4e3a\u4f8b\u5982 <code>http://localhost:8866</code> \u65f6\uff0c\u5c01\u9762\u56fe\u53ef\u901a\u8fc7 <code>http://localhost:8866/weibo_img/&lt;\u7528\u6237\u540d&gt;/cover_image_phone.jpg</code> \u8bbf\u95ee\uff1b</li> <li>\u5927\u90e8\u5206\u652f\u6301 <code>picurl</code> \u7684\u63a8\u9001\u901a\u9053\uff08\u5982\u4f01\u4e1a\u5fae\u4fe1\u5e94\u7528\u3001\u9489\u9489\u673a\u5668\u4eba\u3001PushPlus \u7b49\uff09\u4f1a\u76f4\u63a5\u4f7f\u7528\u8be5 URL \u4f5c\u4e3a\u5361\u7247\u56fe\u7247\uff1b</li> <li>\u5bf9\u4e8e\u652f\u6301\u672c\u5730\u56fe\u7247\u4e0a\u4f20\u7684\u901a\u9053\uff08\u5f53\u524d\u4e3a <code>telegram_bot</code>\uff09\uff0c\u7cfb\u7edf\u4f1a\u4f18\u5148\u8bfb\u53d6\u672c\u5730 <code>cover_image_phone.jpg</code>\uff0c\u901a\u8fc7\u5b98\u65b9 Bot API \u4e0a\u4f20\u539f\u56fe\u3002</li> </ul> <p>\u63d0\u793a\uff1a\u5fae\u535a\u4fa7\u7684\u56fe\u7247\u94fe\u63a5\u901a\u5e38\u5e26\u6709\u8fc7\u671f\u65f6\u95f4\u4e0e\u7b7e\u540d\u53c2\u6570\uff0c\u7cfb\u7edf\u4f1a\u5728\u94fe\u63a5\u4ecd\u6709\u6548\u65f6\u5c3d\u5feb\u7f13\u5b58\u5230\u672c\u5730\uff1b\u82e5\u8fdc\u7aef\u94fe\u63a5\u5df2\u5168\u90e8\u5931\u6548\uff0c\u5219\u8be5\u7528\u6237\u5c06\u4e0d\u518d\u66f4\u65b0\u672c\u5730\u5c01\u9762\u56fe\uff0c\u4f46\u4e0d\u5f71\u54cd\u76d1\u63a7\u4e0e\u6587\u672c\u63a8\u9001\u3002</p>"},{"location":"guides/tasks/monitors/#_6","title":"\u53c2\u8003","text":"<ul> <li>\u5fae\u535a\u5f00\u653e\u5e73\u53f0\uff08\u4e86\u89e3\u63a5\u53e3\u4e0e\u9650\u5236\uff09\uff1ahttps://open.weibo.com</li> </ul>"},{"location":"guides/tasks/monitors/#_7","title":"\u864e\u7259\u76d1\u63a7","text":"<p>\u76d1\u63a7\u6307\u5b9a\u864e\u7259\u76f4\u64ad\u95f4\u7684\u5f00\u64ad/\u4e0b\u64ad\u72b6\u6001\uff0c\u72b6\u6001\u53d8\u5316\u65f6\u63a8\u9001\u901a\u77e5\u3002</p>"},{"location":"guides/tasks/monitors/#_8","title":"\u914d\u7f6e\u9879\u8bf4\u660e","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>enable</code> \u5e03\u5c14 \u5426 \u662f\u5426\u542f\u7528\u8be5\u76d1\u63a7\uff0c\u9ed8\u8ba4 true\uff1b\u8bbe\u4e3a false \u65f6\u4efb\u52a1\u6682\u505c\uff0c\u70ed\u91cd\u8f7d\u751f\u6548 <code>rooms</code> \u5b57\u7b26\u4e32 \u2705 \u8981\u76d1\u63a7\u7684\u623f\u95f4\u53f7\uff0c\u591a\u4e2a\u7528\u82f1\u6587\u9017\u53f7\u5206\u9694\uff0c\u5982 <code>123456,654321</code> <code>concurrency</code> \u6574\u6570 \u5426 \u5e76\u53d1\u6570\uff0c\u5efa\u8bae 5\uff5e10\uff0c\u9ed8\u8ba4 5 <code>monitor_interval_seconds</code> \u6574\u6570 \u5426 \u76d1\u63a7\u95f4\u9694\uff08\u79d2\uff09\uff0c\u9ed8\u8ba4 65 <code>push_channels</code> \u5217\u8868 \u5426 \u63a8\u9001\u901a\u9053\u540d\u79f0\u5217\u8868\uff0c\u4e3a\u7a7a\u65f6\u4f7f\u7528\u5168\u90e8\u5df2\u914d\u7f6e\u901a\u9053"},{"location":"guides/tasks/monitors/#_9","title":"\u5982\u4f55\u83b7\u53d6\u623f\u95f4\u53f7","text":"<ul> <li>\u6253\u5f00\u864e\u7259\u76f4\u64ad\u95f4\u9875\u9762\uff0c\u770b\u6d4f\u89c8\u5668\u5730\u5740\u680f\u3002  </li> <li>\u5730\u5740\u5f62\u5982\uff1a<code>https://www.huya.com/123456</code>\uff0c\u5176\u4e2d \u6570\u5b57\u90e8\u5206\u5373\u4e3a\u623f\u95f4\u53f7\uff08\u5982 <code>123456</code>\uff09\u3002  </li> <li>\u591a\u4e2a\u623f\u95f4\u7528\u82f1\u6587\u9017\u53f7\u62fc\u63a5\u5230 <code>rooms</code>\uff0c\u5982\uff1a<code>rooms: 123456,654321</code>\u3002</li> </ul>"},{"location":"guides/tasks/monitors/#_10","title":"\u914d\u7f6e\u793a\u4f8b","text":"<pre><code>huya:\n  enable: true\n  rooms: 123456,654321\n  concurrency: 5\n  monitor_interval_seconds: 65\n  push_channels: []\n</code></pre>"},{"location":"guides/tasks/monitors/#_11","title":"\u53c2\u8003","text":"<ul> <li>\u864e\u7259\u5f00\u653e\u5e73\u53f0\uff1ahttps://open.huya.com\uff08\u672c\u4efb\u52a1\u4e3a\u8f6e\u8be2\u7f51\u9875/\u63a5\u53e3\uff0c\u4e0d\u5f3a\u5236\u8981\u6c42\u5f00\u653e\u5e73\u53f0\u8d26\u53f7\uff09</li> </ul>"},{"location":"guides/tasks/monitors/#_12","title":"\u54d4\u54e9\u54d4\u54e9\u76d1\u63a7","text":"<p>\u76d1\u63a7\u6307\u5b9a B \u7ad9 UP \u4e3b\u7684\u52a8\u6001\u53d1\u5e03\u4e0e\u76f4\u64ad\u5f00\u64ad/\u4e0b\u64ad\uff0c\u68c0\u6d4b\u5230\u53d8\u5316\u65f6\u63a8\u9001\u901a\u77e5\u3002</p>"},{"location":"guides/tasks/monitors/#_13","title":"\u914d\u7f6e\u9879\u8bf4\u660e","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>enable</code> \u5e03\u5c14 \u5426 \u662f\u5426\u542f\u7528\u8be5\u76d1\u63a7\uff0c\u9ed8\u8ba4 true\uff1b\u8bbe\u4e3a false \u65f6\u4efb\u52a1\u6682\u505c\uff0c\u70ed\u91cd\u8f7d\u751f\u6548 <code>uids</code> \u5b57\u7b26\u4e32 \u2705 \u8981\u76d1\u63a7\u7684 UP \u4e3b UID\uff0c\u591a\u4e2a\u7528\u82f1\u6587\u9017\u53f7\u5206\u9694 <code>cookie</code> \u5b57\u7b26\u4e32 \u5426 \u53ef\u9009\uff0c\u9632 ban\uff0c\u5efa\u8bae\u7528\u5c0f\u53f7 <code>payload</code> \u5b57\u7b26\u4e32 \u5426 \u53ef\u9009\uff0c\u7528\u4e8e -352 \u65f6\u81ea\u52a8\u83b7\u53d6 buvid3 <code>skip_forward</code> \u5e03\u5c14 \u5426 \u662f\u5426\u8df3\u8fc7\u8f6c\u53d1\u7c7b\u578b\u52a8\u6001\uff0c\u9ed8\u8ba4 true <code>concurrency</code> \u6574\u6570 \u5426 \u5e76\u53d1\u6570\uff0c\u9ed8\u8ba4 2 <code>monitor_interval_seconds</code> \u6574\u6570 \u5426 \u76d1\u63a7\u95f4\u9694\uff08\u79d2\uff09\uff0c\u9ed8\u8ba4 60 <code>push_channels</code> \u5217\u8868 \u5426 \u63a8\u9001\u901a\u9053\u540d\u79f0\u5217\u8868"},{"location":"guides/tasks/monitors/#uid_1","title":"\u5982\u4f55\u83b7\u53d6 UID","text":"<ul> <li>\u6253\u5f00 UP \u4e3b\u7a7a\u95f4\u9875\uff0c\u5982 <code>https://space.bilibili.com/1795147802</code>\uff0c\u5176\u4e2d \u6570\u5b57\u90e8\u5206\u5373\u4e3a UID\u3002</li> </ul>"},{"location":"guides/tasks/monitors/#_14","title":"\u914d\u7f6e\u793a\u4f8b","text":"<pre><code>bilibili:\n  enable: true\n  cookie: \"\"\n  payload: \"\"\n  uids: 1795147802,1669777785\n  skip_forward: true\n  concurrency: 2\n  monitor_interval_seconds: 60\n  push_channels: []\n</code></pre>"},{"location":"guides/tasks/monitors/#_15","title":"\u6296\u97f3\u76f4\u64ad\u76d1\u63a7","text":"<p>\u76d1\u63a7\u6307\u5b9a\u6296\u97f3\u76f4\u64ad\u95f4\u7684\u5f00\u64ad/\u4e0b\u64ad\u72b6\u6001\uff0c\u72b6\u6001\u53d8\u5316\u65f6\u63a8\u9001\u901a\u77e5\u3002</p>"},{"location":"guides/tasks/monitors/#_16","title":"\u914d\u7f6e\u9879\u8bf4\u660e","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>enable</code> \u5e03\u5c14 \u5426 \u662f\u5426\u542f\u7528\u8be5\u76d1\u63a7\uff0c\u9ed8\u8ba4 true\uff1b\u8bbe\u4e3a false \u65f6\u4efb\u52a1\u6682\u505c\uff0c\u70ed\u91cd\u8f7d\u751f\u6548 <code>douyin_ids</code> \u5b57\u7b26\u4e32 \u2705 \u6296\u97f3\u53f7\u5217\u8868\uff0c\u9017\u53f7\u5206\u9694\uff0c\u5982 ASOULjiaran,Nana7mi0715 <code>concurrency</code> \u6574\u6570 \u5426 \u5e76\u53d1\u6570\uff0c\u9ed8\u8ba4 2 <code>monitor_interval_seconds</code> \u6574\u6570 \u5426 \u76d1\u63a7\u95f4\u9694\uff08\u79d2\uff09\uff0c\u9ed8\u8ba4 30 <code>push_channels</code> \u5217\u8868 \u5426 \u63a8\u9001\u901a\u9053\u540d\u79f0\u5217\u8868"},{"location":"guides/tasks/monitors/#_17","title":"\u5982\u4f55\u83b7\u53d6\u6296\u97f3\u53f7","text":"<ul> <li>\u6253\u5f00\u6296\u97f3\u76f4\u64ad\u95f4\uff0cURL \u5f62\u5982 <code>https://live.douyin.com/ASOULjiaran</code>\uff0c\u8def\u5f84\u6700\u540e\u7684\u5b57\u7b26\u4e32\u5373\u4e3a\u6296\u97f3\u53f7\u3002</li> </ul>"},{"location":"guides/tasks/monitors/#_18","title":"\u914d\u7f6e\u793a\u4f8b","text":"<pre><code>douyin:\n  enable: true\n  douyin_ids: ASOULjiaran,Nana7mi0715\n  concurrency: 2\n  monitor_interval_seconds: 30\n  push_channels: []\n</code></pre>"},{"location":"guides/tasks/monitors/#_19","title":"\u6597\u9c7c\u76f4\u64ad\u76d1\u63a7","text":"<p>\u76d1\u63a7\u6307\u5b9a\u6597\u9c7c\u76f4\u64ad\u95f4\u7684\u5f00\u64ad/\u4e0b\u64ad\u72b6\u6001\uff0c\u72b6\u6001\u53d8\u5316\u65f6\u63a8\u9001\u901a\u77e5\u3002</p>"},{"location":"guides/tasks/monitors/#_20","title":"\u914d\u7f6e\u9879\u8bf4\u660e","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>enable</code> \u5e03\u5c14 \u5426 \u662f\u5426\u542f\u7528\u8be5\u76d1\u63a7\uff0c\u9ed8\u8ba4 true\uff1b\u8bbe\u4e3a false \u65f6\u4efb\u52a1\u6682\u505c\uff0c\u70ed\u91cd\u8f7d\u751f\u6548 <code>rooms</code> \u5b57\u7b26\u4e32 \u2705 \u623f\u95f4\u53f7\u5217\u8868\uff0c\u9017\u53f7\u5206\u9694 <code>concurrency</code> \u6574\u6570 \u5426 \u5e76\u53d1\u6570\uff0c\u9ed8\u8ba4 2 <code>monitor_interval_seconds</code> \u6574\u6570 \u5426 \u76d1\u63a7\u95f4\u9694\uff08\u79d2\uff09\uff0c\u9ed8\u8ba4 300 <code>push_channels</code> \u5217\u8868 \u5426 \u63a8\u9001\u901a\u9053\u540d\u79f0\u5217\u8868"},{"location":"guides/tasks/monitors/#_21","title":"\u5982\u4f55\u83b7\u53d6\u623f\u95f4\u53f7","text":"<ul> <li>\u6253\u5f00\u6597\u9c7c\u76f4\u64ad\u95f4\uff0cURL \u5f62\u5982 <code>https://www.douyu.com/307876</code>\uff0c\u6570\u5b57\u90e8\u5206\u5373\u4e3a\u623f\u95f4\u53f7\u3002</li> </ul>"},{"location":"guides/tasks/monitors/#_22","title":"\u914d\u7f6e\u793a\u4f8b","text":"<pre><code>douyu:\n  enable: true\n  rooms: 307876,12306\n  concurrency: 2\n  monitor_interval_seconds: 300\n  push_channels: []\n</code></pre>"},{"location":"guides/tasks/monitors/#_23","title":"\u5c0f\u7ea2\u4e66\u52a8\u6001\u76d1\u63a7","text":"<p>\u76d1\u63a7\u6307\u5b9a\u5c0f\u7ea2\u4e66\u7528\u6237\u7684\u6700\u65b0\u7b14\u8bb0\uff0c\u6709\u65b0\u7b14\u8bb0\u65f6\u63a8\u9001\u901a\u77e5\uff08\u7c7b\u4f3c\u5fae\u535a\u52a8\u6001\uff09\u3002</p>"},{"location":"guides/tasks/monitors/#_24","title":"\u914d\u7f6e\u9879\u8bf4\u660e","text":"\u914d\u7f6e\u9879 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e <code>enable</code> \u5e03\u5c14 \u5426 \u662f\u5426\u542f\u7528\u8be5\u76d1\u63a7\uff0c\u9ed8\u8ba4 true\uff1b\u8bbe\u4e3a false \u65f6\u4efb\u52a1\u6682\u505c\uff0c\u70ed\u91cd\u8f7d\u751f\u6548 <code>profile_ids</code> \u5b57\u7b26\u4e32 \u2705 Profile ID \u5217\u8868\uff0c\u9017\u53f7\u5206\u9694 <code>cookie</code> \u5b57\u7b26\u4e32 \u5426 \u53ef\u9009\uff0c\u9632 ban <code>concurrency</code> \u6574\u6570 \u5426 \u5e76\u53d1\u6570\uff0c\u9ed8\u8ba4 2 <code>monitor_interval_seconds</code> \u6574\u6570 \u5426 \u76d1\u63a7\u95f4\u9694\uff08\u79d2\uff09\uff0c\u9ed8\u8ba4 300 <code>push_channels</code> \u5217\u8868 \u5426 \u63a8\u9001\u901a\u9053\u540d\u79f0\u5217\u8868"},{"location":"guides/tasks/monitors/#profile-id","title":"\u5982\u4f55\u83b7\u53d6 Profile ID","text":"<ul> <li>\u6253\u5f00\u7528\u6237\u4e3b\u9875\uff0cURL \u5f62\u5982 <code>https://www.xiaohongshu.com/user/profile/52d8c541b4c4d60e6c867480</code>\uff0c\u8def\u5f84\u6700\u540e\u7684\u5b57\u7b26\u4e32\u5373\u4e3a Profile ID\u3002</li> </ul>"},{"location":"guides/tasks/monitors/#_25","title":"\u914d\u7f6e\u793a\u4f8b","text":"<pre><code>xhs:\n  enable: true\n  cookie: \"\"\n  profile_ids: 52d8c541b4c4d60e6c867480\n  concurrency: 2\n  monitor_interval_seconds: 300\n  push_channels: []\n</code></pre>"},{"location":"guides/tasks/monitors/#_26","title":"\u901a\u7528\u8bf4\u660e","text":"<ul> <li>\u542f\u7528\u5f00\u5173\uff1a\u5404\u76d1\u63a7\u4efb\u52a1\u652f\u6301 <code>enable</code> \u914d\u7f6e\uff0c\u8bbe\u4e3a <code>false</code> \u65f6\u6682\u505c\u8be5\u76d1\u63a7\uff0c\u70ed\u91cd\u8f7d\u751f\u6548\uff1b\u672a\u914d\u7f6e\u65f6\u9ed8\u8ba4\u4e3a <code>true</code>\u3002  </li> <li>\u542f\u52a8\u65f6\uff1a\u7a0b\u5e8f\u542f\u52a8\u540e\u4f1a\u6309\u914d\u7f6e\u7684\u95f4\u9694\u5f00\u59cb\u8f6e\u8be2\uff0c\u65e0\u9700\u989d\u5916\u89e6\u53d1\u3002  </li> <li>\u70ed\u91cd\u8f7d\uff1a\u4fee\u6539\u5404\u76d1\u63a7\u4efb\u52a1\u914d\u7f6e\u5e76\u4fdd\u5b58 <code>config.yml</code> \u540e\uff0c\u7ea6 5 \u79d2\u5185\u751f\u6548\uff0c\u65e0\u9700\u91cd\u542f\u3002  </li> <li>\u63a8\u9001\uff1a\u82e5\u914d\u7f6e\u4e86 <code>quiet_hours</code>\uff08\u514d\u6253\u6270\uff09\uff0c\u5728\u514d\u6253\u6270\u65f6\u6bb5\u5185\u4e0d\u4f1a\u63a8\u9001\uff0c\u4f46\u76d1\u63a7\u4ecd\u4f1a\u6267\u884c\u5e76\u66f4\u65b0\u6570\u636e\u3002  </li> </ul>"}]}